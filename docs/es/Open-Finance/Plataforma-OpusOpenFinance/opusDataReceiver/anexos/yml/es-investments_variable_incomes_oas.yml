openapi: 3.0.0
info:
  title: API Variable Incomes - Opus Data Receiver
  description: |
    API de información de operaciones de Renta Variable guardadas en ODR. Utiliza como patrón la misma definición de Renta Variable del Open Finance Brasil – Fase 4.

    API que devuelve información de operaciones de inversión del tipo Renta Variable mantenidas en las instituciones transmisoras por sus clientes, incluyendo datos como información del producto, cantidad, saldos en posición del cliente, movimientos financieros y detalles de la nota de negociación.

    No posee segregación entre persona natural y persona jurídica. Requiere registro del cliente en ODR para todos los endpoints.

    La granularidad de exposición de operaciones de renta variable se da por cada activo (ticker) de la cartera del cliente.
    El compartimiento considera lote estándar y fraccionario, sin embargo, en Open Finance Brasil, la información se consolida vía ticker del lote estándar.
    El desfase en relación al canal electrónico de la institución debe ser el cierre (pregón) del día anterior (d-1).

    En relación al alquiler de acciones: en este momento no forma parte del alcance del compartimiento la cartera/posición de alquiler del cliente (activos alquilados y movimientos relacionados a esos activos).
    Solo debe compartirse las transacciones de pago o recepción de intereses provenientes de los contratos de acciones alquiladas (o donadas) por los clientes.

    En relación a los productos FIAGRO y FII: cuando negociados en mostrador, están fuera del alcance del Open Finance.

    Para el identificador de la inversión (investmentId) debe adoptarse el siguiente comportamiento:

    - Después de 12 meses sin movimientos y con cantidad de activos en cero, el resourceId correspondiente al investmentId en cuestión debe pasar al estado UNAVAILABLE (considerando registro del cliente en ODR válido);

    - En las situaciones en que el cliente compre nuevamente el activo después de un período de 12 meses sin movimiento y con cantidad de activos en cero, debe utilizarse el mismo identificador (investmentId). Específicamente para tales productos, el estado del recurso en resources debe pasar de UNAVAILABLE a AVAILABLE.

    Sigue abajo tabla con el alcance de productos a considerar para compartimiento:
     ```
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | CLASE DE ACTIVOS     | PRODUCTO                      | SUBPRODUCTO          | DENOMINACIÓN                      |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Fondos de Inversión           |     -                | FIAGRO Listado                    |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Acciones                      | Suscripción          | Bonus / Derecho / Recibo          |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Fondos de Inversión           | Fondo inmobiliario   | FII Listado                       |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Acciones                      | Al contado           | ON / PN / UNIT                    |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Fondos de índices             | ETF                  | ETF de Renta Variable             |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Fondos de índices             | ETF                  | ETF Internacional                 |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       | Renta Variable       | Fondos de índices             | ETF Renta Fija       | ETF Renta Fija                    |
       |----------------------|-------------------------------|----------------------|-----------------------------------|
       ```
  version: 1.2.1
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
tags:
  - name: Product List
    description: Obtiene la lista de operaciones de Renta Variable mantenidas por el cliente en la institución transmisora y para las cuales haya proporcionado consentimiento.
  - name: Product Identification
    description: Obtiene los datos de la operación de Renta Variable identificada por investmentId.
  - name: Balances
    description: Obtiene la posición de la operación de Renta Variable identificada por investmentId.
  - name: Transactions
    description: Obtiene los movimientos históricos (últimos 12 meses) de la operación de Renta Variable identificada por investmentId.
  - name: Transactions Current
    description: 'Obtiene los movimientos recientes de la operación de Renta Variable identificada por investmentId. El período a considerar para presentación de movimientos será de hasta 7 días - 7 días anteriores a la consulta, incluyendo el día de la consulta (D-6).'
  - name: Broker Note Details
    description: |
      Obtiene la información de la nota de negociación identificada en los movimientos de compra y venta de activos en bolsa.
      El brokerNoteId se envía en los movimientos de compra o venta de activos y debe pasarse como parámetro de entrada en el endpoint "Nota de Negociación". Como contenido del campo brokerNoteId se espera que la transmisora genere un identificador único, inmutable, para cada número (natural) de nota de negociación.
paths:
  /setup/investments/variable-income:
    get:
      tags:
        - Product List
      summary: Obtiene la lista de operaciones de Renta Variable mantenidas por el cliente en la institución transmisora y para las cuales haya proporcionado consentimiento.
      operationId: variableIncomesGetInvestments
      description: Obtiene la lista de operaciones de Renta Variable mantenidas por el cliente en la institución transmisora y para las cuales haya proporcionado consentimiento.
      parameters:
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/pageSize'
        - $ref: '#/components/parameters/pagination-key'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseVariableIncomesProductList'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '502':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'

  '/setup/investments/variable-income/{investmentId}':
    get:
      tags:
        - Product Identification
      summary: Obtiene los datos de la operación de Renta Variable identificada por investmentId.
      operationId: variableIncomesGetInvestmentsInvestmentId
      description: Obtiene los datos de la operación de Renta Variable identificada por investmentId.
      parameters:
        - $ref: '#/components/parameters/InvestmentId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseVariableIncomesProductIdentification'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '502':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'

  '/setup/investments/variable-income/{investmentId}/balances':
    get:
      tags:
        - Balances
      summary: Obtiene la posición de la operación de Renta Variable identificada por investmentId.
      operationId: variableIncomesGetInvestmentsInvestmentIdBalances
      description: |
        Obtiene la posición de la operación de Renta Variable identificada por investmentId.

        En los casos en que no haya posición para la inversión, es decir, cantidad de activos y valores monetarios en cero, pero el mismo aún esté en el plazo de exposición (hasta 12 meses después del último movimiento), se debe retornar status code 200 y para el payload de retorno considerar los valores abajo. Campos no obligatorios no deben ser retornados:

        - Valores monetarios: 0.00
        - Cantidad de activos: 0.00
        - Fecha de la última posición: mismo contenido (fecha) del campo requestDateTime, con excepción de la fracción correspondiente a la hora
        - Factor de precio: 0.00
      parameters:
        - $ref: '#/components/parameters/InvestmentId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
      responses:
        '200':
          $ref: '#/components/responses/ResponseVariableIncomesBalances'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '502':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'

  '/setup/investments/variable-income/{investmentId}/transactions':
    get:
      tags:
        - Transactions
      summary: Obtiene los movimientos históricos (últimos 12 meses) de la operación de Renta Variable identificada por investmentId.
      operationId: variableIncomesGetInvestmentsInvestmentIdTransactions
      description: Obtiene los movimientos históricos (últimos 12 meses) de la operación de Renta Variable identificada por investmentId.
      parameters:
        - $ref: '#/components/parameters/InvestmentId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/pageSize'
        - $ref: '#/components/parameters/pagination-key'
        - $ref: '#/components/parameters/fromTransactionDate'
        - $ref: '#/components/parameters/toTransactionDate'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseVariableIncomesTransactions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'

  '/setup/investments/variable-income/{investmentId}/transactions-current':
    get:
      tags:
        - Transactions Current
      summary: 'Obtiene los movimientos recientes de la operación de Renta Variable identificada por investmentId. El período a considerar para presentación de movimientos será de hasta 7 días - 7 días anteriores a la consulta, incluyendo el día de la consulta (D-6).'
      operationId: variableIncomesGetInvestmentsInvestmentIdTransactionsCurrent
      description: 'Obtiene los movimientos recientes de la operación de Renta Variable identificada por investmentId. El período a considerar para presentación de movimientos será de hasta 7 días - 7 días anteriores a la consulta, incluyendo el día de la consulta (D-6).'
      parameters:
        - $ref: '#/components/parameters/InvestmentId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/pageSize'
        - $ref: '#/components/parameters/pagination-key'
        - $ref: '#/components/parameters/fromTransactionDateCurrent'
        - $ref: '#/components/parameters/toTransactionDateCurrent'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseVariableIncomesTransactionsCurrent'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'

  '/setup/investments/variable-income/broker-notes/{brokerNoteId}':
    get:
      tags:
        - Broker Note Details
      summary: |
        Obtiene la información de la nota de negociación identificada en los movimientos de compra y venta de activos en bolsa.
        El brokerNoteId se envía en los movimientos de compra o venta de activos y debe pasarse como parámetro de entrada en el endpoint "Nota de Negociación". Como contenido del campo brokerNoteId se espera que la transmisora genere un identificador único, inmutable, para cada número (natural) de nota de negociación.
      operationId: variableIncomesGetInvestmentsInvestmentIdBrokerNotesBrokerNoteId
      description: |
        Obtiene la información de la nota de negociación identificada en los movimientos de compra y venta de activos en bolsa.
        El brokerNoteId se envía en los movimientos de compra o venta de activos y debe pasarse como parámetro de entrada en el endpoint "Nota de Negociación". Como contenido del campo brokerNoteId se espera que la transmisora genere un identificador único, inmutable, para cada número (natural) de nota de negociación.
      parameters:
        - $ref: '#/components/parameters/BrokerNoteId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
      responses:
        '200':
          $ref: '#/components/responses/ResponseVariableIncomesBroker'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '502':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'

components:
  schemas:
    ResponseVariableIncomesProductList:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/ResponseVariableIncomesProductListData'
        links:
          $ref: '#/components/schemas/VariableIncomesLinks'
        meta:
          $ref: '#/components/schemas/VariableIncomesMeta'
      additionalProperties: false
    ResponseVariableIncomesProductIdentification:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          $ref: '#/components/schemas/ResponseVariableIncomesProductIdentificationData'
        links:
          $ref: '#/components/schemas/VariableIncomesLinks'
        meta:
          $ref: '#/components/schemas/VariableIncomesMeta'
      additionalProperties: false
    ResponseVariableIncomesBalances:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 1
          maxItems: 1
          items:
            $ref: '#/components/schemas/ResponseVariableIncomesBalanceData'
        links:
          $ref: '#/components/schemas/VariableIncomesLinks'
        meta:
          $ref: '#/components/schemas/VariableIncomesMeta'
      additionalProperties: false
    ResponseVariableIncomesTransactions:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/ResponseVariableIncomesTransactionsData'
        links:
          $ref: '#/components/schemas/VariableIncomesTransactionsLinks'
        meta:
          $ref: '#/components/schemas/MetaSingle'
      additionalProperties: false
    ResponseVariableIncomesTransactionsCurrent:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/ResponseVariableIncomesTransactionsCurrentData'
        links:
          $ref: '#/components/schemas/VariableIncomesTransactionsLinks'
        meta:
          $ref: '#/components/schemas/MetaSingle'
      additionalProperties: false
    ResponseVariableIncomesProductListData:
      type: object
      description: Lista de activos de renta variable mantenidos por el cliente en la institución transmisora y para los cuales haya proporcionado consentimiento.
      required:
        - brandName
        - companyCnpj
        - investmentId
      properties:
        brandName:
          type: string
          description: 'Nombre de la Marca reportada por el participante en Open Finance. Se recomienda utilizar, siempre que posible, el mismo nombre de marca atribuido en el campo del directorio Customer Friendly Server Name (Authorisation Server).'
          pattern: '[\w\W\s]*'
          example: Organización A
          maxLength: 80
        companyCnpj:
          type: string
          description: 'Número completo del CNPJ de la institución responsable por el Registro - el CNPJ corresponde al número de inscripción en el Registro de Persona Jurídica. Debe tener solo los números del CNPJ, sin máscara.'
          maxLength: 14
          pattern: '^\d{14}$'
          example: '21281590001660'
        investmentId:
          type: string
          description: Identifica de forma única la relación del cliente con el producto, manteniendo las reglas de inmutabilidad dentro de la institución transmisora. En los casos en que el cliente, después de completar 12 meses del último movimiento y con cantidad de activos en cero (cliente no tiene más posesión del producto bajo custodia de la transmisora), compre nuevamente el activo que ya invirtió en períodos pasados, mantener el mismo investmentId anteriormente utilizado.
          maxLength: 100
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          example: '92792126019929200000000000000000000000000'
      additionalProperties: false
    ResponseVariableIncomesProductIdentificationData:
      type: object
      required:
        - isinCode
        - ticker
      properties:
        issuerInstitutionCnpjNumber:
          type: string
          description: CNPJ de la institución emisora. Si la transmisora posee la información el envío de este campo es obligatorio.
          maxLength: 14
          pattern: '^\d{14}$'
          example: '11225860000140'
        isinCode:
          type: string
          description: |
            Código ISIN de la emisión, Código ISIN del producto, Código de la emisora: código universal que identifica cada valor mobiliario o instrumento financiero, conforme Norma ISO 6166.
          maxLength: 12
          pattern: '^[A-Z]{2}([A-Z0-9]){9}\d{1}$'
          example: BRCST4CTF001
        ticker:
          type: string
          description: Código de negociación para identificación de activos negociados en bolsa.
          maxLength: 35
          pattern: '[\w\W\s]*'
          example: PETR4
      additionalProperties: false
    ResponseVariableIncomesBalanceData:
      type: object
      required:
        - referenceDate
        - priceFactor
        - grossAmount
        - blockedBalance
        - quantity
        - closingPrice
      properties:
        referenceDate:
          type: string
          format: date
          description: Posición cerrada para el activo de la fecha del día anterior.
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2023-01-07'
          maxLength: 10
        priceFactor:
          type: string
          format: double
          description: |
            Factor que indica el número de acciones utilizadas para la formación del precio. Valor informado debe ser mayor que cero.
          pattern: '^\d{1,15}\.\d{2,8}$'
          maxLength: 24
          example: '100.0005'
        grossAmount:
          $ref: '#/components/schemas/VariableIncomesBalancesGrossAmount'
        blockedBalance:
          $ref: '#/components/schemas/VariableIncomesBalancesBlockedBalance'
        quantity:
          type: string
          format: double
          description: Cantidad total del activo en la fecha de referencia.
          pattern: '^-?\d{1,15}\.\d{2,8}$'
          maxLength: 25
          example: '1000.00000004'
        closingPrice:
          $ref: '#/components/schemas/VariableIncomesBalancesClosingPrice'
    ResponseVariableIncomesTransactionsData:
      type: object
      required:
        - type
        - transactionType
        - transactionDate
        - transactionValue
        - transactionId
      properties:
        type:
          $ref: '#/components/schemas/EnumVariableIncomesTransactionsType'
        transactionType:
          $ref: '#/components/schemas/EnumVariableIncomesTransactionsTransactionType'
        transactionTypeAdditionalInfo:
          type: string
          description: |
            Información adicional del tipo de movimiento, para llenado en el caso de movimientos no delimitados en el dominio.

            [Restricción] Campo de llenado obligatorio por las participantes cuando el campo 'transactionType' sea llenado con el valor 'OUTROS'.
          maxLength: 100
          pattern: '[\w\W\s]*'
        transactionDate:
          type: string
          format: date
          description: |
            Fecha del movimiento.

            [Restricción] Fecha del pregón: compartir movimientos hasta la fecha de la posición.
          maxLength: 10
          minLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-15'
        priceFactor:
          type: string
          format: double
          description: |
            Factor que indica el número de acciones utilizadas para la formación del precio. Valor informado debe ser mayor que cero.
          pattern: '^\d{1,15}\.\d{2,8}$'
          maxLength: 24
          example: '100.0005'
        transactionUnitPrice:
          type: object
          description: |
            Precio unitario del movimiento: valor de la unidad del producto en el movimiento de la inversión.

            [Restricción] Campo de llenado obligatorio por las participantes cuando el campo 'transactionType' sea llenado con los valores 'COMPRA' o 'VENDA'.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              maxLength: 21
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              example: '1000.0004'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        transactionQuantity:
          type: string
          format: double
          description: |
            Cantidad de activos movidos.

            [Restricción] Campo de llenado obligatorio por las participantes cuando el campo 'transactionType' sea llenado con los valores 'COMPRA' o 'VENDA'.
          maxLength: 24
          pattern: '^\d{1,15}\.\d{2,8}$'
          example: '42.00000025'
        transactionValue:
          type: object
          description: Valor de la operación realizada por el cliente.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              maxLength: 20
              pattern: '^\d{1,15}\.\d{2,4}$'
              example: '1000.04'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        transactionId:
          type: string
          maxLength: 100
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          example: ABCD2126019929279212650822221989319253344
          description: Código o identificador único prestado por la institución que mantiene la representación individual del movimiento.
        brokerNoteId:
          type: string
          description: |
            Identificador de la nota de negociación.

            [Restricción] Información de envío obligatorio caso el motivo del movimiento sea compra o venta.
          maxLength: 100
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          example: XWYZ555019929279212650822221989319252233
      additionalProperties: false
    ResponseVariableIncomesTransactionsCurrentData:
      type: object
      required:
        - type
        - transactionType
        - transactionDate
        - transactionValue
        - transactionId
      properties:
        type:
          $ref: '#/components/schemas/EnumVariableIncomesTransactionsCurrentType'
        transactionType:
          $ref: '#/components/schemas/EnumVariableIncomesTransactionsCurrentTransactionType'
        transactionTypeAdditionalInfo:
          type: string
          description: |
            Información adicional del tipo de movimiento, para llenado en el caso de movimientos no delimitados en el dominio.

            [Restricción] Campo de llenado obligatorio por las participantes cuando el campo 'transactionType' sea llenado con el valor 'OUTROS'.
          maxLength: 100
          pattern: '[\w\W\s]*'
        transactionDate:
          type: string
          format: date
          description: |
            Fecha del movimiento.

            [Restricción] Fecha del pregón: compartir movimientos hasta la fecha de la posición.
          maxLength: 10
          minLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-15'
        priceFactor:
          type: string
          format: double
          description: |
            Factor que indica el número de acciones utilizadas para la formación del precio. Valor informado debe ser mayor que cero.
          pattern: '^\d{1,15}\.\d{2,8}$'
          maxLength: 24
          example: '100.0005'
        transactionUnitPrice:
          type: object
          description: |
            Precio unitario del movimiento: valor de la unidad del producto en el movimiento de la inversión.

            [Restricción] Campo de llenado obligatorio por las participantes cuando el campo 'transactionType' sea llenado con los valores 'COMPRA' o 'VENDA'.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              maxLength: 21
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              example: '1000.0004'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        transactionQuantity:
          type: string
          format: double
          description: |
            Cantidad de activos movidos.

            [Restricción] Campo de llenado obligatorio por las participantes cuando el campo 'transactionType' sea llenado con los valores 'COMPRA' o 'VENDA'.
          maxLength: 24
          pattern: '^\d{1,15}\.\d{2,8}$'
          example: '42.00000025'
        transactionValue:
          type: object
          description: Valor de la operación realizada por el cliente.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              maxLength: 20
              pattern: '^\d{1,15}\.\d{2,4}$'
              example: '1000.04'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        transactionId:
          type: string
          maxLength: 100
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          example: ABCD2126019929279212650822221989319253344
          description: Código o identificador único prestado por la institución que mantiene la representación individual del movimiento.
        brokerNoteId:
          type: string
          description: |
            Identificador de la nota de negociación.

            [Restricción] Información de envío obligatorio caso el motivo del movimiento sea compra o venta.
          maxLength: 100
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          example: XWYZ555019929279212650822221989319252233
      additionalProperties: false
    VariableIncomesBalancesBlockedBalance:
      type: object
      description: Valor no disponible para movimiento en aquel momento por cualquier motivo (bloqueo judicial, bloqueo en garantía, entre otros). Plazo de carencia no es considerado como bloqueo.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          description: Valor relacionado al objeto.
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          example: '1000.04'
        currency:
          type: string
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          example: BRL
    VariableIncomesBalancesClosingPrice:
      type: object
      description: Precio de cierre de la fecha de referencia.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          description: Valor relacionado al objeto.
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          example: '1000.0004'
        currency:
          type: string
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          example: BRL
    VariableIncomesBalancesGrossAmount:
      type: object
      description: 'Valor de la inversión anterior a la deducción de impuestos, tasas y tarifas (si hubiere), actualizado en la fecha de referencia. Cantidad de activos dividido por el Factor de cotización y multiplicado por el precio de cierre de la fecha de referencia.'
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          description: Valor relacionado al objeto.
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          example: '1000.04'
        currency:
          type: string
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          example: BRL
    MetaSingle:
      type: object
      description: Meta información referente a la API solicitada.
      required:
        - requestDateTime
      properties:
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    VariableIncomesMeta:
      type: object
      description: Meta información referente a la API solicitada.
      required:
        - totalRecords
        - totalPages
        - requestDateTime
      properties:
        totalRecords:
          type: integer
          format: int32
          description: Número total de registros en el resultado
          example: 1
        totalPages:
          type: integer
          format: int32
          description: Número total de páginas en el resultado
          example: 1
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
      additionalProperties: false
    VariableIncomesLinks:
      type: object
      description: Referencias para otros recursos de la API solicitada.
      required:
        - self
      properties:
        self:
          type: string
          format: url
          maxLength: 2000
          description: URI completo que generó la respuesta actual.
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        first:
          type: string
          format: url
          maxLength: 2000
          description: URI de la primera página que originó esta lista de resultados. Restricción - Obligatorio cuando no sea la primera página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        prev:
          type: string
          format: url
          maxLength: 2000
          description: "URI de la página anterior de esta lista de resultados. Restricción - Obligatorio cuando no sea la primera página de la respuesta"
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        next:
          type: string
          format: url
          maxLength: 2000
          description: URI de la próxima página de esta lista de resultados. Restricción - Obligatorio cuando no sea la última página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        last:
          type: string
          format: url
          maxLength: 2000
          description: URI de la última página de esta lista de resultados. Restricción - Obligatorio cuando no sea la última página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
    VariableIncomesTransactionsLinks:
      type: object
      description: Referencias para otros recursos de la API solicitada.
      required:
        - self
      properties:
        self:
          type: string
          format: url
          maxLength: 2000
          description: URI completo que generó la respuesta actual.
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        first:
          type: string
          format: url
          maxLength: 2000
          description: URI de la primera página que originó esta lista de resultados. Restricción - Obligatorio cuando no sea la primera página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        prev:
          type: string
          format: url
          maxLength: 2000
          description: "URI de la página anterior de esta lista de resultados. Restricción - Obligatorio cuando no sea la primera página de la respuesta"
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        next:
          type: string
          format: url
          maxLength: 2000
          description: URI de la próxima página de esta lista de resultados. Restricción - Obligatorio cuando no sea la última página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
    EnumVariableIncomesTransactionsType:
      type: string
      description: |
        Tipo de movimiento en la visión de inversión: entrada o salida. En los casos de pago de dividendos, JCP y alquileres, se conviene que se considerará que el tipo de movimiento será salida.
      enum:
        - ENTRADA
        - SAIDA
      example: SAIDA
    EnumVariableIncomesTransactionsTransactionType:
      type: string
      description: |
        El campo debe clasificar el movimiento en uno de los tipos descritos: compra, venta, dividendos, JCP, alquileres, transferencia de custodia, transferencia de titularidad y otros.
        El transmisor debe clasificar los movimientos disponibles asociándolos a uno de los ítems del Enum listado en este campo.
        La opción OUTROS solo debe ser utilizada para los casos en que de hecho el movimiento compartido no pueda ser clasificado como uno de los ítems de este Enum.
        La expresión "alquileres" deberá ser utilizada solo para informar los intereses/remuneración pagados/recibidos por el cliente de los contratos de acciones alquiladas, siguiendo el mismo entendimiento de ENTRADA/SALIDA de la expresión "dividendos".
      enum:
        - COMPRA
        - VENDA
        - DIVIDENDOS
        - JCP
        - ALUGUEIS
        - TRANSFERENCIA_CUSTODIA
        - TRANSFERENCIA_TITULARIDADE
        - OUTROS
      example: DIVIDENDOS
    EnumVariableIncomesTransactionsCurrentType:
      type: string
      description: |
        Tipo de movimiento en la visión de inversión: entrada o salida. En los casos de pago de dividendos, JCP y alquileres, se conviene que se considerará que el tipo de movimiento será salida.
      enum:
        - ENTRADA
        - SAIDA
      example: SAIDA
    EnumVariableIncomesTransactionsCurrentTransactionType:
      type: string
      description: |
        El campo debe clasificar el movimiento en uno de los tipos descritos: compra, venta, dividendos, JCP, alquileres, transferencia de custodia, transferencia de titularidad y otros.
        El transmisor debe clasificar los movimientos disponibles asociándolos a uno de los ítems del Enum listado en este campo.
        La opción OUTROS solo debe ser utilizada para los casos en que de hecho el movimiento compartido no pueda ser clasificado como uno de los ítems de este Enum.
        La expresión "alquileres" deberá ser utilizada solo para informar los intereses/remuneración pagados/recibidos por el cliente de los contratos de acciones alquiladas, siguiendo el mismo entendimiento de ENTRADA/SALIDA de la expresión "dividendos".
      enum:
        - COMPRA
        - VENDA
        - DIVIDENDOS
        - JCP
        - ALUGUEIS
        - TRANSFERENCIA_CUSTODIA
        - TRANSFERENCIA_TITULARIDADE
        - OUTROS
      example: DIVIDENDOS
    ResponseVariableIncomesBroker:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          $ref: '#/components/schemas/ResponseVariableIncomesBrokerData'
        links:
          $ref: '#/components/schemas/VariableIncomesLinks'
        meta:
          $ref: '#/components/schemas/VariableIncomesMeta'
      additionalProperties: false
    ResponseVariableIncomesBrokerData:
      type: object
      required:
        - brokerNoteNumber
        - grossValue
        - brokerageFee
        - clearingSettlementFee
        - clearingRegistrationFee
        - stockExchangeAssetTradeNoticeFee
        - stockExchangeFee
        - clearingCustodyFee
        - taxes
        - incomeTax
        - netValue
      properties:
        brokerNoteNumber:
          type: string
          description: Identificador de la nota de negociación.
          maxLength: 16
          pattern: '^\d{1,16}$'
          example: '1854009930314350'
        grossValue:
          type: object
          description: El valor de la nota de negociación es el sumatorio de las operaciones realizadas. Total de compra y venta del día.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '5000.0024'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        brokerageFee:
          type: object
          description: |
            La tasa de corretaje incide sobre el valor bruto de la nota de negociación, y es libremente pactada entre el inversor y su intermediario.
            Puede ser cobrada como un valor fijo por operación, o como un porcentual sobre el valor negociado, o aún de forma mixta, conforme guía CVM del inversor.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        clearingSettlementFee:
          type: object
          description: Valor cobrado para liquidación en la custodia.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        clearingRegistrationFee:
          type: object
          description: Valor cobrado para registro en la custodia.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        stockExchangeAssetTradeNoticeFee:
          type: object
          description: Valor cobrado por la bolsa por el aviso de negociación de activo.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        stockExchangeFee:
          type: object
          description: Valor cobrado por la bolsa para remunerar los servicios de registro prestados.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        clearingCustodyFee:
          type: object
          description: Tasa cobrada por las IF para custodia.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        taxes:
          type: object
          description: 'Impuestos cobrados en la operación, inclusive impuesto de renta day-trade, excepto impuesto de renta retenido en la fuente.'
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        incomeTax:
          type: object
          description: Impuesto de renta retenido en la fuente.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '13.8751'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
        netValue:
          type: object
          description: Valor líquido de la nota de negociación después de gastos con tasa de corretaje, tasa de liquidación, tasa de registro, tasa A.N.A, emolumentos, tasa de custodia, impuestos e IRRF.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              description: Valor relacionado al objeto.
              pattern: '^-?\d{1,15}\.\d{2,4}$'
              maxLength: 21
              example: '4889.0012'
            currency:
              type: string
              description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
              pattern: '^[A-Z]{3}$'
              maxLength: 3
              example: BRL
      additionalProperties: false
    ResponseErrorMetaSingle:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          $ref: '#/components/schemas/MetaOnlyRequestDateTime'
    MetaOnlyRequestDateTime:
      type: object
      description: Meta información referente a la API solicitada.
      required:
        - requestDateTime
      properties:
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    ResponseErrorWithAbleAdditionalProperties:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          $ref: '#/components/schemas/MetaWithAbleAdditionalProperties'
    MetaWithAbleAdditionalProperties:
      type: object
      description: Meta información referente a la API solicitada.
      required:
        - totalRecords
        - totalPages
        - requestDateTime
      properties:
        totalRecords:
          type: integer
          format: int32
          description: Número total de registros en el resultado
          example: 1
        totalPages:
          type: integer
          format: int32
          description: Número total de páginas en el resultado
          example: 1
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
  parameters:
    InvestmentId:
      name: investmentId
      in: path
      description: Identifica de forma única la relación del cliente con el producto, manteniendo las reglas de inmutabilidad dentro de la institución transmisora.
      required: true
      schema:
        type: string
        pattern: '^[a-zA-Z0-9][a-zA-Z0-9\-]{0,99}$'
        maxLength: 100
        example: '92792126019929200000000000000000000000000'
    SetupID:
      name: setupId
      in: header
      description: |
          El SetupUUID es el identificador único en ODR (GUID).
          Deberá ser usado para realizar todas las otras llamadas en ODR, como búsqueda de cuentas, transacciones, etc.
      required: true
      schema:
        type: string
        format: uuid
        example: '550e8400-e29b-41d4-a716-446655440000'
    xFapiAuthDate:
      name: x-fapi-auth-date
      in: header
      description: 'Fecha en que el usuario inició sesión por última vez con el receptor. Representada de acuerdo con RFC7231. Ejemplo: Sun, 10 Sep 2017 19:43:31 UTC.'
      required: false
      schema:
        type: string
        pattern: '^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4} \d{2}:\d{2}:\d{2} (GMT|UTC)$'
        minLength: 29
        maxLength: 29
    xFapiCustomerIpAddress:
      name: x-fapi-customer-ip-address
      in: header
      description: La dirección IP del usuario si está actualmente logueado con el receptor.
      required: false
      schema:
        type: string
        pattern: '[\w\W\s]*'
        minLength: 1
        maxLength: 100
    xFapiInteractionId:
      name: x-fapi-interaction-id
      in: header
      description: Un UUID RFC4122 usado como ID de correlación entre request y response. Campo de generación y envío obligatorio por la receptora (client) y su valor debe ser "reflejado" por la transmisora (server) en el encabezado de respuesta.
      required: false
      schema:
        type: string
        pattern: '^[a-zA-Z0-9][a-zA-Z0-9\-]{0,99}$'
        minLength: 1
        maxLength: 100
    xCustomerUserAgent:
      name: x-customer-user-agent
      in: header
      description: Indica el user-agent que el usuario utiliza.
      required: false
      schema:
        type: string
        pattern: '[\w\W\s]*'
        minLength: 1
        maxLength: 100
    page:
      name: page
      in: query
      description: Número de la página que está siendo solicitada (el valor de la primera página es 1).
      schema:
        type: integer
        default: 1
        minimum: 1
        maximum: 2147483647
        format: int32
    pageSize:
      name: page-size
      in: query
      description: Cantidad total de registros por páginas. La transmisora debe considerar entrada como 25, caso sea informado algún valor menor por la receptora. Mientras haya más que 25 registros a enviar, la transmisora debe considerar el mínimo por página como 25. Solamente la última página devuelta (o primera, en el caso de página única) puede contener menos de 25 registros. Más información, acceda Especificaciones de APIs > Patrones > Paginación.
      schema:
        type: integer
        default: 25
        minimum: 25
        format: int32
        maximum: 1000
    pagination-key:
      name: pagination-key
      in: query
      description: 'Identificador de rellamada, utilizado para evitar el conteo de llamadas al endpoint durante la paginación.'
      schema:
        type: string
        maxLength: 2048
        pattern: '[\w\W\s]*'
    fromTransactionDate:
      name: fromTransactionDate
      description: |
        Fecha inicial de filtrado.
        [Restricción] Debe obligatoriamente ser enviado caso el campo toTransactionDate sea informado. Caso no sea informado, debe asumirse el día actual.
      required: false
      in: query
      schema:
        type: string
        format: date
        maxLength: 10
        example: '2022-01-01'
    toTransactionDate:
      name: toTransactionDate
      description: |
        Fecha final de filtrado.
        [Restricción] Debe obligatoriamente ser enviado caso el campo fromTransactionDate sea informado. Caso no sea informado, debe asumirse el día actual.
      required: false
      in: query
      schema:
        type: string
        format: date
        maxLength: 10
        example: '2022-12-31'
    fromTransactionDateCurrent:
      name: fromTransactionDate
      description: |
        Fecha inicial de filtrado. El período máximo utilizado en el filtro es de 7 días inclusive (D-6).
        [Restricción] Debe obligatoriamente ser enviado caso el campo toTransactionDate sea informado. Caso no sea informado, debe asumirse el día actual.
      required: false
      in: query
      schema:
        type: string
        format: date
        maxLength: 10
        example: '2023-02-01'
    toTransactionDateCurrent:
      name: toTransactionDate
      description: |
        Fecha final de filtrado. El período máximo utilizado en el filtro es de 7 días inclusive (D-6).
        [Restricción] Debe obligatoriamente ser enviado caso el campo fromTransactionDate sea informado. Caso no sea informado, debe asumirse el día actual.
      required: false
      in: query
      schema:
        type: string
        format: date
        maxLength: 10
        example: '2023-02-01'
    BrokerNoteId:
      name: brokerNoteId
      in: path
      description: 'Identifica de forma única la relación del cliente con el producto, manteniendo las reglas de inmutabilidad dentro de la institución transmisora.'
      required: true
      schema:
        type: string
        pattern: '^[a-zA-Z0-9][a-zA-Z0-9\-]{0,99}$'
        maxLength: 100
        example: '92792126019929200000000000000000000000000'
  securitySchemes:
    OAuth2AuthorizationCode:
      type: oauth2
      description: Flujo OAuth necesario para que la receptora tenga acceso a los datos en la institución transmisora. Requiere el proceso de redireccionamiento y autenticación del usuario a que se refieren los datos.
      flows:
        authorizationCode:
          authorizationUrl: 'https://authserver.example/authorization'
          tokenUrl: 'https://authserver.example/token'
          scopes:
            variable-incomes: Alcance necesario para acceso a la API Variable Incomes. El control de los endpoints específicos se hace vía permissions.
  responses:
    ResponseVariableIncomesBalances:
      description: Datos obtenidos con éxito
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseVariableIncomesBalances'
    OKResponseVariableIncomesProductList:
      description: Datos de fondos de inversión obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseVariableIncomesProductList'
    OKResponseVariableIncomesProductIdentification:
      description: Datos de fondos de inversión obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseVariableIncomesProductIdentification'
    OKResponseVariableIncomesTransactions:
      description: Datos de fondos de inversión obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseVariableIncomesTransactions'
    OKResponseVariableIncomesTransactionsCurrent:
      description: Datos de fondos de inversión obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseVariableIncomesTransactionsCurrent'
    ResponseVariableIncomesBroker:
      description: Datos de fondos de inversión obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseVariableIncomesBroker'
    BadRequest:
      description: 'La solicitud fue mal formada, omitiendo atributos obligatorios, sea en el payload o a través de atributos en la URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Forbidden:
      description: El token tiene alcance incorrecto o una política de seguridad fue violada
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    GatewayTimeout:
      description: GATEWAY TIMEOUT - La solicitud no fue atendida dentro del tiempo límite establecido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    InternalServerError:
      description: Ocurrió un error en el gateway de la API o en el microservicio
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Locked:
      description: Bloqueado
      content:
        application/json; charset=utf-8:
          schema:
            type: object
            required:
              - errors
            properties:
              errors:
                type: array
                minItems: 1
                maxItems: 13
                items:
                  type: object
                  required:
                    - code
                    - title
                    - detail
                  properties:
                    code:
                      description: Código de error específico del endpoint
                      type: string
                      pattern: '[\w\W\s]*'
                      maxLength: 255
                    title:
                      description: Título legible por humanos de este error específico
                      type: string
                      pattern: '[\w\W\s]*'
                      maxLength: 255
                    detail:
                      description: Descripción legible por humanos de este error específico
                      type: string
                      pattern: '[\w\W\s]*'
                      maxLength: 2048
              meta:
                type: object
                description: Meta información referente a la API solicitada.
                required:
                  - requestDateTime
                properties:
                  requestDateTime:
                    description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
                    type: string
                    maxLength: 20
                    format: date-time
                    example: '2021-05-21T08:30:00Z'
    MethodNotAllowed:
      description: El consumidor intentó acceder al recurso con un método no soportado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    NotAcceptable:
      description: La solicitud contenía un encabezado Accept diferente de los tipos de medios permitidos o un conjunto de caracteres diferente de UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    NotFound:
      description: El recurso solicitado no existe o no fue implementado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    TooManyRequests:
      description: 'La operación fue rechazada, pues muchas solicitudes fueron hechas dentro de un determinado período o el límite global de solicitudes concurrentes fue alcanzado'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Unauthorized:
      description: Encabezado de autenticación ausente/inválido o token inválido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    UnprocessableEntity:
      description: 'La sintaxis de la solicitud es correcta, pero no fue posible procesar las instrucciones presentes.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    BadRequestWithAdditionalProperties:
      description: 'La solicitud fue mal formada, omitiendo atributos obligatorios, sea en el payload o a través de atributos en la URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    ForbiddenWithAdditionalProperties:
      description: El token tiene alcance incorrecto o una política de seguridad fue violada
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    InternalServerErrorWithAdditionalProperties:
      description: Ocurrió un error en el gateway de la API o en el microservicio
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    LockedWithAdditionalProperties:
      description: Bloqueado
      content:
        application/json; charset=utf-8:
          schema:
            type: object
            required:
              - errors
            properties:
              errors:
                type: array
                minItems: 1
                maxItems: 13
                items:
                  type: object
                  required:
                    - code
                    - title
                    - detail
                  properties:
                    code:
                      description: Código de error específico del endpoint
                      type: string
                      pattern: '[\w\W\s]*'
                      maxLength: 255
                    title:
                      description: Título legible por humanos de este error específico
                      type: string
                      pattern: '[\w\W\s]*'
                      maxLength: 255
                    detail:
                      description: Descripción legible por humanos de este error específico
                      type: string
                      pattern: '[\w\W\s]*'
                      maxLength: 2048
              meta:
                type: object
                description: Meta información referente a la API solicitada.
                required:
                  - totalRecords
                  - totalPages
                  - requestDateTime
                properties:
                  totalRecords:
                    type: integer
                    format: int32
                    description: Número total de registros en el resultado
                    example: 1
                  totalPages:
                    type: integer
                    format: int32
                    description: Número total de páginas en el resultado
                    example: 1
                  requestDateTime:
                    description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
                    type: string
                    maxLength: 20
                    format: date-time
                    example: '2021-05-21T08:30:00Z'
    MethodNotAllowedWithAdditionalProperties:
      description: El consumidor intentó acceder al recurso con un método no soportado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    NotAcceptableWithAdditionalProperties:
      description: La solicitud contenía un encabezado Accept diferente de los tipos de medios permitidos o un conjunto de caracteres diferente de UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    NotFoundWithAdditionalProperties:
      description: El recurso solicitado no existe o no fue implementado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    TooManyRequestsWithAdditionalProperties:
      description: 'La operación fue rechazada, pues muchas solicitudes fueron hechas dentro de un determinado período o el límite global de solicitudes concurrentes fue alcanzado'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    UnauthorizedWithAdditionalProperties:
      description: Encabezado de autenticación ausente/inválido o token inválido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    UnprocessableEntityWithAdditionalProperties:
      description: 'La sintaxis de la solicitud es correcta, pero no fue posible procesar las instrucciones presentes.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    DefaultWithAdditionalProperties:
      description: Error inesperado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
            