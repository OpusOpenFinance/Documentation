openapi: 3.0.0
info:
  title: API Loans - Receptor de Datos Opus
  description: |
    API de información de operaciones de préstamos guardadas en ODR. Utiliza como patrón la misma definición de operaciones de préstamos de Open Finance Brasil – Fase 2.
    API que retorna información de operaciones de crédito del tipo préstamo, mantenidas en las instituciones transmisoras por sus clientes, incluyendo datos como denominación, modalidad, número del contrato, tarifas, plazo, cuotas, pagos (al menos para los últimos 12 meses), amortizaciones, garantías, cargos y tasas de interés remuneratorios.
    No posee segregación entre persona natural y persona jurídica.
    Requiere registro del cliente en ODR para todos los `endpoints`.

    # Orientaciones
    En el contexto de Open Finance, la `Role` del directorio de participantes relacionada a la presente API es `DADOS`.
    Los datos serán devueltos en la consulta desde que el `setupId` relacionado corresponda a un registro del cliente en ODR válido y con status `AUTHORISED`.
    Es también necesario que el recurso en cuestión (cuenta, contrato, etc) esté disponible en la institución transmisora (es decir, sin bloqueos de cualquier naturaleza y con todas las autorizaciones/consentimientos ya autorizados).
    Además, las `permissions` necesarias deberán haber sido solicitadas cuando de la creación del registro del cliente en ODR relacionado (`setupId`).
    Relacionamos a continuación las `permissions` necesarias para la consulta de datos en cada `endpoint` de la presente API.

    ## Permissions necesarias para la API Loans

    Para cada uno de los paths de esta API, además de los alcances (`scopes`) indicados existen `permissions` que deberán ser observadas:

    ### `/setup/credit/loan/contracts`
      - permissions:
        - GET: **LOANS_READ**
    ### `/setup/credit/loan/contracts/{contractId}`
      - permissions:
        - GET **LOANS_READ**
    ### `/setup/credit/loan/contracts/{contractId}/warranties`
      - permissions:
        - GET: **LOANS_WARRANTIES_READ**
    ### `/setup/credit/loan/contracts/{contractId}/scheduled-instalments`
      - permissions:
        - GET: **LOANS_SCHEDULED_INSTALMENTS_READ**
    ### `/setup/credit/loan/contracts/{contractId}/payments`
      - permissions:
        - GET: **LOANS_PAYMENTS_READ**
  version: 2.5.0
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'

tags:
  - name: Loans
paths:
  /setup/credit/loan/contracts:
    get:
      tags:
        - Loans
      summary: Conjunto de informaciones de contratos de préstamo mantenidos por el cliente en la institución transmisora y para los cuales haya proporcionado consentimiento
      description: Método para obtener la lista de contratos de préstamo mantenidos por el cliente en la institución transmisora y para los cuales haya proporcionado consentimiento
      operationId: loansGetContracts
      parameters:
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/pageSize'
        - $ref: '#/components/parameters/pagination-key'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansContractList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'
        
      
  '/setup/credit/loan/contracts/{contractId}':
    get:
      tags:
        - Loans
      summary: Obtiene los datos del contrato de préstamo identificado por contractId
      description: Método para obtener los datos del contrato de préstamo identificado por contractId mantenido por el cliente en la institución transmisora
      operationId: loansGetContractsContractId
      parameters:
        - $ref: '#/components/parameters/contractId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'
        
  '/setup/credit/loan/contracts/{contractId}/warranties':
    get:
      tags:
        - Loans
      summary: Obtiene la lista de garantías vinculadas al contrato de préstamo identificado por contractId
      description: Método para obtener la lista de garantías vinculadas al contrato de préstamo identificado por contractId mantenido por el cliente en la institución transmisora. Para los productos que no posean garantías se debe retornar HTTP Status 200 con el objeto “data” vacío, sin ningún atributo interno.
      operationId: loansGetContractsContractIdWarranties
      parameters:
        - $ref: '#/components/parameters/contractId'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/pageSize'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
        - $ref: '#/components/parameters/pagination-key'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansWarranties'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'
        
      
  '/setup/credit/loan/contracts/{contractId}/scheduled-instalments':
    get:
      tags:
        - Loans
      summary: Obtiene los datos del cronograma de cuotas del contrato de préstamo identificado por contractId
      description: Método para obtener los datos del cronograma de cuotas del contrato de préstamo identificado por contractId mantenido por el cliente en la institución transmisora
      operationId: loansGetContractsContractIdScheduledInstalments
      parameters:
        - $ref: '#/components/parameters/contractId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansInstalments'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'
        
      
  '/setup/credit/loan/contracts/{contractId}/payments':
    get:
      tags:
        - Loans
      summary: Obtiene los datos de pagos del contrato de préstamo identificado por contractId
      description: Método para obtener los datos de pagos del contrato de préstamo identificado por contractId mantenido por el cliente en la institución transmisora
      operationId: loansGetContractsContractIdPayments
      parameters:
        - $ref: '#/components/parameters/contractId'
        - $ref: '#/components/parameters/SetupID'
        - $ref: '#/components/parameters/xFapiAuthDate'
        - $ref: '#/components/parameters/xFapiCustomerIpAddress'
        - $ref: '#/components/parameters/xFapiInteractionId'
        - $ref: '#/components/parameters/xCustomerUserAgent'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansPayments'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '502':
          $ref: '#/components/responses/InternalServerError'
        
      
components:
  schemas:
    ResponseErrorWithAbleAdditionalProperties:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          $ref: '#/components/schemas/MetaError'
    EnumContractAmortizationScheduled:
      type: string
      description: |
        Sistema de amortización (Vea Enum):
        - SAC (Sistema de Amortización Constante) - Es aquel en que el valor de la amortización permanece igual hasta el final. Los intereses cobrados sobre el parcelamiento no entran en esta cuenta.
        - PRICE (Sistema Francés de Amortización) - Las cuotas son fijas desde el inicio hasta el fin del contrato. Es decir, todas las cuotas tendrán el mismo valor, desde la primera hasta la última. En los primeros pagos, la mayor parte del valor de la cuota corresponde a los intereses. A lo largo del tiempo, la tasa de interés va decreciendo. Como el valor de la cuota es fijo, con el pasar de las cuotas, el valor de amortización va aumentando.
        - SAM (Sistema de Amortización Mixto) - Cada cuota (pago) es el promedio aritmético de las cuotas respectivas en los Sistemas Price y en el Sistema de Amortización Constante (SAC).
        - SIN SISTEMA DE AMORTIZACIÓN
      enum:
        - SAC
        - PRICE
        - SAM
        - SEM_SISTEMA_AMORTIZACAO
        - OUTROS
      example: SAC
    EnumContractCalculation:
      type: string
      description: Base de cálculo
      enum:
        - 21/252
        - 30/360
        - 30/365
      example: 21/252
    EnumContractFeeCharge:
      type: string
      description: |
        "Forma de cobro relativa a la tarifa pactada en el contrato. (Vea Enum)
        - Mínimo
        - Máximo
        - Fijo
        - Porcentual"
      enum:
        - MINIMO
        - MAXIMO
        - FIXO
        - PERCENTUAL
      example: MINIMO
    EnumContractFeeChargeType:
      type: string
      description: Tipo de cobro para la tarifa pactada en el contrato.
      enum:
        - UNICA
        - POR_PARCELA
      example: UNICA
    EnumContractFinanceChargeType:
      type: string
      description: Tipo de cargo pactado en el contrato.
      enum:
        - JUROS_REMUNERATORIOS_POR_ATRASO
        - MULTA_ATRASO_PAGAMENTO
        - JUROS_MORA_ATRASO
        - IOF_CONTRATACAO
        - IOF_POR_ATRASO
        - SEM_ENCARGO
        - OUTROS
      example: JUROS_REMUNERATORIOS_POR_ATRASO
    EnumContractInstalmentPeriodicity:
      type: string
      description: |
        "Información relativa a la periodicidad regular de las cuotas. (Vea Enum)
        sin periodicidad regular, semanal, quincenal, mensual, bimestral, trimestral, semestral, anual"
      enum:
        - SEM_PERIODICIDADE_REGULAR
        - SEMANAL
        - QUINZENAL
        - MENSAL
        - BIMESTRAL
        - TRIMESTRAL
        - SEMESTRAL
        - ANUAL
        - OUTROS
      example: SEMANAL
    EnumContractInterestRateType:
      type: string
      description: |
        "Tipo de Intereses (vea Enum)
        - SIMPLES (aplicada/cobrada siempre sobre el capital inicial, que es el valor prestado/invertido. No hay cobro de intereses sobre intereses acumulados en el/los período(s) anterior(es). Ejemplo: en un préstamo de R$1.000, con tasa de interés simple de 8% a.a., con duración de 2 años, el total de intereses será R$80 en el primer año y R$ 80 en el segundo año. Al final del contrato, el tomador devolverá el principal y los intereses simples de cada año: R$1.000+R$80+R$80=R$1.160)
        - COMPOSTO (para cada período del contrato (diario, mensual, anual, etc.), hay un “nuevo capital” para el cobro de la tasa de interés contratada. Este “nuevo capital” es la suma del capital y del interés cobrado en el período anterior. Ejemplo: en un préstamo de R$1.000, con tasa de interés compuesta de 8% a.a., con duración de 2 años, el total de intereses será R$80 en el primer año. En el segundo año, los intereses se sumarán al capital (R$1.000 + R$ 80 = R$ 1.080), resultando en intereses de R$ 86 (8%de R$ 1.080))"
      enum:
        - SIMPLES
        - COMPOSTO
      example: SIMPLES
    EnumContractReferentialRateIndexerSubType:
      type: string
      description: |
        "Sub tipos de tasas referenciales o indexadores, conforme Anexo 5: Taxa referencial ou Indexador (Indx), del Documento 3040.

        [Restricción] Caso en el campo postFixedRate sea informado un valor aplicable al contrato, el envío de este campo será obligatorio."
      enum:
        - SEM_SUB_TIPO_INDEXADOR
        - PRE_FIXADO
        - TR_TBF
        - TJLP
        - LIBOR
        - TLP
        - OUTRAS_TAXAS_POS_FIXADAS
        - CDI
        - SELIC
        - OUTRAS_TAXAS_FLUTUANTES
        - IGPM
        - IPCA
        - IPCC
        - OUTROS_INDICES_PRECO
        - TCR_PRE
        - TCR_POS
        - TRFC_PRE
        - TRFC_POS
        - OUTROS_INDEXADORES
      example: TJLP
    EnumContractReferentialRateIndexerType:
      type: string
      description: |
        "Tipos de tasas referenciales o indexadores, conforme Anexo 5: Taxa referencial ou Indexador (Indx), del Documento 3040"
      enum:
        - SEM_TIPO_INDEXADOR
        - PRE_FIXADO
        - POS_FIXADO
        - FLUTUANTES
        - INDICES_PRECOS
        - CREDITO_RURAL
        - OUTROS_INDEXADORES
      example: PRE_FIXADO
    EnumContractTaxPeriodicity:
      type: string
      description: |
        "Periodicidad de la tasa. (Vea Enum)
        a.m - al mes
        a.a. - al año"
      enum:
        - AM
        - AA
      example: AA
    EnumContractTaxType:
      type: string
      description: |
        "Tipo de Tasa (vea Enum)
        - NOMINAL (tasa nominal es una tasa de interés en que la unidad referencial no coincide con la unidad de tiempo de la capitalización. Siempre es proporcionada en términos anuales, y sus períodos de capitalización pueden ser diarios, mensuales, trimestrales o semestrales. p.ej. Una tasa de 12% al año con capitalización mensual)
        - EFECTIVA (Es la tasa de interés en que la unidad referencial coincide con la unidad de tiempo de la capitalización. Como las unidades de medida de tiempo de la tasa de interés y de los períodos de capitalización son iguales, se usan ejemplos simples como 1% al mes, 60% al año)"
      enum:
        - NOMINAL
        - EFETIVA
      example: EFETIVA
    EnumContractProductSubTypeLoans:
      type: string
      description: 'Sub tipo de las modalidades de crédito Préstamos contratadas, conforme circular 4.015 y descripción del DOC3040 del SCR).'
      enum:
        - HOME_EQUITY
        - CHEQUE_ESPECIAL
        - CONTA_GARANTIDA
        - CAPITAL_GIRO_TETO_ROTATIVO
        - CREDITO_PESSOAL_SEM_CONSIGNACAO
        - CREDITO_PESSOAL_COM_CONSIGNACAO
        - MICROCREDITO_PRODUTIVO_ORIENTADO
        - CAPITAL_GIRO_PRAZO_VENCIMENTO_ATE_365_DIAS
        - CAPITAL_GIRO_PRAZO_VENCIMENTO_SUPERIOR_365_DIAS
      example: CREDITO_PESSOAL_COM_CONSIGNACAO
    EnumContractProductTypeLoans:
      type: string
      description: 'Tipo de la modalidad de crédito contratada, conforme circular 4.015 y descripción del DOC3040 del SCR).'
      enum:
        - EMPRESTIMOS
      example: EMPRESTIMOS
    EnumWarrantySubType:
      type: string
      description: |
        Denominación/Identificación del sub tipo de la garantía que avala la Modalidad de la Operación de Crédito contratada (Doc 3040, Anexo 12).
      enum:
        - ACOES_DEBENTURES
        - ACORDOS_COMPENSACAO_LIQUIDACAO_OBRIGACOES
        - APLICACOES_FINANCEIRAS_RENDA_FIXA
        - APLICACOES_FINANCEIRAS_RENDA_VARIAVEL
        - APOLICES_CREDITO_EXPORTACAO
        - CCR_CONVENIO_CREDITOS_RECIPROCOS
        - CHEQUES
        - CIVIL
        - DIREITOS_SOBRE_ALUGUEIS
        - DEPOSITOS_A_VISTA_A_PRAZO_POUPANCA_OURO_TITULOS_PUBLICOS_FEDERAIS_ART_36
        - DEPOSITO_TITULOS_EMITIDOS_ENTIDADES_ART_23
        - DUPLICATAS
        - EMD_ENTIDADES_MULTILATERAIS_DESENVOLVIMENTO_ART_37
        - EQUIPAMENTOS
        - ESTADUAL_OU_DISTRITAL
        - FATURA_CARTAO_CREDITO
        - FEDERAL
        - FCVS_FUNDO_COMPENSACAO_VARIACOES_SALARIAIS
        - FGI_FUNDO_GARANTIDOR_INVESTIMENTOS
        - FGPC_FUNDO_GARANTIA_PROMOCAO_COMPETIT
        - FGTS_FUNDO_GARANTIA_TEMPO_SERVICO
        - FUNDO_GARANTIDOR_AVAL
        - GARANTIA_PRESTADA_FGPC_LEI_9531_ART_37
        - GARANTIA_PRESTADA_FUNDOS_QUAISQUER_OUTROS_MECANISMOS_COBERTURA_RISCO_CREDITO_ART_37
        - GARANTIA_PRESTADA_TESOURO_NACIONAL_OU_BACEN_ART_37_BENS_DIREITOS_INTEGRANTES_PATRIMONIO_AFETACAO
        - IMOVEIS
        - IMOVEIS_RESIDENCIAIS
        - MITIGADORAS
        - MUNICIPAL
        - NAO_MITIGADORAS
        - NOTAS_PROMISSORIAS_OUTROS_DIREITOS_CREDITO
        - OUTRAS
        - OUTROS
        - OUTROS_BENS
        - OUTROS_GRAUS
        - OUTROS_IMOVEIS
        - OUTROS_SEGUROS_ASSEMELHADOS
        - PESSOA_FISICA
        - PESSOA_FISICA_EXTERIOR
        - PESSOA_JURIDICA
        - PESSOA_JURIDICA_EXTERIOR
        - PRIMEIRO_GRAU_BENS_DIREITOS_INTEGRANTES_PATRIMONIO_AFETACAO
        - PRIMEIRO_GRAU_IMOVEIS_RESIDENCIAIS
        - PRIMEIRO_GRAU_OUTROS
        - PROAGRO
        - PRODUTOS_AGROPECUARIOS_COM_WARRANT
        - PRODUTOS_AGROPECUARIOS_SEM_WARRANT
        - SBCE_SOCIEDADE_BRASILEIRA_CREDITO_EXPORTAÇÃO
        - SEGURO_RURAL
        - SEM_SUB_TIPO_GARANTIA
        - TRIBUTOS_RECEITAS_ORCAMENTARIAS
        - VEICULOS
        - VEICULOS_AUTOMOTORES
      example: NOTAS_PROMISSORIAS_OUTROS_DIREITOS_CREDITO   
    EnumContractProductSubTypeCategory:
      type: string
      description: |
        Categoría destinada a la clasificación específica relacionada a la submodalidad del producto.
        Las orientaciones siguientes deben ser observadas para el correcto llenado de este campo:
        * El llenado con el enum `CREDITO_PESSOAL_CLEAN` será obligatorio, a partir de la publicación de la versión 2.5.0 de la API Préstamos, **para contratos abiertos**, cuando aplicable;
        * El enum `CONSIGNADO_SIAPE`, **que engloba todos los contratos consignados bajo la regulación del Sistema Integrado de Administración de Recursos Humanos (Siape), presentando informaciones de servidores estatutarios, temporales, celetistas (CLT), entre otros**, será de envío obligatorio, a partir del inicio del piloto para crédito consignado;
        * Contratos liquidados hasta la entrada en producción (go live) de la versión 2.5.0 podrán ser llenados con la opción OUTRO;
        * Las demás submodalidades deben ser clasificadas en la opción `OUTRO`.
      enum:
        - CREDITO_PESSOAL_CLEAN
        - CONSIGNADO_SIAPE
        - OUTRO
      example: CREDITO_PESSOAL_CLEAN
    EnumWarrantyType:
      type: string
      description: 'Denominación/Identificación del tipo de la garantía que avala la Modalidad de la Operación de Crédito contratada (Doc 3040, Anexo 12)'
      enum:
        - CESSAO_DIREITOS_CREDITORIOS
        - CAUCAO
        - PENHOR
        - ALIENACAO_FIDUCIARIA
        - HIPOTECA
        - OPERACOES_GARANTIDAS_PELO_GOVERNO
        - OUTRAS_GARANTIAS_NAO_FIDEJUSSORIAS
        - SEGUROS_ASSEMELHADOS
        - GARANTIA_FIDEJUSSORIA
        - BENS_ARRENDADOS
        - GARANTIAS_INTERNACIONAIS
        - OPERACOES_GARANTIDAS_OUTRAS_ENTIDADES
        - ACORDOS_COMPENSACAO
      example: CESSAO_DIREITOS_CREDITORIOS
    LinksNonPaginated:
      type: object
      description: Referencias para otros recursos de la API solicitada.
      required:
        - self
      properties:
        self:
          type: string
          format: url
          maxLength: 4048
          description: URI completo que generó la respuesta actual.
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
    Links:
      type: object
      description: Referencias para otros recursos de la API solicitada.
      required:
        - self
      properties:
        self:
          type: string
          format: url
          maxLength: 4048
          description: URI completo que generó la respuesta actual.
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        first:
          type: string
          format: url
          maxLength: 4048
          description: URI de la primera página que originó esta lista de resultados. Restricción - Obligatorio cuando no sea la primera página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        prev:
          type: string
          format: url
          maxLength: 4048
          description: "URI de la página anterior de esta lista de resultados. Restricción - Obligatorio cuando no sea la primera página de la respuesta"
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        next:
          type: string
          format: url
          maxLength: 4048
          description: URI de la próxima página de esta lista de resultados. Restricción - Obligatorio cuando no sea la última página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
        last:
          type: string
          format: url
          maxLength: 4048
          description: URI de la última página de esta lista de resultados. Restricción - Obligatorio cuando no sea la última página de la respuesta
          example: 'https://api.banco.com.br/open-banking/api/v1/resource'
    LoansBalloonPayment:
      type: object
      description: Lista que trae las fechas de vencimiento y valor de las cuotas no regulares del contrato de la modalidad de crédito consultada.
      required:
        - dueDate
        - amount
      properties:
        dueDate:
          type: string
          maxLength: 10
          minLength: 2
          format: date
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2021-05-21'
          description: |
            'Fecha de vencimiento de la cuota no regular por vencer del contrato de la modalidad de crédito consultada, conforme especificación RFC-3339. p.ej. 2014-03-19'
        amount:
          $ref: '#/components/schemas/LoansBalloonPaymentAmount'
    LoansContract:
      type: object
      description: Conjunto de informaciones referentes a la identificación de la operación de crédito de préstamo
      required:
        - contractNumber
        - ipocCode
        - productName
        - productType
        - productSubType
        - contractDate
        - contractAmount
        - instalmentPeriodicity
        - CET
        - amortizationScheduled
        - interestRates
        - contractedFees
        - contractedFinanceCharges
        - productSubTypeCategory
      properties:
        contractNumber:
          type: string
          maxLength: 100
          minLength: 1
          pattern: '^[\w\W]{1,100}$'
          example: '1324926521496'
          description: Número del contrato dado por la institución contratante.
        ipocCode:
          type: string
          maxLength: 67
          minLength: 22
          pattern: '^[\w\W]{22,67}$'
          example: '92792126019929279212650822221989319252576'
          description: |
            Número estandarizado del contrato - IPOC (Identificación Estandarizada de la Operación de Crédito). Según DOC 3040, compuesta por:
            - **CNPJ de la institución:** 8 (ocho) posiciones iniciales;
            - **Modalidad de la operación:** 4 (cuatro) posiciones;
            - **Tipo del cliente:** 1 (una) posición( 1 = persona natural - CPF, 2= persona jurídica – CNPJ, 3 = persona física en el exterior, 4 = persona jurídica en el exterior, 5 = persona natural sin CPF y 6 = persona jurídica sin CNPJ);
            - **Código del cliente:** El número de posiciones varía conforme al tipo del cliente:
              1. Para clientes persona física con CPF (tipo de cliente = 1), informar las 11 (once) posiciones del CPF;
              2. Para clientes persona jurídica con CNPJ (tipo de cliente = 2), informar las 8 (ocho) posiciones iniciales del CNPJ;
              3. Para los demás clientes (tipos de cliente 3, 4, 5 y 6), informar 14 (catorce) posiciones con complemento de ceros a la izquierda si la identificación tuviera tamaño inferior;
            - **Código del contrato:** 1 (una) hasta 40 (cuarenta) posiciones, sin complemento de caracteres.
        productName:
          type: string
          maxLength: 140
          pattern: '^[^\s](.*[^\s])?$'
          example: Crédito Personal Consignado
          description: |
            Denominación/Identificación del nombre de la Modalidad de la Operación de Crédito divulgado al cliente
        productType:
          $ref: '#/components/schemas/EnumContractProductTypeLoans'
        productSubType:
          $ref: '#/components/schemas/EnumContractProductSubTypeLoans'
        productSubTypeCategory:
          $ref: '#/components/schemas/EnumContractProductSubTypeCategory'
        contractDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-01-05'
          description: |
            Fecha de contratación de la operación de crédito. Especificación RFC-3339. Para productos rotativos, productSubType `CHEQUE_ESPECIAL` y `CONTA_GARANTIDA`, caso se tengan múltiples contrataciones del mismo producto, se debe enviar la última fecha disponible.
        disbursementDates:
          type: array
          minItems: 1
          description: |
            Lista que trae las Fechas de Desembolso del valor contratado.
          items:
            type: string
            format: date
            maxLength: 10
            pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
            example: '2018-01-15'
            description: |
              Fecha del Desembolso del valor contratado. Especificación RFC-3339.
              En el caso de una liberación de recursos hecha en D0 pero con referencia retroactiva hecha en D -1, contablemente la fecha correcta sería D -1.
        settlementDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-01-15'
          description: |
            Fecha de liquidación de la operación. Fecha de cancelación del contrato para casos en que no haya saldo deudor restante. En caso de cancelación con saldo deudor, la fecha solo debe ser llenada cuando el mismo sea liquidado.
        contractAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: |
            Valor contratado de la operación. No incluir valores de tasas, tarifas, cargos y seguros.
            Expresado en valor monetario con mínimo 2 casas y máximo 4 casas decimales.
            En los casos en que no haya este valor explícito en el contrato del producto, enviar como 0.00
        currency:
          type: string
          maxLength: 3
          pattern: '^(\w{3}){1}$'
          example: BRL
          description: |
            Moneda referente al valor de la garantía, según modelo ISO-4217. p.ej. 'BRL'
            Todos los valores monetarios informados están representados con la moneda vigente de Brasil
        dueDate:
          type: string
          format: date
          maxLength: 10
          minLength: 2
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2028-01-15'
          description: |
            Fecha del último vencimiento de la operación, siguiendo la especificación RFC-3339. Información debe ser enviada caso exista. Especialmente para contratos renegociados, se debe alterar la fecha para la del último vencimiento. Para productos rotativos, productSubType `CHEQUE_ESPECIAL` y `CONTA_GARANTIDA`, el campo representa la fecha fin de la renovación para contratos activos o fecha del cancelamiento para contratos cancelados o vencidos.
        instalmentPeriodicity:
          $ref: '#/components/schemas/EnumContractInstalmentPeriodicity'
        instalmentPeriodicityAdditionalInfo:
          type: string
          pattern: '^[^\s](.*[^\s])?$'
          maxLength: 50
          example: Informaciones adicionales sobre periodicidad
          description: |
            Campo obligatorio para complementar la información relativa a la periodicidad de pago regular cuando tenga la opción OUTROS.
        firstInstalmentDueDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-15'
          description: |
            Fecha de vencimiento primera cuota del principal.
            Información debe ser enviada caso exista.
        CET:
          type: string
          pattern: '^\d{1,6}\.\d{6}$'
          format: double
          maxLength: 13
          minLength: 8
          example: '0.290000'
          description: |
            CET – Costo Efectivo Total debe ser expresado en forma de tasa porcentual anual e incorpora todos los cargos y gastos incidentes en las operaciones de crédito (tasa de interés, pero también tarifas, tributos, seguros y otros gastos cobrados).

            El llenado debe respetar las 6 casas decimales, aunque vengan llenadas con ceros (representación de porcentaje p.ej: 0.150000. Este valor representa 15%. El valor 1 representa 100%).

            Para el público PF (persona física) el campo es de envío obligatorio para contratos firmados a partir de 2008, conforme Resolución CMN 3.517. Para el público PJ (persona jurídica) el campo es de envío obligatorio para contratos firmados a partir de 2011, conforme Resolución CMN 3.909. El campo podrá ser llenado con 0.00 en escenarios en los cuales la casa no tenga la información de CET (Costo efectivo total) solo para las excepciones listadas abajo: 

            - En contratos anteriores a 2008 (para el público PF); 
            - En contratos anteriores a 2011 (para el público PJ); 
            - Público PJ de mediano o grande porte. 
        hasInsuranceContracted:
          type: boolean
          description: |
            Campo que identifica si existe seguro contratado para el Préstamo, donde seguro contratado es true y no contratado es false.”​
            
            [Restricción] Este campo es de envío obligatorio caso el campo productSubTypeCategory sea llenado CREDITO_PESSOAL_CLEAN.
          example: true
        amortizationScheduled:
          $ref: '#/components/schemas/EnumContractAmortizationScheduled'
        amortizationScheduledAdditionalInfo:
          type: string
          pattern: '^[^\s](.*[^\s])?$'
          maxLength: 200
          example: Informaciones complementares relativas a la amortización del tipo 'OUTROS'
          description: |
            Campo obligatorio para complementar la información relativa a la amortización cuando seleccionada la opción OUTROS.
        cnpjConsignee:
          type: string
          maxLength: 14
          pattern: '^[0-9A-Z]{12}[0-9]{2}$'
          example: '60500998000135'
          description: |
            CNPJ del consignante (CNPJ corresponde al número de inscripción en el Registro de Persona Jurídica). 

            Debe tenerse apenas la representación alfanumérica del CNPJ, sin máscara.

            [Restricción] Información adicional específica para cuando el productSubType sea igual a CREDITO_PESSOAL_COM_CONSIGNACAO
        interestRates:
          type: array
          description: |
            Objeto que trae el conjunto de informaciones necesarias para demostrar la composición de las tasas de interés remuneratorios de la Modalidad de crédito. 
            Caso el contrato no posea tasas de interés, debe ser compartida una lista vacía. Caso el contrato posea una tasa de interés con valor 0, debe ser compartido un objeto con el valor 0 de forma explícita. 
            Para contratos en renegociación, la tasa de préstamo compartida debe mantenerse la tasa del contrato vigente, siendo alterada para la renegociada al fin del proceso de renegociación. 
            Para el producto CPC (campo `productSubTypeCategory` llenado con `CREDITO_PESSOAL_CLEAN`) se debe obligatoriamente contener la tasa nominal y la tasa efectiva (campo `taxPeriodicity`) con periodicidad a.a. (al año), pudiendo adicionalmente contener, además de las tasas nominal y efectiva al año, otras con otra periodicidad.
          items:
            $ref: '#/components/schemas/LoansContractInterestRate'
          minItems: 0
        contractedFees:
          type: array
          description: Lista que trae las informaciones de las tarifas pactadas en el contrato.
          items:
            $ref: '#/components/schemas/LoansContractedFee'
          minItems: 0
        contractedFinanceCharges:
          type: array
          description: Lista que trae los cargos pactados en el contrato
          items:
            $ref: '#/components/schemas/LoansFinanceCharge'
          minItems: 0
        nextInstalmentAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: >
            Informa el valor de face (corresponde al valor de la cuota en el vencimiento). Para contratos liquidados, retornar cero, siguiendo el pattern.
            
            [Restricción] 
            El envío del campo será obligatorio para CPC (campo “productSubTypeCategory” llenado con `CREDITO_PESSOAL_CLEAN`).
    LoansContractedFee:
      type: object
      description: Objeto que trae el conjunto de informaciones necesarias para demostrar la composición de las tasas de interés remuneratorios de la Modalidad de crédito
      required:
        - feeName
        - feeCode
        - feeChargeType
        - feeCharge
      properties:
        feeName:
          type: string
          maxLength: 140
          pattern: '^[^\s](.*[^\s])?$'
          description: Denominación de la Tarifa pactada
          example: Renovación de registro
        feeCode:
          type: string
          maxLength: 140
          pattern: '^[^\s](.*[^\s])?$'
          description: Sigla identificadora de la tarifa pactada
          example: CADASTRO
        feeChargeType:
          $ref: '#/components/schemas/EnumContractFeeChargeType'
        feeCharge:
          $ref: '#/components/schemas/EnumContractFeeCharge'
        feeAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          description: |
            Valor monetario de la tarifa pactada en el contrato. 

            [Restricción] Llenado obligatorio cuando la forma de cobro sea diferente de Porcentual.
          example: '100000.0400'
        feeRate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          format: double
          maxLength: 8
          minLength: 8
          description: |
            Es el valor de la tarifa en porcentaje pactada en el contrato.

            [Restricción] Llenado obligatorio cuando la forma de cobro sea Porcentual.
          example: '0.062000'
    LoansContractInterestRate:
      type: object
      description: Objeto que trae el conjunto de informaciones necesarias para demostrar la composición de las tasas de interés remuneratorios de la Modalidad de crédito
      required:
        - taxType
        - interestRateType
        - taxPeriodicity
        - calculation
        - referentialRateIndexerType
      properties:
        taxType:
          $ref: '#/components/schemas/EnumContractTaxType'
        interestRateType:
          $ref: '#/components/schemas/EnumContractInterestRateType'
        taxPeriodicity:
          $ref: '#/components/schemas/EnumContractTaxPeriodicity'
        calculation:
          $ref: '#/components/schemas/EnumContractCalculation'
        referentialRateIndexerType:
          $ref: '#/components/schemas/EnumContractReferentialRateIndexerType'
        referentialRateIndexerSubType:
          $ref: '#/components/schemas/EnumContractReferentialRateIndexerSubType'
        referentialRateIndexerAdditionalInfo:
          type: string
          description: |
            Campo libre para complementar la información relativa al Tipo de tasa referencial o indexador.
            [Restricción] Obligatorio para complementar la información relativa al Tipo de tasa referencial o indexador, cuando seleccionado el tipo o subtipo OUTRO.
          maxLength: 140
          pattern: '^[^\s](.*[^\s])?$'
          example: Informaciones adicionales
        preFixedRate:
          type: string
          pattern: '^\d{1,2}\.\d{6}$'
          format: double
          maxLength: 9
          minLength: 8
          example: '0.600000'
          description: |
            Tasa pre fijada aplicada sobre el contrato de la modalidad crédito. p.ej. 0.014500. El llenado debe respetar las 6 casas decimales, aunque vengan llenadas con ceros(representación de porcentaje p.ej: 0.150000. Este valor representa 15%. El valor 1 representa 100%).
            
            [Restricción] Este campo es de envío obligatorio caso no sea enviado el campo postFixedRate.
        postFixedRate:
          type: string
          pattern: '^\d{1,2}\.\d{6}$'
          format: double
          maxLength: 9
          minLength: 8
          description: |
            Tasa post fijada aplicada sobre el contrato de la modalidad crédito. p.ej. 0.0045. El llenado debe respetar las 6 casas decimales, aunque vengan llenadas con ceros (representación de porcentaje p.ej: 0.1500. Este valor representa 15%. El valor 1 representa 100%). Para tasas post fijadas necesario informar el indexador (campo referentialRateIndexerSubType).
            
            [Restricción] Este campo es de envío obligatorio caso no sea enviado el campo preFixedRate.
          example: '0.550000'
        additionalInfo:
          type: string
          maxLength: 1200
          pattern: '^[^\s](.*[^\s])?$'
          example: Informaciones adicionales
          description: |
            Texto con informaciones adicionales sobre la composición de las tasas de interés pactadas. 

            [Restricción] Caso la institución posea la información para compartir, esta deberá ser informada.
    LoansChargeOverParcel:
      type: object
      required:
        - chargeType
        - chargeAmount
      properties:
        chargeType:
          $ref: '#/components/schemas/EnumContractFinanceChargeType'
        chargeAdditionalInfo:
          type: string
          pattern: '^[^\s](.*[^\s])?$'
          maxLength: 140
          example: Informaciones adicionales
          description: |
            Campo libre para llenado de las informaciones adicionales referentes al cargo.

            [Restricción] Obligatorio cuando chargeType sea igual 'OUTROS'.
        chargeAmount:
          type: string
          format: double
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '1000.0400'
          description: Valor del pago del cargo pagado fuera de la cuota. Expresado en valor monetario con mínimo 2 casas y máximo 4 casas decimales.
    LoansFinanceCharge:
      type: object
      description: Conjunto de informaciones referentes a la identificación de la operación de crédito
      required:
        - chargeType
      properties:
        chargeType:
          $ref: '#/components/schemas/EnumContractFinanceChargeType'
        chargeAdditionalInfo:
          type: string
          maxLength: 140
          description: |
            Campo para informaciones adicionales.

            [Restricción] Obligatorio si seleccionada la opción 'OUTROS' en Tipo de cargo pactado en el contrato.
          pattern: '^[^\s](.*[^\s])?$'
          example: Informaciones adicionales sobre cargos.
        chargeRate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          format: double
          maxLength: 8
          minLength: 8
          description: |
            Representa el valor del cargo en porcentaje pactado en el contrato.

            El llenado debe respetar las 6 casas decimales, aunque vengan llenadas con ceros(representación de porcentaje p.ej: 0.150000. Este valor representa 15%. El valor 1 representa 100%).
          example: '0.070000'
    LoansInstalments:
      type: object
      description: Conjunto de informaciones referentes al plazo remanente y a las cuotas de una operación de crédito de préstamos
      required:
        - dueInstalments
        - pastDueInstalments
        - typeContractRemaining
        - typeNumberOfInstalments
        - paidInstalments
      properties:
        typeNumberOfInstalments:
          type: string
          description: Tipo de plazo total del contrato referente a la modalidad de crédito informada.
          enum:
            - DIA
            - SEMANA
            - MES
            - ANO
            - SEM_PRAZO_TOTAL
          example: MES
        totalNumberOfInstalments:
          type: number
          maximum: 999999999
          example: 130632
          description: |
            Plazo Total según el tipo (día, semana, mes, año) referente a la Modalidad de Crédito informada.

            [Restricción] Obligatoriamente debe ser llenado caso el typeNumberOfInstalments sea diferente de SEM_PRAZO_TOTAL.
        typeContractRemaining:
          type: string
          enum:
            - DIA
            - SEMANA
            - MES
            - ANO
            - SEM_PRAZO_REMANESCENTE
          description: |
            Tipo de plazo remanente del contrato referente a la modalidad de crédito informada.
        contractRemainingNumber:
          type: number
          maximum: 999999999
          example: 14600
          description: |
            Plazo Remanente según el tipo (día, semana, mes, año) referente a la Modalidad de Crédito informada.

            [Restricción] Obligatoriamente debe ser llenado caso el typeContractRemaining sea diferente de SEM_PRAZO_REMANESCENTE.
        paidInstalments:
          type: number
          description: 'Cantidad de cuotas pagadas. (En el caso de modalidades que no posean cuotas, el número de cuotas es igual a cero)'
          maximum: 999999
          example: 73
        dueInstalments:
          type: number
          description: 'Cantidad de cuotas por vencer.(En el caso de modalidades que no posean cuotas, el número de cuotas es igual a cero)'
          maximum: 999999
          example: 57
        pastDueInstalments:
          type: number
          description: 'Cantidad de cuotas vencidas. (En el caso de modalidades que no posean cuotas, el número de cuotas es igual a cero)'
          maximum: 999999
          example: 73
        balloonPayments:
          type: array
          items:
            $ref: '#/components/schemas/LoansBalloonPayment'
          minItems: 1
          description: Lista que trae las fechas de vencimiento y valor de las cuotas no regulares del contrato de la modalidad de crédito consultada
    LoansListContract:
      type: object
      description: Conjunto de informaciones de contratos de préstamo mantenidos por el cliente en la institución transmisora y para los cuales haya proporcionado consentimiento
      required:
        - contractId
        - brandName
        - companyCnpj
        - productType
        - productSubType
        - ipocCode
        - productSubTypeCategory
      properties:
        contractId:
          type: string
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          maxLength: 100
          minLength: 1
          example: '92792126019929279212650822221989319252576'
          description: 'Identifica de forma única el contrato de la operación de crédito del cliente, manteniendo las reglas de inmutabilidad dentro de la institución transmisora.'
        brandName:
          type: string
          pattern: '^[^\s](.*[^\s])?$'
          maxLength: 80
          example: Organización A
          description: 'Nombre de la Marca reportada por el participante en Open Finance. Se recomienda utilizar, siempre que posible, el mismo nombre de marca atribuido en el campo del directorio Customer Friendly Server Name (Authorisation Server).'
        companyCnpj:
          type: string
          pattern: '^[0-9A-Z]{12}[0-9]{2}$'
          maxLength: 14
          example: '21128159000166'
          description: 'Representación alfanumérica completa del CNPJ de la institución responsable por el contrato de préstamo con el fin de identificar la institución acreedora en casos de portabilidad de crédito - el CNPJ corresponde al número de inscripción en el Registro de Persona Jurídica. Debe tenerse apenas la representación alfanumérica del CNPJ, sin máscara.'
        productType:
          $ref: '#/components/schemas/EnumContractProductTypeLoans'
        productSubType:
          $ref: '#/components/schemas/EnumContractProductSubTypeLoans'
        productSubTypeCategory:
            $ref: '#/components/schemas/EnumContractProductSubTypeCategory'
        ipocCode:
          type: string
          maxLength: 67
          minLength: 22
          pattern: '^[\w\W]{22,67}$'
          example: '92792126019929279212650822221989319252576'
          description: |
            Número estandarizado del contrato - IPOC (Identificación Estandarizada de la Operación de Crédito). Según DOC 3040, compuesta por:
            - **CNPJ de la institución:** 8 (ocho) posiciones iniciales;
            - **Modalidad de la operación:** 4 (cuatro) posiciones;
            - **Tipo del cliente:** 1 (una) posición( 1 = persona natural - CPF, 2= persona jurídica – CNPJ, 3 = persona física en el exterior, 4 = persona jurídica en el exterior, 5 = persona natural sin CPF y 6 = persona jurídica sin CNPJ);
            - **Código del cliente:** El número de posiciones varía conforme al tipo del cliente:
              1. Para clientes persona física con CPF (tipo de cliente = 1), informar las 11 (once) posiciones del CPF;
              2. Para clientes persona jurídica con CNPJ (tipo de cliente = 2), informar las 8 (ocho) posiciones iniciales del CNPJ;
              3. Para los demás clientes (tipos de cliente 3, 4, 5 y 6), informar 14 (catorce) posiciones con complemento de ceros a la izquierda si la identificación tuviera tamaño inferior;
            - **Código del contrato:** 1 (una) hasta 40 (cuarenta) posiciones, sin complemento de caracteres.          
    LoansPayments:
      type: object
      description: Conjunto de informaciones referentes a los pagos realizados de una operación de crédito de préstamos.
      required:
        - contractOutstandingBalance
        - releases
      properties:
        paidInstalments:
          type: number
          maximum: 2147483647
          example: 73
          description: Cantidad total de cuotas pagadas del contrato referente a la Modalidad de Crédito informada.
        contractOutstandingBalance:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: |
            Valor necesario para el cliente liquidar la deuda, es decir, este campo debe ser llenado con el saldo deudor actualizado descrito en el DDC (Documento Descriptivo de Crédito). 
            El valor a liquidar actualizado del día debe ser ajustado para compartir por la Transmisora hasta las 10:00 del mismo día, especialmente para Crédito Personal Clean, alcance de Portabilidad de Crédito, pues este valor es utilizado por la Receptora en papel de Proponente para pago a la Transmisora en papel de Acreedora.
        lastUpdatedContractOutstandingBalance:
          type: string
          format: date-time
          description: |
            Fecha y hora de la última actualización del valor del campo contractOutstandingBalance, conforme especificación RFC-3339, formato UTC. 
            
            [Restricción] El envío del campo será obligatorio para CPC (campo “productSubTypeCategory” llenado con CREDITO_PESSOAL_CLEAN en la identificación de la operación, en el endpoint /setup/credit/loan/contracts/{contractId}).
          minLength: 24
          maxLength: 24
          example: "2021-05-21T08:30:03.374Z"
        totalRemainingAmount:
          description: |
            Valor total que falta para el cliente liquidar el contrato, considerando la suma total de todas las cuotas por vencer y vencidas, así como todas las tasas, tarifas y cargos de las cuotas. En los casos de contrato con tasas post-fijadas, considerar apenas valores pre-fijados, visto que el cálculo post-fijado ocurre apenas en momento futuro, y que el valor está sujeto a las variaciones de su indexador. 
            
            [Restricción] El envío del campo será obligatorio para CPC (campo “productSubTypeCategory” llenado con CREDITO_PESSOAL_CLEAN en la identificación de la operación, en el endpoint /setup/credit/loan/contracts/{contractId}).
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
        releases:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/LoansReleases'
          description: Lista de los pagos realizados en el período
    LoansReleases:
      type: object
      description: Lista de los pagos realizados en el período
      required:
        - paymentId
        - isOverParcelPayment
        - paidDate
        - currency
        - paidAmount
      properties:
        paymentId:
          type: string
          maxLength: 100
          minLength: 1
          example: XlthLXpBLVowLTldW2EtekEtWjAtOVwtXXswLDk5fSQ
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          description: Código o identificador único prestado por la institución para representar el pago individual.
        isOverParcelPayment:
          type: boolean
          example: true
          description: Identifica si es un pago pactado (false) o suelto (true).
        instalmentId:
          type: string
          maxLength: 100
          minLength: 1
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
          example: WGx0aExYcEJMVm93TFRsZFcyRXRla0V0V2pBdE9Wd3RYWH
          description: |
            Identificador de cuota, de responsabilidad de cada Institución transmisora.  
            [Restricción] Información de envío obligatorio cuando isOverParcelPayment tenga el valor FALSE.
        paidDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2021-05-21'
          description: 'Fecha efectiva del pago referente al contrato de la modalidad de crédito consultada, conforme especificación RFC-3339. p.ej. 2014-03-19'
        currency:
          type: string
          maxLength: 3
          pattern: '^(\w{3}){1}$'
          example: BRL
          description: |
            Moneda referente al valor monetario informado, según modelo ISO-4217. p.ej. 'BRL'.
            Todos los valores monetarios informados están representados con la moneda vigente de Brasil.
        paidAmount:
          type: string
          format: double
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '1000.0400'
          description: |
            Valor del pago referente al contrato de la modalidad de crédito consultada. Expresado en valor monetario con mínimo 2 casas y máximo 4 casas decimales. Si cargos y tasas fueron pagos juntos de la cuota, la suma total debe ser adicionada al valor de la cuota en este campo. Caso el pago de tasas y cargos hayan sido hechos aparte, deben ser listados en el campo overParcel.
        overParcel:
          type: object
          description: |
            Objeto de las tarifas y cargos que fueron pagos fuera de la cuota.

            [Restricción] Información debe ser enviada caso exista.
          required:
            - fees
            - charges
          properties:
            fees:
              type: array
              minItems: 0
              items:
                $ref: '#/components/schemas/LoansFeeOverParcel'
              description: 'Lista de las tarifas que fueron pagas fuera de la cuota, solo para pago suelto.'
            charges:
              type: array
              minItems: 0
              items:
                $ref: '#/components/schemas/LoansChargeOverParcel'
              description: Lista de los cargos que fueron pagos fuera de la cuota.
    LoansFeeOverParcel:
      type: object
      required:
        - feeName
        - feeCode
        - feeAmount
      properties:
        feeName:
          type: string
          maxLength: 140
          pattern: '^[^\s](.*[^\s])?$'
          example: Reevaluación periódica del bien
          description: |
            Denominación de la Tarifa pactada.
        feeCode:
          type: string
          maxLength: 140
          pattern: '^[^\s](.*[^\s])?$'
          example: aval_bem
          description: |
            Sigla identificadora de la tarifa pactada.
        feeAmount:
          type: string
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '100000.0400'
          description: |
            Valor monetario de la tarifa pactada en el contrato.

            Expresado en valor monetario con mínimo 2 casas y máximo 4 casas decimales.
    LoansWarranties:
      type: object
      description: Conjunto de informaciones referentes a la identificación de la operación de crédito de préstamo
      required:
        - currency
        - warrantyAmount
        - warrantyType
        - warrantySubType
      properties:
        currency:
          type: string
          pattern: '^(\w{3}){1}$'
          maxLength: 3
          description: 'Moneda referente al valor de la garantía, según modelo ISO-4217. p.ej. ''BRL''. Todos los valores monetarios informados están representados con la moneda vigente de Brasil'
          example: BRL
        warrantyType:
          $ref: '#/components/schemas/EnumWarrantyType'
        warrantySubType:
          $ref: '#/components/schemas/EnumWarrantySubType'
        warrantyAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: |
            Valor original de la garantía. Expresado en valor monetario con mínimo 2 casas y máximo 4 casas decimales.

            [Restricción] Para casos en que warrantyType sea igual a "GARANTIA_FIDEJUSSORIA" el valor de la garantía corresponde a un porcentaje del total garantido. 
            De esta forma, los casos de garantía fidejussoria para los cuales no es posible determinar un valor monetario para la garantía deben ser llenados con 0.00.
    LoansBalloonPaymentAmount:
      type: object
      required:
        - amount
        - currency
      description: Valor monetario de la cuota no regular por vencer.
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Valor monetario de la cuota no regular por vencer. Expresado en valor monetario con mínimo 2 casas y máximo 4 casas decimales.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    MetaNonPaginated:
      type: object
      description: Meta informaciones referentes a la API solicitada.
      required:
        - requestDateTime
      properties:
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    Meta:
      type: object
      description: Meta informaciones referentes a la API solicitada.
      required:
        - totalRecords
        - totalPages
        - requestDateTime
      properties:
        totalRecords:
          type: integer
          format: int32
          description: Número total de registros en el resultado
          example: 1
        totalPages:
          type: integer
          format: int32
          description: Número total de páginas en el resultado
          example: 1
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    MetaError:
      type: object
      description: Meta informaciones referentes a la API solicitada.
      required:
        - requestDateTime
      properties:
        requestDateTime:
          description: 'Fecha y hora de la consulta, conforme especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    ResponseLoansContractList:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 0
          description: Conjunto de informaciones de contratos de préstamo mantenidos por el cliente en la institución transmisora y para los cuales haya proporcionado consentimiento
          items:
            $ref: '#/components/schemas/LoansListContract'
        links:
          $ref: '#/components/schemas/Links'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseLoansContract:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          $ref: '#/components/schemas/LoansContract'
        links:
          $ref: '#/components/schemas/LinksNonPaginated'
        meta:
          $ref: '#/components/schemas/MetaNonPaginated'
    ResponseLoansInstalments:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          $ref: '#/components/schemas/LoansInstalments'
        links:
          $ref: '#/components/schemas/LinksNonPaginated'
        meta:
          $ref: '#/components/schemas/MetaNonPaginated'
    ResponseLoansPayments:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          $ref: '#/components/schemas/LoansPayments'
        links:
          $ref: '#/components/schemas/LinksNonPaginated'
        meta:
          $ref: '#/components/schemas/MetaNonPaginated'
    ResponseLoansWarranties:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 0
          description: Conjunto de informaciones referentes a la identificación de la operación de crédito de préstamo
          items:
            $ref: '#/components/schemas/LoansWarranties'
        links:
          $ref: '#/components/schemas/Links'
        meta:
          $ref: '#/components/schemas/Meta'
    XFapiInteractionId:
      type: string
      format: uuid
      pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'
      minLength: 1
      maxLength: 36
      example: d78fc4e5-37ca-4da3-adf2-9b082bf92280
      description: 'Un UUID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como un ID de correlación entre request y response. Campo de generación y envío obligatorio por la receptora (client) y su valor debe ser “espejado” por la transmisora (server) en el encabezado de respuesta. Caso no sea recibido o si fuera recibido un valor inválido, la transmisora debe generar un x-fapi-interaction-id y retornarlo en la respuesta con el HTTP Status Code 400. La receptora debe acatar el valor recibido de la transmisora.'
    XV:
      type: string
      pattern: '^\d+\.\d+\.\d+$'
      example: 1.0.0
      description: 'Encabezado que indica la versión implementada de la API por la institución financiera. Debe ser llenado de forma completa, por ejemplo: x-v : 1.0.2'        
  parameters:
    SetupID:
      name: setupId
      in: header
      description: |
          El SetupUUID es el identificador único en ODR (GUID).  
          Deberá ser usado para realizar todas las otras llamadas en ODR, como búsqueda de cuentas, transacciones, etc.
      required: true
      schema:
        type: string
        format: uuid
        example: '550e8400-e29b-41d4-a716-446655440000' 
    contractId:
      name: contractId
      in: path
      description: Identificador del contrato para todos los tipos de operación de crédito.
      required: true
      schema:
        type: string
        pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$'
        maxLength: 100
    page:
      name: page
      in: query
      description: Número de la página que está siendo solicitada (el valor de la primera página es 1).
      schema:
        type: integer
        default: 1
        minimum: 1
        maximum: 2147483647
        format: int32
    pageSize:
      name: page-size
      in: query
      description: Cantidad total de registros por páginas.
      schema:
        type: integer
        default: 25
        minimum: 1
        format: int32
        maximum: 1000
    pagination-key:
      name: pagination-key
      in: query
      description: 'Identificador de rellamada, utilizado para evitar el conteo de llamadas al endpoint durante la paginación.'
      schema:
        type: string
        maxLength: 2048
        pattern: '[\w\W\s]*'
    xCustomerUserAgent:
      name: x-customer-user-agent
      in: header
      description: Indica el user-agent que el usuario utiliza.
      required: false
      schema:
        type: string
        pattern: '[\w\W\s]*'
        minLength: 1
        maxLength: 100
    xFapiAuthDate:
      name: x-fapi-auth-date
      in: header
      description: 'Fecha en que el usuario inició sesión por última vez con el receptor. Representada de acuerdo con la [RFC7231](https://tools.ietf.org/html/rfc7231).Ejemplo: Sun, 10 Sep 2017 19:43:31 UTC'
      required: false
      schema:
        type: string
        pattern: '^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4} \d{2}:\d{2}:\d{2} (GMT|UTC)$'
        minLength: 29
        maxLength: 29
    xFapiCustomerIpAddress:
      name: x-fapi-customer-ip-address
      in: header
      description: La dirección IP del usuario si está actualmente conectado con el receptor.
      required: false
      schema:
        type: string
        pattern: '[\w\W\s]*'
        minLength: 1
        maxLength: 100
    xFapiInteractionId:
      name: x-fapi-interaction-id
      in: header
      description: 'Un UUID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como un ID de correlación entre request y response. Campo de generación y envío obligatorio por la receptora (client) y su valor debe ser “espejado” por la transmisora (server) en el encabezado de respuesta. Caso no sea recibido o si fuera recibido un valor inválido, la transmisora debe generar un x-fapi-interaction-id y retornarlo en la respuesta con el HTTP Status Code 400. La receptora debe acatar el valor recibido de la transmisora.'
      required: false
      schema:
        type: string
        format: uuid
        pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'
        minLength: 1
        maxLength: 36
        example: d78fc4e5-37ca-4da3-adf2-9b082bf92280
  securitySchemes:
    OpenId:
      type: openIdConnect
      openIdConnectUrl: 'https://auth.mockbank.poc.raidiam.io/.well-known/openid-configuration'
    OAuth2Security:
      type: oauth2
      description: Flujo OAuth necesario para que la receptora tenga acceso a los datos en la institución transmisora. Requiere el proceso de redireccionamiento y autenticación del usuario al que se refieren los datos.
      flows:
        authorizationCode:
          authorizationUrl: 'https://authserver.example/authorization'
          tokenUrl: 'https://authserver.example/token'
          scopes:
            loans: Alcance necesario para acceso a la API Loans. El control de los endpoints específicos es hecho vía permissions.
  responses:
    OKResponseLoansContractList:
      description: Datos de los contratos de préstamos obtenidos con éxito.
      headers:
        x-fapi-interaction-id:
          schema:
            $ref: '#/components/schemas/XFapiInteractionId'
        x-v:
          schema:
            $ref: '#/components/schemas/XV'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansContractList'
    OKResponseLoansContract:
      description: Datos del contrato de préstamo identificado por contractId
      headers:
        x-fapi-interaction-id:
          schema:
            $ref: '#/components/schemas/XFapiInteractionId'
        x-v:
          schema:
            $ref: '#/components/schemas/XV'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansContract'
    OKResponseLoansWarranties:
      description: Lista de garantías vinculadas al contrato de préstamo identificado por contractId
      headers:
        x-fapi-interaction-id:
          schema:
            $ref: '#/components/schemas/XFapiInteractionId'
        x-v:
          schema:
            $ref: '#/components/schemas/XV'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansWarranties'
    OKResponseLoansInstalments:
      description: Datos del cronograma de cuotas del contrato de préstamo identificado por contractId
      headers:
        x-fapi-interaction-id:
          schema:
            $ref: '#/components/schemas/XFapiInteractionId'
        x-v:
          schema:
            $ref: '#/components/schemas/XV'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansInstalments'
    OKResponseLoansPayments:
      description: Datos de pagos del contrato de préstamo identificado por contractId
      headers:
        x-fapi-interaction-id:
          schema:
            $ref: '#/components/schemas/XFapiInteractionId'
        x-v:
          schema:
            $ref: '#/components/schemas/XV'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansPayments'
    BadRequest:
      description: 'La solicitud fue malformada, omitiendo atributos obligatorios, sea en el payload o a través de atributos en la URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Forbidden:
      description: El token tiene alcance incorrecto o una política de seguridad fue violada
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    InternalServerError:
      description: Ocurrió un error en el gateway de la API o en el microservicio
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Locked:
      description: Bloqueado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    MethodNotAllowed:
      description: El consumidor intentó acceder al recurso con un método no soportado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    NotAcceptable:
      description: La solicitud contenía un encabezado Accept diferente de los tipos de medios permitidos o un conjunto de caracteres diferente de UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    NotFound:
      description: El recurso solicitado no existe o no fue implementado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    TooManyRequests:
      description: 'La operación fue rechazada, pues muchas solicitudes fueron hechas dentro de un determinado período o el límite global de solicitudes concurrentes fue alcanzado'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Unauthorized:
      description: Encabezado de autenticación ausente/inválido o token inválido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    UnprocessableEntity:
      description: 'La sintaxis de la solicitud esta correcta, pero no fue posible procesar las instrucciones presentes.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'