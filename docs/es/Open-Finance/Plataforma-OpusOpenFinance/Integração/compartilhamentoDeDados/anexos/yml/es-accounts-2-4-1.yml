openapi: 3.0.0
info:
  title: API Accounts - Integration Layer - OPUS Open Finance Brasil
  description: |
    API de cuentas de depósito a la vista, cuentas de ahorro y cuentas prepagas de la Capa de Integración de la Institución Transmisora con Opus Open Finance Brasil.
    API que retorna información de cuentas de depósito a la vista, cuentas de ahorro y cuentas de pago prepagas mantenidas en las instituciones transmisoras por sus clientes,
    incluyendo datos de identificación de la cuenta, saldos, límites y transacciones.
    No posee segregación entre persona natural y persona jurídica.

    # Orientaciones 

    ## Fecha de inmutabilidad por tipo de transacción​
    El identificador de transacciones de cuentas es de envío obligatorio en Open Finance Brasil. Según el tipo de transacción debe enviarse un identificador único, estable e inmutable en D0 o D+1, según la tabla a continuación
    ```
    |---------------------------------------|-------------------------|-----------------------|
    | Tipo de Transacción                  | Fecha de Obligatoriedad | Fecha de Inmutabilidad |
    |---------------------------------------|-------------------------|-----------------------|
    | TED                                   | D0                      | D0                    |
    |---------------------------------------|-------------------------|-----------------------|
    | PIX                                   | D0                      | D0                    |
    |---------------------------------------|-------------------------|-----------------------|
    | TRANSFERENCIA MISMA INSTITUCIÓN (TEF) | D0                      | D0                    |
    |---------------------------------------|-------------------------|-----------------------|
    | TARIFA SERVICIOS SUELTOS             | D0                      | D0                    |
    |---------------------------------------|-------------------------|-----------------------|
    | NÓMINA DE PAGO                       | D0                      | D0                    |
    |---------------------------------------|-------------------------|-----------------------|
    | DOC                                   | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | BOLETO                               | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | CONVENIO RECAUDACIÓN                | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | PAQUETE TARIFA SERVICIOS            | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | DEPÓSITO                            | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | RETIRO                              | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | TARJETA                             | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | CARGOS INTERESES SOBREGIRO          | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | RENDIMIENTO APLICACIÓN FINANCIERA   | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | PORTABILIDAD SALARIO               | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | RESCATE APLICACIÓN FINANCIERA       | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | OPERACIÓN DE CRÉDITO               | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    | OTROS                               | D0                      | D+1                   |
    |---------------------------------------|-------------------------|-----------------------|
    ```

    ## Reglas de Inmutabilidad​

    Para las transacciones que pueden tener su identificador alterado, según reglas delimitadas, los comportamientos a continuación deben seguirse: ​

    - El identificador "provisional" compartido en D0 debe cambiarse al identificador definitivo en D+1:​
        
        - Es importante considerar que las instituciones financieras tienen diferentes formas de tratar feriados al procesar transacciones. Unas consideran solo feriados nacionales y otras consideran feriados regionales. ​
            
        - Para transacciones en D+1 con estado TRANSACCION_EFECTIVADA se entiende que D+1 se refiere a días hábiles.
            
    - No deben compartirse al mismo tiempo el identificador provisional y el identificador definitivo, es decir, después del cambio de estado de la transacción a TRANSACCION_EFECTIVADA, solo la transacción con el identificador definitivo debe exponerse.​
        
    - La fecha y el valor de la transacción pueden modificarse al cambiar el estado a TRANSACCION_EFECTIVADA, de acuerdo con los procesos internos existentes en las instituciones. Por ejemplo: Rescates de inversiones sin liquidez, y Compra y Venta de acciones. ​
        
    - La propiedad de identificador de transacción único, estable e inmutable entra en vigor a partir del momento en que el estado de la transacción pasa a ser TRANSACCION_EFECTIVADA. Sin embargo:​
        
        - No debe tenerse el mismo identificador entre transacciones en diferentes estados. Por ejemplo, no es posible tener al mismo tiempo el identificador 123 siendo utilizado para transacciones en estado TRANSACCION_PROCESANDO y TRANSACCION_EFECTIVADA, incluso si los valores y fechas son distintos.​
            
    - Específicamente en los casos de transacciones en estado LANZAMIENTO_FUTURO la fecha del campo transactionDateTime debe enviarse con la información de día/mes/año prevista para el procesamiento de la transacción y los demás campos de precisión de la fecha/hora pueden enviarse como 0 (00:00:00.000).​
        
    - El identificador de transacción puede repetirse solo para transacciones en estado TRANSACCION_PROCESANDO y LANZAMIENTO_FUTURO. Es decir, una institución puede utilizar, por ejemplo, el identificador 9999999 para identificar todas las transacciones que aún serán confirmadas (estado TRANSACCION_PROCESANDO). 
        
    - Para las transacciones que no pueden tener su identificador alterado, según reglas delimitadas, hay excepciones mapeadas:  ​
        
        - Existen situaciones, principalmente para clientes Persona Jurídica, en las cuales las transacciones se registran de forma individual (múltiples transacciones) en D0 y en D+1 se consolidan en un único registro. También podemos tener el escenario opuesto, en el cual la transacción se registra de forma consolidada en D0 y en D+1 se "abren" en múltiples registros individuales. Es importante que no haya duplicidad de información en la exposición, es decir, las transacciones individuales y la transacción consolidada no se expongan al mismo tiempo. ​
            
            - Por ejemplo, para transacciones de boleto, pix o nómina de pago, en D0 se realizan registros individuales con TransactionId individuales, y en D+1 se efectúa un registro único con un nuevo transactionID. ​
                
        - Existen situaciones de excepción en las cuales un registro con identificador estable en D0 puede eliminarse en D+1. ​
            
            - Por ejemplo, para situaciones de cobro de tarifa suelta en las cuales existe acuerdo comercial o insuficiencia de saldo.
  version: 4.0.0-rc.1-base2.4.2
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
tags:
  - name: Accounts
    description: Operaciones para listar la información de la Cuenta del Cliente
paths:
  /account-discovery:
    post:
      tags:
        - Accounts
      summary: Obtiene una lista de recursos representando todas las cuentas disponibles para que el cliente elija consentir.
      operationId: discoverAccounts
      description: Método para obtener la lista de cuentas de depósito a la vista, ahorro y pago prepagas mantenidas por el cliente en la institución transmisora y para las cuales él pueda proporcionar consentimiento.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMeta'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountDiscovery'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /accounts:
    post:
      tags:
        - Accounts
      summary: Obtiene la lista de cuentas consentidas por el cliente.
      operationId: accountsGetAccounts
      description: 'Método para obtener la lista de cuentas de depósito a la vista, ahorro y pago prepagas mantenidas por el cliente en la institución transmisora y para las cuales haya proporcionado consentimiento.'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestAccounts'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountList'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /find:
    post:
      tags:
        - Accounts
      summary: Obtiene los datos de identificación de la cuenta identificada por accountId.
      description: 'Método para obtener los datos de identificación de la cuenta de depósito a la vista, ahorro o pago prepaga identificada por accountId mantenida por el cliente en la institución transmisora.'
      operationId: accountsGetAccountsAccountId
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndAccountId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountIdentification'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /balances:
    post:
      tags:
        - Accounts
      summary: Obtiene los saldos de la cuenta identificada por accountId.
      operationId: accountsGetAccountsAccountIdBalances
      description: 'Método para obtener los saldos de la cuenta de depósito a la vista, ahorro o pago prepaga identificada por accountId mantenida por el cliente en la institución transmisora.'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndAccountId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountBalances'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /transactions:
    post:
      tags:
        - Accounts
      summary: Obtiene la lista de transacciones de la cuenta identificada por accountId.
      operationId: accountsGetAccountsAccountIdTransactions
      description: Método para obtener la lista de transacciones de la cuenta de depósito a la vista, ahorro o pago prepaga identificada por accountId mantenida por el cliente en la institución transmisora. Se permite una consulta máxima que se extienda hasta 12 meses en el pasado más 12 meses en el futuro.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestTransactions'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountTransactions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /transactions-current:
    post:
      tags:
        - Accounts
      summary: Obtiene la lista de transacciones recientes (últimos 7 días) de la cuenta identificada por accountId.
      operationId: accountsGetAccountsAccountIdTransactionsCurrent
      description: Método para obtener la lista de transacciones de la cuenta de depósito a la vista, ahorro o pago prepaga identificada por accountId mantenida por el cliente en la institución transmisora. Se permite una consulta máxima que se extienda hasta 7 días en el pasado más 12 meses en el futuro.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestTransactionsCurrent'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountTransactions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /overdraft-limits:
    post:
      tags:
        - Accounts
      summary: Obtiene los límites de la cuenta identificada por accountId.
      operationId: accountsGetAccountsAccountIdOverdraftLimits
      description: Método para obtener los límites de la cuenta de depósito a la vista, ahorro o pago prepaga identificada por accountId mantenida por el cliente en la institución transmisora. Para las instituciones financieras transmisoras que posean cuentas sin límites asociados deben retornar HTTP Status 200 con el objeto "data" vacío, sin ningún atributo interno.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndAccountId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountOverdraftLimits'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
components:
  schemas:
    AccountBalancesDataAutomaticallyInvestedAmount:
      type: object
      description: Saldo disponible con aplicación automática - corresponde a la suma del saldo disponible más el valor obtenido a partir de la aplicación automática. Expresado en valor monetario con mínimo 2 decimales y máximo 4 decimales.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    AccountOverdraftLimitsDataOverdraftContractedLimit:
      type: object
      description: Valor del límite contratado del sobregiro.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    AccountOverdraftLimitsDataOverdraftUsedLimit:
      type: object
      description: Valor utilizado total del límite del sobregiro y el adelanto a depositante.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    AccountOverdraftLimitsDataUnarrangedOverdraftAmount:
      type: object
      description: Valor de operación contratada en carácter emergencial para cobertura de saldo deudor en cuenta de depósitos a la vista y de exceso sobre el límite pactado de sobregiro.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    AccountBalancesDataBlockedAmount:
      type: object
      description: 'Saldo bloqueado, no disponible para utilización inmediata, por motivo de bloqueo presentado al cliente en los canales electrónicos. Expresado en valor monetario con mínimo 2 decimales y máximo 4 decimales.'
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    AccountBalancesDataAvailableAmount:
      type: object
      description: 'Saldo disponible para utilización inmediata. En el caso de cuenta de depósito a la vista, sin considerar sobregiro e inversiones vinculadas a la cuenta. Expresado en valor monetario con mínimo 2 decimales y máximo 4 decimales.'
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    AccountBalancesData:
      type: object
      description: |
        Conjunto de información de las Cuentas de: depósito a la vista, ahorro y de pago prepaga
      required:
        - availableAmount
        - blockedAmount
        - automaticallyInvestedAmount
        - updateDateTime
      properties:
        availableAmount:
          $ref: '#/components/schemas/AccountBalancesDataAvailableAmount'
        blockedAmount:
          $ref: '#/components/schemas/AccountBalancesDataBlockedAmount'
        automaticallyInvestedAmount:
          $ref: '#/components/schemas/AccountBalancesDataAutomaticallyInvestedAmount'
        updateDateTime:
          type: string
          format: date-time
          maxLength: 20
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$'
          example: '2021-05-21T08:30:00Z'
          description: |
            Fecha y hora de la última actualización del saldo. Se espera que la institución informe la última vez que capturó el saldo para compartir en Open Finance. De esta forma, es posible que:
            - Si la institución captura datos de forma síncrona, esta información sea de pocos momentos;
            - Si la institución captura datos de forma asíncrona, esta información sea de horas o días en el pasado;
            - Cuando no exista una fecha vinculada específicamente al bloque, se asume la fecha y hora de actualización del registro como un todo.

            De cualquier forma, es preciso continuar respetando el plazo máximo de tempestividad de la API de Cuentas.
    AccountData:
      type: object
      required:
        - brandName
        - companyCnpj
        - type
        - compeCode
        - number
        - checkDigit
        - accountId
      properties:
        brandName:
          type: string
          description: 'Nombre de la Marca reportada por el participante en Open Finance. Se recomienda utilizar, siempre que sea posible, el mismo nombre de marca asignado en el campo del directorio Customer Friendly Server Name (Authorisation Server).'
          maxLength: 80
          pattern: '[\w\W\s]*'
          example: Organização A
        companyCnpj:
          type: string
          maxLength: 14
          pattern: '^\d{14}$'
          description: 'Número completo del CNPJ de la institución responsable del Registro - el CNPJ corresponde al número de inscripción en el Registro de Persona Jurídica. Debe tener solo los números del CNPJ, sin máscara'
          example: '21128159000166'
        type:
          $ref: '#/components/schemas/EnumAccountType'
        compeCode:
          type: string
          description: 'Código identificador asignado por el Banco Central de Brasil a las instituciones participantes del STR (Sistema de Transferencia de Reservas). El Compe (Sistema de Compensación de Cheques y Otros Papeles) es un sistema que identifica y procesa las compensaciones bancarias. Está representado por un código de tres dígitos que sirve como identificador de bancos, por lo tanto, cada institución bancaria posee un número exclusivo'
          pattern: '^\d{3}$'
          maxLength: 3
          example: '001'
        branchCode:
          type: string
          description: |
            Código de la Agencia titular de la cuenta. (Agencia es la dependencia destinada a la atención al cliente, al público en general y a los asociados de cooperativas de crédito, en el ejercicio de actividades de la institución, no pudiendo ser móvil o transitoria)

            [Restricción] Obligatoriamente debe llenarse cuando el campo "type" sea diferente de CUENTA_PAGO_PREPAGA.
          pattern: '^\d{4}$'
          maxLength: 4
          example: '6272'
        number:
          type: string
          description: Número de la cuenta
          pattern: '^\d{8,20}$'
          maxLength: 20
          example: '94088392'
        checkDigit:
          type: string
          description: Dígito de la cuenta
          pattern: '[\w\W\s]*'
          maxLength: 1
          example: '4'
        accountId:
          $ref: '#/components/schemas/LegacyId'
    AccountIdentificationData:
      type: object
      description: |
        Conjunto de los atributos que caracterizan las Cuentas de: depósito a la vista, ahorro y de pago prepaga
      required:
        - compeCode
        - number
        - checkDigit
        - type
        - subtype
        - currency
      properties:
        compeCode:
          type: string
          maxLength: 3
          pattern: '^\d{3}$'
          description: 'Código identificador asignado por el Banco Central de Brasil a las instituciones participantes del STR (Sistema de Transferencia de Reservas). El número-código sustituyó al antiguo código COMPE. Todos los participantes del STR, excepto las Infraestructuras del Mercado Financiero (IMF) y la Secretaría del Tesoro Nacional, poseen un número-código independientemente de participar en la Centralizadora de la Compensación de Cheques (Compe).'
          example: '001'
        branchCode:
          type: string
          maxLength: 4
          pattern: '^\d{4}$'
          description: |
            Código de la Agencia titular de la cuenta. (Agencia es la dependencia destinada a la atención al cliente, al público en general y a los asociados de cooperativas de crédito, en el ejercicio de actividades de la institución, no pudiendo ser móvil o transitoria)

            [Restricción] Obligatoriamente debe llenarse cuando el campo "type" sea diferente de cuenta prepaga.
          example: '6272'
        number:
          type: string
          maxLength: 20
          pattern: '^\d{8,20}$'
          description: |
            Número de la cuenta
          example: '24550245'
        checkDigit:
          type: string
          maxLength: 1
          pattern: '[\w\W\s]*'
          description: |
            Dígito de la cuenta
          example: '4'
        type:
          $ref: '#/components/schemas/EnumAccountType'
        subtype:
          $ref: '#/components/schemas/EnumAccountSubType'
        currency:
          type: string
          pattern: '^(\w{3}){1}$'
          maxLength: 3
          description: |
            Moneda referente al valor de la transacción, según modelo ISO-4217. p.ej. 'BRL' 
            Todos los saldos informados están representados con la moneda vigente de Brasil
          example: BRL
    AccountOverdraftLimitsData:
      type: object
      description: |
        Conjunto de información de la Cuenta de: depósito a la vista
      properties:
        overdraftContractedLimit:
          $ref: '#/components/schemas/AccountOverdraftLimitsDataOverdraftContractedLimit'
        overdraftUsedLimit:
          $ref: '#/components/schemas/AccountOverdraftLimitsDataOverdraftUsedLimit'
        unarrangedOverdraftAmount:
          $ref: '#/components/schemas/AccountOverdraftLimitsDataUnarrangedOverdraftAmount'
    AccountTransactionsData:
      type: object
      required:
        - transactionId
        - completedAuthorisedPaymentType
        - creditDebitType
        - transactionName
        - type
        - transactionAmount
        - transactionDateTime
      properties:
        transactionId:
          $ref: '#/components/schemas/LegacyId'
        completedAuthorisedPaymentType:
          $ref: '#/components/schemas/EnumCompletedAuthorisedPaymentIndicator'
        creditDebitType:
          $ref: '#/components/schemas/EnumCreditDebitIndicator'
        transactionName:
          type: string
          maxLength: 200
          pattern: '[\w\W\s]*'
          description: |
            Literal usada en la institución financiera para identificar la transacción.
            La información presentada debe ser la misma utilizada en los canales digitales de la institución (así como el historial de transacciones presentado en la pantalla de la aplicación o del navegador).
            Si la institución posee más de un canal digital, la información compartida debe ser la del canal que presenta la descripción más completa posible de la transacción.
            En casos donde la descripción de la transacción se presenta con múltiples líneas, todas las líneas deben enviarse (concatenadas) en este atributo, no siendo obligatoria la concatenación de la información ya enviada en otros atributos (ej: valor, fecha) del mismo endpoint.
            Adicionalmente, el Banco Central puede determinar el formato de intercambio a ser adoptado por una institución participante específica.
          example: Transferencia Enviada Lima Santos
        type:
          $ref: '#/components/schemas/EnumTransactionTypes'
        transactionAmount:
          $ref: '#/components/schemas/AccountTransactionsDataAmount'
        transactionDateTime:
          type: string
          maxLength: 24
          pattern: '(^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)\.(?:[0-9]){3}Z$)'
          description: |
            Fecha y hora original de la transacción.
          example: '2016-01-29T12:29:03.374Z'
        partieCnpjCpf:
          type: string
          maxLength: 14
          pattern: '^\d{11}$|^\d{14}$'
          description: |
            Identificación de la persona involucrada en la transacción: pagador o beneficiario (Completar con el CPF o CNPJ, sin formato). Con la IN BCB nº 371, a partir del 02/05/23, el envío de la información de identificación de contraparte se volvió obligatorio para transacciones de pago. Para mayores detalles, consultar la página `Orientaciones - Cuentas`.

            [Restricción] Cuando el "type" se complete con valor NOMINA_PAGO y la transmisora sea la responsable del pago de salario (banco-nómina), el partieCnpjCpf informado debe ser del empleador relacionado.
          example: '43908445778'
        partiePersonType:
          $ref: '#/components/schemas/EnumPartiePersonType'
        partieCompeCode:
          type: string
          maxLength: 3
          pattern: '^\d{3}$'
          description: 'Código identificador asignado por el Banco Central de Brasil a las instituciones participantes del STR (Sistema de Transferencia de Reservas) referente a la persona involucrada en la transacción. El número-código sustituyó al antiguo código COMPE. Todos los participantes del STR, excepto las Infraestructuras del Mercado Financiero (IMF) y la Secretaría del Tesoro Nacional, poseen un número-código independientemente de participar en la Centralizadora de la Compensación de Cheques (Compe).'
          example: '001'
        partieBranchCode:
          type: string
          maxLength: 4
          pattern: '^\d{4}$'
          description: 'Código de la Agencia titular de la cuenta de la persona involucrada en la transacción. (Agencia es la dependencia destinada a la atención al cliente, al público en general y a los asociados de cooperativas de crédito, en el ejercicio de actividades de la institución, no pudiendo ser móvil o transitoria)'
          example: '6272'
        partieNumber:
          type: string
          maxLength: 20
          pattern: '^\d{8,20}$'
          description: Número de la cuenta de la persona involucrada en la transacción
          example: '67890854360'
        partieCheckDigit:
          type: string
          maxLength: 1
          pattern: '[\w\W\s]*'
          description: Dígito de la cuenta de la persona involucrada en la transacción
          example: '4'
    AccountTransactionsDataAmount:
      type: object
      description: Valor de la transacción. Expresado en valor monetario con mínimo 2 decimales y máximo 4 decimales.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Valor relacionado al objeto.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Moneda referente al valor monetario, siguiendo el modelo ISO-4217.'
          example: BRL
    EnumAccountSubType:
      type: string
      enum:
        - INDIVIDUAL
        - CONJUNTA_SIMPLES
        - CONJUNTA_SOLIDARIA
      description: |
        Subtipo de cuenta (ver Enum): 
        Cuenta individual - posee un único titular
        Cuenta conjunta simple - donde las movilizaciones financieras solo pueden realizarse mediante autorización de TODOS los titulares de la cuenta.
        Cuenta conjunta solidaria - es la modalidad cuyos titulares pueden realizar movilizaciones de forma aislada, es decir, sin que sea necesaria la autorización de los demás titulares
      example: INDIVIDUAL
    EnumAccountType:
      type: string
      enum:
        - CONTA_DEPOSITO_A_VISTA
        - CONTA_POUPANCA
        - CONTA_PAGAMENTO_PRE_PAGA
      description: |
        Tipos de cuentas.
        Modalidades tradicionales previstas por la Resolución 4.753, no contemplando cuentas vinculadas, cuenta de domiciliados en el exterior, cuentas en monedas extranjeras y cuenta correspondiente moneda electrónica.
        Ver Enum
        Cuenta de depósito a la vista o Cuenta corriente - es el tipo más común.
        En ella, el dinero está a su disposición para ser retirado en cualquier momento.
        Esta cuenta no genera rendimientos para el depositante
        Cuenta de ahorro - fue creada para estimular a las personas a ahorrar.
        El dinero que permanezca en la cuenta por treinta días pasa a generar rendimientos, con exención de impuesto a la renta para quien declara.
        Es decir, el dinero "crece" (rinde) mientras permanezca guardado en la cuenta.
        Cada depósito tendrá rendimientos mes a mes, siempre en el día del mes en que el dinero haya sido depositado
        Cuenta de pago prepaga: según CIRCULAR Nº 3.680, BCB de 2013, es la 'destinada a la ejecución de transacciones de pago en moneda electrónica realizadas con base en fondos denominados en reales previamente aportados'
      example: CONTA_DEPOSITO_A_VISTA
      maxLength: 24
    EnumCompletedAuthorisedPaymentIndicator:
      type: string
      description: |
        Indicador de la transacción:
          - Transacción efectivizada: la transacción alcanza este estado cuando el `transactionId` se vuelve inmutable;
          - Lanzamiento futuro: la transacción se efectivizará en momento futuro, es decir, el `transactionId` puede cambiar;
          - Transacción procesando: la transacción está en procesamiento, es decir, el `transactionId` puede cambiar.
      enum:
        - TRANSACAO_EFETIVADA
        - LANCAMENTO_FUTURO
        - TRANSACAO_PROCESSANDO
      example: TRANSACAO_EFETIVADA
    EnumCreditDebitIndicator:
      type: string
      description: |
        Indicador del tipo de registro:
        Débito (en el extracto) En un extracto bancario, los débitos, marcados con la letra "D" al lado del valor registrado, informan las salidas de dinero en la cuenta corriente.
        Crédito (en el extracto) En un extracto bancario, los créditos, marcados con la letra "C" al lado del valor registrado, informan las entradas de dinero en la cuenta corriente.
      enum:
        - CREDITO
        - DEBITO
      example: DEBITO
      maxLength: 7
    EnumPartiePersonType:
      type: string
      enum:
        - PESSOA_NATURAL
        - PESSOA_JURIDICA
      example: PESSOA_NATURAL
      description: |
        Identificación del Tipo de Persona de la persona involucrada en la transacción.
        Persona Natural - Informar CPF en el campo "partieCnpjCpf".
        Persona Jurídica - Informar CNPJ en el campo "partieCnpjCpf".
    EnumTransactionTypes:
      type: string
      description: |
        El campo debe clasificar la transacción en uno de los tipos descritos.
        El transmisor debe clasificar las transacciones disponibles asociándola a uno de los elementos del Enum listado en este campo.
        La opción OTROS solo debe utilizarse para los casos en que de hecho la transacción compartida no pueda clasificarse como uno de los elementos de este Enum.
        Por ejemplo en el caso de recepción de pensión alimenticia.
      enum:
        - TED
        - DOC
        - PIX
        - TRANSFERENCIA_MESMA_INSTITUICAO
        - BOLETO
        - CONVENIO_ARRECADACAO
        - PACOTE_TARIFA_SERVICOS
        - TARIFA_SERVICOS_AVULSOS
        - FOLHA_PAGAMENTO
        - DEPOSITO
        - SAQUE
        - CARTAO
        - ENCARGOS_JUROS_CHEQUE_ESPECIAL
        - RENDIMENTO_APLIC_FINANCEIRA
        - PORTABILIDADE_SALARIO
        - RESGATE_APLIC_FINANCEIRA
        - OPERACAO_CREDITO
        - OUTROS
      example: PIX
    Meta:
      type: object
      description: Meta información referente a la API solicitada.
      required:
        - totalRecords
        - totalPages
        - requestDateTime
      properties:
        totalRecords:
          type: integer
          format: int32
          description: Número total de registros en el resultado
          example: 1
        totalPages:
          type: integer
          format: int32
          description: Número total de páginas en el resultado
          example: 1
        requestDateTime:
          description: 'Fecha y hora de la consulta, según especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    MetaOnlyRequestDateTime:
      type: object
      description: Meta información referente a la API solicitada.
      required:
        - requestDateTime
      properties:
        requestDateTime:
          description: 'Fecha y hora de la consulta, según especificación RFC-3339, formato UTC.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    ResponseAccountList:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          description: 'Lista de cuentas de depósito a la vista, ahorro y pago prepagas mantenidas por el cliente en la institución transmisora y para las cuales haya proporcionado consentimiento'
          minItems: 0
          items:
            $ref: '#/components/schemas/AccountData'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseAccountBalances:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/AccountBalancesData'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseAccountIdentification:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/AccountIdentificationData'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseAccountOverdraftLimits:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/AccountOverdraftLimitsData'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseAccountTransactions:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          description: |
            Lista de los registros referentes a las transacciones realizadas y de registros futuros para las cuentas de: depósito a la vista, ahorro y de pago prepaga
          minItems: 0
          items:
            $ref: '#/components/schemas/AccountTransactionsData'
        meta:
          $ref: '#/components/schemas/MetaOnlyRequestDateTimeAndHasMoreRecords'
    ResponseErrorMetaSingle:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          $ref: '#/components/schemas/MetaOnlyRequestDateTime'
    ResponseError:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          $ref: '#/components/schemas/Meta'
    LegacyId:
      description: |
        Array de clave y valor con la clave de identificación del recurso en el sistema de origen (legado), permitiendo claves compuestas
      type: array
      items:
        type: object
        required:
          - key
          - value
        properties:
          key:
            description: |
              Nombre del campo del identificador en el sistema de origen
            type: string
            example: internalResourceId
          value:
            description: |
              Valor del campo del identificador en el sistema de origen
            type: string
            example: '1234'
        additionalProperties: false
      minItems: 1
      maxItems: 10
    ToBookingDate:
      description: |
        Fecha final de filtrado.
        [Restricción] Debe obligatoriamente enviarse si el campo fromBookingDate es informado.
        Si no se informa, debe asumirse el día actual.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    FromBookingDate:
      description: |
        Fecha inicial de filtrado.
        [Restricción] Debe obligatoriamente enviarse si el campo toBookingDate es informado.
        Si no se informa, debe asumirse el día actual.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    ToBookingDateMaxLimited:
      description: |
        Fecha final de filtrado.
        El período máximo utilizado en el filtro es de 7 días inclusive (D-6).
        [Restricción] Debe obligatoriamente enviarse si el campo fromBookingDate es informado.
        Si no se informa, debe asumirse el día actual.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    FromBookingDateMaxLimited:
      description: |
        Fecha inicial de filtrado.
        El período máximo utilizado en el filtro es de 7 días inclusive (D-6).
        [Restricción] Debe obligatoriamente enviarse si el campo toBookingDate es informado.
        Si no se informa, debe asumirse el día actual.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    PaginationKey:
      description: |
        Identificador de rellamada, utilizado para evitar el conteo de llamadas al endpoint durante la paginación.
        Este campo puede ser transferido de un flujo anterior como un valor residual y, aunque pueda estar presente en la solicitud, no es necesario utilizarlo — puede simplemente ignorarse.
      type: string
      maxLength: 2048
      pattern: '[\w\W\s]*'
    Page:
      description: |
        Número de la página que se está solicitando (el valor de la primera página es 1).
      type: integer
      default: 1
      minimum: 1
      maximum: 2147483647
      format: int32
    PageSize:
      description: |
        Cantidad total de registros por páginas.
      type: integer
      default: 25
      minimum: 1
      format: int32
      maximum: 1000
    ConsentDataSharing:
      description: |
        Consentimiento de intercambio de datos
      type: object
      required:
        - brandId
        - creationDateTime
        - tpp
        - externalId
        - loggedUser
        - permissions
      properties:
        authExtraData:
          type: array
          description: |
            Array de clave y valor con datos adicionales provenientes del autorizador.
            Estos datos pueden utilizarse como filtros de recursos.
          items:
            type: object
            required:
              - key
              - value
            properties:
              key:
                type: string
                example: agencia
              value:
                type: string
                example: '0011'
        consentOwner:
          deprecated: true
          type: array
          description: |
            [Obsoleto] Array de clave y valor con los datos de identificación referentes al propietario del consentimiento.
          items:
            type: object
            required:
              - key
              - value
            properties:
              key:
                type: string
                example: agencia
              value:
                type: string
                example: '0011'
        brandId:
          type: string
          description: |
            Identificador de la marca reportada por el participante de Open Finance
          example: cbanco
          minLength: 1
          maxLength: 50
        creationDateTime:
          description: |
            Fecha y hora en que se creó el consentimiento.
            Una cadena con fecha y hora según especificación RFC-3339, siempre con la utilización de zona horaria UTC (formato de hora UTC).
          type: string
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$ '
          example: '2021-05-21T08:30:00Z'
          maxLength: 20
        tpp:
          type: object
          description: |
            Detalles del TPP (Third Party Provider) que solicitó el consentimiento
          additionalProperties: false
          required:
            - name
          properties:
            name:
              type: string
              description: |
                Nombre del TPP que solicitó el consentimiento
              example: GuiaBolsa
              maxLength: 100
        externalId:
          type: string
          description: |
            Identificador del consentimiento utilizado fuera de la plataforma Opus Open Finance
          example: urn:oob-bank:2f710909-4ccd-4998-8679-3d8de00e5ccf
          maxLength: 100
        loggedUser:
          type: object
          description: |
            Usuario (persona natural) que se encuentra conectado en la institución Transmisora de Datos.
          additionalProperties: false
          required:
            - document
          properties:
            document:
              type: object
              description: |
                Documento de identificación oficial del usuario.
              additionalProperties: false
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 11
                  description: |
                    Número del documento de identificación oficial del usuario.
                  example: '11111111111'
                  pattern: ^\d{11}$
                rel:
                  type: string
                  maxLength: 3
                  description: |
                    Tipo de documento de identificación oficial del usuario.
                  example: CPF
                  pattern: ^[A-Z]{3}$
        businessDocumentType:
          type: object
          description: |
            Usuario (persona jurídica) que se encuentra conectado en la institución Transmisora de Datos.
            [Restricción] Llenado obligatorio si el usuario conectado en la institución Transmisora de Datos es un CNPJ (persona jurídica).
          additionalProperties: false
          required:
            - document
          properties:
            document:
              type: object
              description: |
                Documento de identificación oficial del titular persona jurídica.
              additionalProperties: false
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 14
                  description: |
                    Número del documento de identificación oficial del titular persona jurídica.
                  example: '11111111111111'
                  pattern: ^\d{14}$
                rel:
                  type: string
                  maxLength: 4
                  description: |
                    Tipo de documento de identificación oficial del titular persona jurídica.
                  example: CNPJ
                  pattern: ^[A-Z]{4}$
        resources:
          description: |
            Lista de recursos permitidos por el cliente
          type: array
          items:
            type: object
            description: |
              Recursos seleccionados por el cliente
            required:
              - type
              - resourceLegacyId
            properties:
              type:
                description: |
                  Tipo de recurso
                type: string
                enum:
                  - ACCOUNT
                  - CREDIT_CARD_ACCOUNT
                  - LOAN
                  - FINANCING
                  - UNARRANGED_ACCOUNT_OVERDRAFT
                  - INVOICE_FINANCING
                  - PAYMENT
                  - BANK_FIXED_INCOME
                  - CREDIT_FIXED_INCOME
                  - VARIABLE_INCOME
                  - TREASURE_TITLE
                  - FUND
                example: PAYMENT
              resourceLegacyId:
                $ref: '#/components/schemas/LegacyId'
              authorizers:
                deprecated: true
                description: |
                  [Obsoleto] Lista de los autorizadores para el recurso en casos de múltiples niveles de aprobación.
                  Si el recurso es seleccionado, todos los autorizadores deberán aceptar el consentimiento del cual el recurso forma parte
                type: array
                items:
                  type: object
                  required:
                    - cpf
                    - name
                  properties:
                    cpf:
                      description: |
                        CPF del autorizador
                      type: string
                      minLength: 11
                      maxLength: 11
                      pattern: ^\d{11}$
                      example: '11111111111'
                    name:
                      description: |
                        Nombre del autorizador
                      type: string
                      example: Marco Antonio de Brito
                minItems: 1
              hasMultipleAuthorisers:
                deprecated: true
                type: boolean
                example: 'false'
            additionalProperties: false
          maxItems: 1000
        expirationDateTime:
          description: |
            Fecha y hora de expiración del permiso.
            De llenado obligatorio, refleja la fecha límite de validez del consentimiento.
            Una cadena con fecha y hora según especificación RFC-3339, siempre con la utilización de zona horaria UTC (formato de hora UTC).
          type: string
          maxLength: 20
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$ '
          example: '2021-05-21T08:30:00Z'
        permissions:
          type: array
          items:
            description: |
              Solo para consentimientos de intercambio de datos.
              Especifica los tipos de permisos de acceso a las APIs en el ámbito de Open Finance Brasil - Fase 2, de acuerdo con los bloques de consentimiento proporcionados por el usuario y necesarios para el acceso a cada endpoint de las APIs.
            type: string
            enum:
              - ACCOUNTS_READ
              - ACCOUNTS_BALANCES_READ
              - ACCOUNTS_TRANSACTIONS_READ
              - ACCOUNTS_OVERDRAFT_LIMITS_READ
              - CREDIT_CARDS_ACCOUNTS_READ
              - CREDIT_CARDS_ACCOUNTS_BILLS_READ
              - CREDIT_CARDS_ACCOUNTS_BILLS_TRANSACTIONS_READ
              - CREDIT_CARDS_ACCOUNTS_LIMITS_READ
              - CREDIT_CARDS_ACCOUNTS_TRANSACTIONS_READ
              - CUSTOMERS_PERSONAL_IDENTIFICATIONS_READ
              - CUSTOMERS_PERSONAL_ADITTIONALINFO_READ
              - CUSTOMERS_BUSINESS_IDENTIFICATIONS_READ
              - CUSTOMERS_BUSINESS_ADITTIONALINFO_READ
              - FINANCINGS_READ
              - FINANCINGS_SCHEDULED_INSTALMENTS_READ
              - FINANCINGS_PAYMENTS_READ
              - FINANCINGS_WARRANTIES_READ
              - INVOICE_FINANCINGS_READ
              - INVOICE_FINANCINGS_SCHEDULED_INSTALMENTS_READ
              - INVOICE_FINANCINGS_PAYMENTS_READ
              - INVOICE_FINANCINGS_WARRANTIES_READ
              - LOANS_READ
              - LOANS_SCHEDULED_INSTALMENTS_READ
              - LOANS_PAYMENTS_READ
              - LOANS_WARRANTIES_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_SCHEDULED_INSTALMENTS_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_PAYMENTS_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_WARRANTIES_READ
              - BANK_FIXED_INCOMES_READ
              - CREDIT_FIXED_INCOMES_READ
              - FUNDS_READ
              - VARIABLE_INCOMES_READ
              - TREASURE_TITLES_READ
              - EXCHANGES_READ
              - RESOURCES_READ
          minItems: 1
          maxItems: 30
          example:
            - ACCOUNTS_READ
            - ACCOUNTS_OVERDRAFT_LIMITS_READ
            - RESOURCES_READ
      additionalProperties: false
    RequestMeta:
      type: object
      description: |
        Objeto que contiene datos referentes al contexto en el cual se recibió la solicitud.
      required:
        - correlationId
        - brandId
      properties:
        correlationId:
          type: string
          description: |
            UUID que identifica el correlation ID de la solicitud realizada.
            Debe propagarse para todas las llamadas realizadas entre sistemas y registrarse siempre que sea posible para facilitar el rastreo de errores
          pattern: ^(localID:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
          example: localID:97623ed1-4732-4bf2-8d4b-ae7aced5443b
        brandId:
          type: string
          description: |
            Identificador de la marca reportada por el participante de Open Finance
          example: cbanco
          minLength: 1
          maxLength: 50
      additionalProperties: false
    RequestWithConsentAndRequestMeta:
      type: object
      required:
        - consent
        - requestMeta
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
    MetaOnlyRequestDateTimeAndHasMoreRecords:
      type: object
      description: |
        Meta información referente a la API solicitada.
      required:
        - requestDateTime
        - hasMoreRecords
      properties:
        requestDateTime:
          description: |
            Fecha y hora de la consulta, según especificación RFC-3339, formato UTC.
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
        hasMoreRecords:
          type: boolean
          description: |
            Indica si hay más registros por retornar (true) o no (false).
          example: true
    SelectableResourceDiscoveryResponse:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          description: |
            Objeto que contiene la lista de recursos disponibles para que el cliente consienta
          required:
            - resources
          properties:
            resources:
              description: |
                Lista de recursos relacionados al discovery
              type: array
              items:
                type: object
                properties:
                  resourceName:
                    description: |
                      Array de clave y valor con el nombre del recurso.
                      Estos datos pueden utilizarse para presentación en la pantalla de consentimiento.
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          description: |
                            Clave del caption del nombre del recurso
                          type: string
                          example: resourceName
                        value:
                          description: |
                            Valor del caption del nombre del recurso
                          type: string
                          example: Conta Corrente 1234
                      required:
                        - key
                        - value
                  resourceLegacyId:
                    $ref: '#/components/schemas/LegacyId'
                  resourceBalanceCurrency:
                    description: |
                      Moneda del saldo del recurso.
                      Opcional para presentación en la selección del recurso en el consentimiento de pago.
                    type: string
                  resourceBalanceAmount:
                    description: |
                      Valor del saldo del recurso.
                      Opcional para presentación en la selección del recurso en el consentimiento de pago.
                    type: number
                  authorizers:
                    description: |
                      [Obsoleto] Lista de los autorizadores para el recurso en casos de múltiples niveles de aprobación.
                      Este campo será descontinuado en futuras versiones.
                      Como la versión actual exige este campo, debe llenarse con al menos el nombre y CPF del loggedUser.
                    type: array
                    items:
                      type: object
                      properties:
                        cpf:
                          description: |
                            CPF del autorizador
                          type: string
                          minLength: 11
                          maxLength: 11
                          pattern: ^\d{11}$
                        name:
                          description: |
                            Nombre del autorizador
                          type: string
                      required:
                        - cpf
                        - name
                    minItems: 1
                  defaultSelected:
                    description: |
                      Indica si el recurso debe estar seleccionado por defecto en la pantalla de consentimiento.
                      Valor por defecto: false
                    type: boolean
                required:
                  - resourceName
                  - resourceLegacyId
                  - authorizers
    RequestWithConsentAndRequestMetaAndAccountId:
      type: object
      required:
        - consent
        - requestMeta
        - accountId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        accountId:
          $ref: '#/components/schemas/LegacyId'
    RequestAccounts:
      type: object
      required:
        - requestMeta
        - consent
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        accountType:
          $ref: '#/components/schemas/EnumAccountType'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    RequestTransactions:
      type: object
      required:
        - consent
        - requestMeta
        - accountId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        accountId:
          $ref: '#/components/schemas/LegacyId'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        fromBookingDate:
          $ref: '#/components/schemas/FromBookingDate'
        toBookingDate:
          $ref: '#/components/schemas/ToBookingDate'
        creditDebitIndicator:
          $ref: '#/components/schemas/EnumCreditDebitIndicator'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    RequestTransactionsCurrent:
      type: object
      required:
        - consent
        - requestMeta
        - accountId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        accountId:
          $ref: '#/components/schemas/LegacyId'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        fromBookingDate:
          $ref: '#/components/schemas/FromBookingDateMaxLimited'
        toBookingDate:
          $ref: '#/components/schemas/ToBookingDateMaxLimited'
        creditDebitIndicator:
          $ref: '#/components/schemas/EnumCreditDebitIndicator'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
  responses:
    OKResponseAccountList:
      description: Datos de identificación de las cuentas obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseAccountList'
    OKResponseAccountIdentification:
      description: Datos de identificación de la cuenta identificada por accountId obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseAccountIdentification'
    OKResponseAccountBalances:
      description: Datos relativos a los saldos de la cuenta identificada por accountId obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseAccountBalances'
    OKResponseAccountTransactions:
      description: Datos de la lista de transacciones de la cuenta identificada por accountId obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseAccountTransactions'
    OKResponseAccountOverdraftLimits:
      description: Datos de límites de la cuenta identificada por accountId obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseAccountOverdraftLimits'
    BadRequest:
      description: 'La solicitud fue malformada, omitiendo atributos obligatorios, ya sea en el payload o a través de atributos en la URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Forbidden:
      description: El token tiene alcance incorrecto o se ha violado una política de seguridad
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    GatewayTimeout:
      description: GATEWAY TIMEOUT - La solicitud no fue atendida dentro del tiempo límite establecido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    InternalServerError:
      description: Ocurrió un error en el gateway de la API o en el microservicio
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Locked:
      description: Bloqueado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    MethodNotAllowed:
      description: El consumidor intentó acceder al recurso con un método no soportado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    NotAcceptable:
      description: La solicitud contenía un encabezado Accept diferente de los tipos de medios permitidos o un conjunto de caracteres diferente de UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    NotFound:
      description: El recurso solicitado no existe o no ha sido implementado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    TooManyRequests:
      description: 'La operación fue rechazada, ya que se realizaron demasiadas solicitudes dentro de un período determinado o se alcanzó el límite global de solicitudes concurrentes'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Unauthorized:
      description: Encabezado de autenticación ausente/inválido o token inválido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    UnprocessableEntity:
      description: 'La sintaxis de la solicitud es correcta, pero no fue posible procesar las instrucciones presentes.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    SiteIsOverloaded:
      description: 'El sitio está sobrecargado y la operación fue rechazada, ya que se alcanzó el límite máximo de TPS global en este momento.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Default:
      description: Error inesperado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    BadRequestWithAdditionalProperties:
      description: 'La solicitud fue malformada, omitiendo atributos obligatorios, ya sea en el payload o a través de atributos en la URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    ForbiddenWithAdditionalProperties:
      description: El token tiene alcance incorrecto o se ha violado una política de seguridad
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    GatewayTimeoutWithAdditionalProperties:
      description: GATEWAY TIMEOUT - La solicitud no fue atendida dentro del tiempo límite establecido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    InternalServerErrorWithAdditionalProperties:
      description: Ocurrió un error en el gateway de la API o en el microservicio
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    LockedWithAdditionalProperties:
      description: Bloqueado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    MethodNotAllowedWithAdditionalProperties:
      description: El consumidor intentó acceder al recurso con un método no soportado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    NotAcceptableWithAdditionalProperties:
      description: La solicitud contenía un encabezado Accept diferente de los tipos de medios permitidos o un conjunto de caracteres diferente de UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    NotFoundWithAdditionalProperties:
      description: El recurso solicitado no existe o no ha sido implementado
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    TooManyRequestsWithAdditionalProperties:
      description: 'La operación fue rechazada, ya que se realizaron demasiadas solicitudes dentro de un período determinado o se alcanzó el límite global de solicitudes concurrentes'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    UnauthorizedWithAdditionalProperties:
      description: Encabezado de autenticación ausente/inválido o token inválido
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    UnprocessableEntityWithAdditionalProperties:
      description: 'La sintaxis de la solicitud es correcta, pero no fue posible procesar las instrucciones presentes.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    DefaultWithAdditionalProperties:
      description: Error inesperado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    SiteIsOverloadedWithAdditionalProperties:
      description: 'El sitio está sobrecargado y la operación fue rechazada, ya que se alcanzó el límite máximo de TPS global en este momento.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    OKResponseAccountDiscovery:
      description: Lista de recursos representando cuentas disponibles para que el cliente consienta obtenidos con éxito.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SelectableResourceDiscoveryResponse'
            