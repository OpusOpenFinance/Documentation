openapi: 3.0.0
info:
  title: API OpenData Financiamentos de Facturas del Open Finance Brasil
  description: La API descrita en este documento es referente a las API de Financiamentos de Facturas de la fase OpenData del Open Finance Brasil.
  version: 1.0.1
  license:
    name: Apache 2.0
    url: "https://www.apache.org/licenses/LICENSE-2.0"
tags:
  - name: Invoice Financings
    description: Operaciones para listado de Derechos Crediticios Descontados.
paths:
  /personal-invoice-financings:
    get:
      tags:
        - Invoice Financings
      summary: Obtiene la lista de Derechos Crediticios Descontados para Persona Natural.
      description: Obtiene la lista de Derechos Crediticios Descontados para Persona Natural.
      operationId: getPersonalInvoiceFinancings
      parameters:
        - $ref: "#/components/parameters/page"
        - $ref: "#/components/parameters/pageSize"
      responses:
        '200':
          description: Lista de Derechos Crediticios Descontados para persona natural obtenida con éxito.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponsePersonalInvoiceFinancings'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /business-invoice-financings:
    get:
      tags:
        - Invoice Financings
      summary: Obtiene la lista de Derechos Crediticios Descontados para Persona Jurídica.
      description: Obtiene la lista de Derechos Crediticios Descontados para Persona Jurídica.
      operationId: getBusinessInvoiceFinancings
      parameters:
        - $ref: "#/components/parameters/page"
        - $ref: "#/components/parameters/pageSize"
      responses:
        '200':
          description: Lista de Derechos Crediticios Descontados para persona jurídica obtenida con éxito.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseBusinessInvoiceFinancings'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
components:
  schemas:
    ApplicationRate:
      type: object
      required:
        - interval
        - indexer
        - customers
      x-regulatory-required:
        - interval
        - indexer
        - customers
      properties:
        interval:
          $ref: '#/components/schemas/ApplicationIntervals'
        indexer:
          $ref: '#/components/schemas/Indexer'
        customers:
          $ref: '#/components/schemas/Customer'
    Indexer:
      type: object
      x-regulatory-required:
        - rate
      properties:
        rate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          description: |
            Porcentaje que corresponde a la mediana de la tasa fija cobrada al cliente por la contratación del crédito, en el intervalo informado. Ej: 0.087000 = 8.7%. 
            En el caso de productos puramente posfijados, las franjas 1, 2, 3 y 4 deben recibir el valor 0.000000 (cero). 
            En ese caso, el customers/rate deberá representarse con 1.000000, es decir, 100%.
            El cálculo puede realizarse con hasta 6 decimales. El llenado debe respetar las 6 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.150000. Este valor representa 15%. El valor 1.000000 representa 100%).
          example: '0.087000'
    PriceIntervals:
      type: string
      enum:
        - 1_FAIXA
        - 2_FAIXA
        - 3_FAIXA
        - 4_FAIXA
      description: |
        Según Normativa nº 32, BCB, de 2020: La distribución de frecuencia relativa de los valores de tarifas cobradas a los clientes, de que trata el § 2º del art. 3º de la Circular nº 4.015, de 2020, debe basarse en cuatro franjas de igual tamaño, con explicación de los valores sobre la mediana en cada una de esas franjas. Informando: 1ª franja, 2ª franja, 3ª franja y 4ª franja.
      example: 1_FAIXA
    ApplicationIntervals:
      type: string
      description: |
        Franjas para el cobro de la tasa efectiva aplicada por la contratación del crédito, en el intervalo informado: 1ª franja, 2ª franja, 3ª franja y 4ª franja. Según Normativa nº32 de 2020: 'La distribución de frecuencia relativa de los valores de tarifas y tasas de interés cobrados a los clientes, de que trata el § 2º del art. 3º de la Circular nº 4.015, de 2020, debe basarse en cuatro franjas de igual tamaño, con explicación de los valores sobre la mediana y el porcentaje de clientes en cada una de esas franjas.
      enum:
        - 1_FAIXA
        - 2_FAIXA
        - 3_FAIXA
        - 4_FAIXA
      example: 4_FAIXA
    RequiredWarranty:
      type: string
      enum:
        - CESSAO_DIREITOS_CREDITORIOS
        - CAUCAO
        - PENHOR
        - ALIENACAO_FIDUCIARIA
        - HIPOTECA
        - OPERACOES_GARANTIDAS_PELO_GOVERNO
        - OUTRAS_GARANTIAS_NAO_FIDEJUSSORIAS
        - SEGUROS_ASSEMELHADOS
        - GARANTIA_FIDEJUSSORIA
        - BENS_ARRENDADOS
        - GARANTIAS_INTERNACIONAIS
        - OPERACOES_GARANTIDAS_OUTRAS_ENTIDADES
        - ACORDOS_COMPENSACAO
        - NAO_EXIGE_GARANTIA
      description: |
        Relación de garantías exigidas, según el documento 3040 del Bacen:
        * `CESSAO_DIREITOS_CREDITORIOS`: el cedente transfiere al acreedor/cesionario la titularidad de derechos crediticios, hasta la liquidación de la deuda. El acreedor/cesionario pasa a recibirlos directamente de los deudores y acredita el producto de la operación al cedente en la operación que originó la cesión, hasta su liquidación.
        * `CAUCAO`: garantía constituida sobre créditos del garante.
        * `PENHOR`: derecho real que consiste en la entrega de un bien mueble o movilizable, susceptible de enajenación, realizada por el deudor o un tercero al acreedor, para garantizar el pago de la deuda.
        * `ALIENACAO_FIDUCIARIA`: transferencia al acreedor, o fiduciario, de la propiedad del bien.
        * `HIPOTECA`: derecho real de garantía que afecta un bien inmueble para el cumplimiento de la obligación.
        * `OPERACOES_GARANTIDAS_PELO_GOVERNO`: en instancias federal, estatal o municipal.
        * `OUTRAS_GARANTIAS_NAO_FIDEJUSSORIAS`: garantías reales no descritas como: cesión de derechos crediticios, caución, prenda, alienación fiduciaria, hipoteca u operación garantizada por el gobierno.
        * `SEGUROS_ASSEMELHADOS`: seguros (y similares) contratados para garantizar el pago de la operación en circunstancias adversas.
        * `GARANTIA_FIDEJUSSORIA`: basada en la fidelidad del garante para cumplir las obligaciones, si el deudor no lo hace.
        * `BENS_ARRENDADOS`: bien objeto del arrendamiento financiero.
        * `GARANTIAS_INTERNACIONAIS`: declarar si la garantía es mitigadora o no, observando los criterios definidos por la Circular 3.644, del 4 de marzo de 2013.
        * `OPERACOES_GARANTIDAS_OUTRAS_ENTIDADES`: declarar las garantías prestadas por las entidades descritas en el punto 3. Información de Garantías (i) del documento 3040 - Bacen.
        * `ACORDOS_COMPENSACAO`: operaciones amparadas por acuerdos para la compensación y liquidación de obligaciones en el ámbito del SFN, según la Resolución 3.263, del 24 de febrero de 2005.
        * `NAO_EXIGE_GARANTIA`
      example: CESSAO_DIREITOS_CREDITORIOS
    ResponsePersonalInvoiceFinancings:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 1
          description: Conjunto de informaciones referentes al producto Derechos Crediticios Descontados.
          items:
            $ref: '#/components/schemas/PersonalInvoiceFinancingsData'
        links:
          $ref: '#/components/schemas/Links'
        meta:
          $ref: '#/components/schemas/Meta'
    PersonalInvoiceFinancingsData:
      type: object
      required:
        - type
        - fees
        - interestRates
        - requiredWarranties
        - termsConditions
      x-regulatory-required:
        - type
        - requiredWarranties
        - termsConditions
      properties:
        participant:
          $ref: '#/components/schemas/Participant'
        type:
          type: string
          enum:
            - DESCONTO_DUPLICATAS
            - DESCONTO_CHEQUES
            - ANTECIPACAO_FATURA_CARTAO_CREDITO
            - OUTROS_DIREITOS_CREDITORIOS_DESCONTADOS
            - OUTROS_TITULOS_DESCONTADOS
          description: 'Modalidades de derechos crediticios descontados ofrecidos para personas naturales, conforme a la Circular 4015-Bacen. Derecho crediticio descontado es la anticipación de créditos relativos, por ejemplo, a: descuento de facturas, descuento de cheques, anticipación de factura de tarjeta de crédito.'
          example: DESCONTO_DUPLICATAS
        fees:
          $ref: '#/components/schemas/InvoiceFinancingsFees'
        interestRates:
          type: array
          items:
            $ref: '#/components/schemas/PersonalInvoiceFinancingsInterestRates'
          minItems: 1
          maxItems: 20
          description: Lista que contiene el conjunto de informaciones necesarias para demostrar la distribución de frecuencias de las tasas de interés remuneratorias de la Modalidad de crédito.
        requiredWarranties:
          type: array
          items:
            $ref: '#/components/schemas/RequiredWarranty'
          minItems: 1
          maxItems: 14
          description: Lista de las garantías exigidas
        termsConditions:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 2000
          description: Campo abierto para informar las condiciones contractuales relativas a la Modalidad de Financiamiento para persona natural informada. Se puede informar la URL referente a la dirección donde constan las condiciones informadas. Dirección electrónica de acceso al canal.
          example: 'https://empresaa1.com/personal_invoice_financings'
    Participant:
      type: object
      description: Conjunto de informaciones relativas al participante del Open Finance que ofrece este producto.
      required:
        - brand
        - name
        - cnpjNumber
      x-regulatory-required:
        - brand
        - name
        - cnpjNumber
        - urlComplementaryList
      properties:
        brand:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 80
          description: Nombre de la marca.
          example: Organización A
        name:
          type: string
          description: Nombre de la Institución, perteneciente a la marca, responsable de la modalidad de Préstamos. p.ej. 'Empresa de la Organización A'.
          maxLength: 80
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: 'Empresa A1'
        cnpjNumber:
          type: string
          pattern: '^\d{14}$'
          minLength: 14
          maxLength: 14
          description: CNPJ
          example: "50685362000135"
        urlComplementaryList:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 1024
          description: |
            URL del enlace que contendrá la lista complementaria con los nombres y CNPJs agrupados bajo el mismo cnpjNumber. Los contenidos en esta lista tienen las mismas características para productos y servicios. Dirección electrónica de acceso al canal. Será obligatoriamente llenado si existe una lista complementaria con los nombres y CNPJs a ser disponible.
            Restricción: Será obligatoriamente llenado si existe una lista complementaria con los nombres y CNPJs a ser disponible.
          example: 'https://empresadaorganizaciona.com/complementarylist'
    InvoiceFinancingsService:
      type: object
      required:
        - name
        - code
        - chargingTriggerInfo
        - prices
        - minimum
        - maximum
      x-regulatory-required:
        - name
        - code
        - chargingTriggerInfo
      properties:
        name:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 250
          description: 'Nombres de las Tarifas cobradas por Servicios ofrecidos a la Modalidad de derechos crediticios descontados, para persona natural. (Campo Libre)'
          example: 'Custodia de Facturas'
        code:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 100
          description: 'Sigla de identificación del servicio relacionado a la Modalidad de derechos crediticios descontados, para persona natural. Campo abierto.'
          example: 'NA'
        chargingTriggerInfo:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 2000
          description: 'Factores generadores de cobro que inciden sobre las Modalidades de derechos crediticios descontados, para persona natural. Campo Libre'
          example: '5% del valor del contrato'
        prices:
          type: array
          items:
            $ref: '#/components/schemas/Price'
          minItems: 4
          maxItems: 4
          description: Lista distribución precios tarifas de servicios
        minimum:
          $ref: '#/components/schemas/MinimumPrice'
        maximum:
          $ref: '#/components/schemas/MaximumPrice'
    PersonalInvoiceFinancingsInterestRates:
      type: object
      required:
        - referentialRateIndexer
        - rate
        - applications
        - minimumRate
        - maximumRate
      x-regulatory-required:
        - referentialRateIndexer
        - rate
        - minimumRate
        - maximumRate
      properties:
        referentialRateIndexer:
          type: string
          enum:
            - SEM_INDEXADOR_TAXA
            - PRE_FIXADO
            - POS_FIXADO_TR_TBF
            - POS_FIXADO_TJLP
            - POS_FIXADO_LIBOR
            - POS_FIXADO_TLP
            - OUTRAS_TAXAS_POS_FIXADAS
            - FLUTUANTES_CDI
            - FLUTUANTES_SELIC
            - OUTRAS_TAXAS_FLUTUANTES
            - INDICES_PRECOS_IGPM
            - INDICES_PRECOS_IPCA
            - INDICES_PRECOS_IPCC
            - OUTROS_INDICES_PRECO
            - CREDITO_RURAL_TCR_PRE
            - CREDITO_RURAL_TCR_POS
            - CREDITO_RURAL_TRFC_PRE
            - CREDITO_RURAL_TRFC_POS
            - OUTROS_INDEXADORES
          description: 'Tipos de tasas referenciales o indexadores, conforme Anexo 5: Tasa referencial o Indexador (Indx), del Documento 3040.'
          example: PRE_FIXADO
        rate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          description: |
            Porcentaje que representa el indexador Pos seleccionado. Ej: 100% de la TR = 1.000000 de la TR, 90% de la TR = 0.9000000. 
            En casos donde no haya indexador, debe seleccionarse Sin Indexador en el campo /referentialRateIndexer y representarse la tasa de 0.000000 (cero). 
            En caso de que la tasa sea solo Fija, la tasa también deberá ser 0.000000 (cero).
            El cálculo puede realizarse con hasta 6 decimales. El llenado debe respetar las 6 decimales, incluso si vienen completadas con ceros (representación de porcentaje - Ej: 0.150000 = 15%. El valor 1.000000 representa 100%).
          example: '0.150000'
          minLength: 8
          maxLength: 8
        applications:
          type: array
          description: Lista de las franjas de cobro de la tasa efectiva de remuneración
          items:
            $ref:  "#/components/schemas/ApplicationRate"
          minItems: 4
          maxItems: 4
        minimumRate:
          type: string
          description: |
            Porcentaje mínimo cobrado (tasa efectiva) en el mes de referencia, para los Derechos Crediticios Descontados contratados. El cálculo puede realizarse con hasta 4 decimales. El llenado debe respetar las 4 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.15. Este valor representa 15%. El valor 1 representa 100%).
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          example: '0.088900'
        maximumRate:
          type: string
          description: |
            Porcentaje máximo cobrado (tasa efectiva) en el mes de referencia, para los Derechos Crediticios Descontados contratados. El cálculo puede realizarse con hasta 4 decimales. El llenado debe respetar las 4 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.15. Este valor representa 15%. El valor 1 representa 100%).
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          example: '0.686500'
    ResponseBusinessInvoiceFinancings:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          minItems: 1
          description: Conjunto de informaciones referentes al producto Derechos Crediticios Descontados.
          items:
            $ref: '#/components/schemas/BusinessInvoiceFinancingsData'
        links:
          $ref: '#/components/schemas/Links'
        meta:
          $ref: '#/components/schemas/Meta'
    BusinessInvoiceFinancingsData:
      type: object
      required:
        - type
        - fees
        - interestRates
        - requiredWarranties
        - termsConditions
      x-regulatory-required:
        - type
        - requiredWarranties
        - termsConditions
      properties:
        participant:
          $ref: '#/components/schemas/Participant'
        type:
          type: string
          description: 'Modalidades de derechos crediticios descontados ofrecidos para personas jurídicas, conforme a la Circular 4015-Bacen. Derecho crediticio descontado es la anticipación de créditos relativos, por ejemplo, a: descuento de facturas, descuento de cheques, anticipación de factura de tarjeta de crédito.'
          enum:
            - DESCONTO_DUPLICATAS
            - DESCONTO_CHEQUES
            - ANTECIPACAO_FATURA_CARTAO_CREDITO
            - OUTROS_DIREITOS_CREDITORIOS_DESCONTADOS
            - OUTROS_TITULOS_DESCONTADOS
          example: DESCONTO_DUPLICATAS
        fees:
          $ref: '#/components/schemas/InvoiceFinancingsFees'
        interestRates:
          type: array
          items:
            $ref: '#/components/schemas/BusinessInvoiceFinancingsInterestRates'
          minItems: 1
          maxItems: 20
          description: Lista que contiene el conjunto de informaciones necesarias para demostrar la distribución de frecuencias de las tasas de interés remuneratorias de la Modalidad de crédito
        requiredWarranties:
          type: array
          items:
            $ref: '#/components/schemas/RequiredWarranty'
          description: Lista de las garantías exigidas
          minItems: 1
          maxItems: 14
        termsConditions:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 2000
          description: Campo abierto para informar las condiciones contractuales relativas a la Modalidad de Financiamiento para persona jurídica informada. Se puede informar la URL referente a la dirección donde constan las condiciones informadas. Dirección electrónica de acceso al canal.
          example: 'https://empresaa1.com/personal_invoice_financings'
    InvoiceFinancingsFees:
      type: object
      description: Objeto que reúne informaciones de tarifas de servicios.
      properties:
        services:
          type: array
          description: |
            Lista de las Tarifas cobradas por Servicio.

            Para mejor comprensión de la regla de envío, verificar el área del desarrollador en la página de Datos Abiertos, sección: tabla verdad con instrucciones de envío de datos por Instituciones.
          items:
            $ref:  "#/components/schemas/InvoiceFinancingsService"
          minItems: 1
          maxItems: 20
    BusinessInvoiceFinancingsInterestRates:
      type: object
      required:
        - referentialRateIndexer
        - rate
        - applications
        - minimumRate
        - maximumRate
      x-regulatory-required:
        - referentialRateIndexer
        - rate
        - minimumRate
        - maximumRate
      properties:
        referentialRateIndexer:
          type: string
          enum:
            - SEM_INDEXADOR_TAXA
            - PRE_FIXADO
            - POS_FIXADO_TR_TBF
            - POS_FIXADO_TJLP
            - POS_FIXADO_LIBOR
            - POS_FIXADO_TLP
            - OUTRAS_TAXAS_POS_FIXADAS
            - FLUTUANTES_CDI
            - FLUTUANTES_SELIC
            - OUTRAS_TAXAS_FLUTUANTES
            - INDICES_PRECOS_IGPM
            - INDICES_PRECOS_IPCA
            - INDICES_PRECOS_IPCC
            - OUTROS_INDICES_PRECO
            - CREDITO_RURAL_TCR_PRE
            - CREDITO_RURAL_TCR_POS
            - CREDITO_RURAL_TRFC_PRE
            - CREDITO_RURAL_TRFC_POS
            - OUTROS_INDEXADORES
          description: 'Tipos de tasas referenciales o indexadores, conforme Anexo 5: Tasa referencial o Indexador (Indx), del Documento 3040.'
          example: PRE_FIXADO
        rate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          description: |
            Porcentaje que representa el indexador Pos seleccionado. Ej: 100% de la TR = 1.000000 de la TR, 90% de la TR = 0.9000000. 
            En casos donde no haya indexador, debe seleccionarse Sin Indexador en el campo /referentialRateIndexer y representarse la tasa de 0.000000 (cero). 
            En caso de que la tasa sea solo Fija, la tasa también deberá ser 0.000000 (cero).
            El cálculo puede realizarse con hasta 6 decimales. El llenado debe respetar las 6 decimales, incluso si vienen completadas con ceros (representación de porcentaje - Ej: 0.150000 = 15%. El valor 1.000000 representa 100%).
          example: '0.150000'
          minLength: 8
          maxLength: 8
        applications:
          type: array
          description: Lista de las franjas de cobro de la tasa efectiva de remuneración
          items:
            $ref:  "#/components/schemas/ApplicationRate"
          minItems: 4
          maxItems: 4
        minimumRate:
          type: string
          description: |
            Porcentaje mínimo cobrado (tasa efectiva) en el mes de referencia, para los Derechos Crediticios Descontados contratados. El cálculo puede realizarse con hasta 4 decimales. El llenado debe respetar las 4 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.15. Este valor representa 15%. El valor 1 representa 100%).
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          example: '0.150000'
        maximumRate:
          type: string
          description: |
            Porcentaje máximo cobrado (tasa efectiva) en el mes de referencia, para los Derechos Crediticios Descontados contratados. El cálculo puede realizarse con hasta 4 decimales. El llenado debe respetar las 4 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.15. Este valor representa 15%. El valor 1 representa 100%).
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          example: '0.686500'
    Price:
      type: object
      required:
        - interval
        - value
        - currency
        - customers
      x-regulatory-required:
        - interval
        - value
        - currency
        - customers
      properties:
        interval:
          $ref: '#/components/schemas/PriceIntervals'
        value:
          type: string
          pattern: '^(\d{1,9}\.\d{2}){1}$'
          minLength: 4
          maxLength: 12
          x-cds-type: AmountString
          description: |
            Valor de la mediana de cada franja relativa al servicio ofertado, informado en el período, conforme Res. nº 32 BCB, 2020. p.ej. '45.00' (representa un valor monetario. p.ej: 1547368.92. Este valor, considerando que la moneda sea BRL, significa R$ 1.547.368,92. El único separador presente debe ser el '.' (punto) para indicar el decimal. No debe haber separador de miles).
          
            Observación: Para efecto de comparación de tasas de los productos, las instituciones participantes, cuando no cobran tarifas, deben enviar el valor 0.00 señalando que para esa tasa no hay cobro por el servicio.
          example: '2000.00'
        currency:
          $ref:  '#/components/schemas/Currency'
        customers:
          $ref: '#/components/schemas/Customer'
    MinimumPrice:
      type: object
      required:
        - value
        - currency
      x-regulatory-required:
        - value
        - currency
      properties:
        value:
          type: string
          pattern: '^(\d{1,9}\.\d{2}){1}$'
          minLength: 4
          maxLength: 12
          x-cds-type: AmountString
          description: |
            Valor mínimo apurado para la tarifa de servicios sobre la base de clientes en el mes de referencia.

            Observación: Para efecto de comparación de tasas de los productos, las instituciones participantes, cuando no cobran tarifas, deben enviar el valor 0.00 señalando que para esa tasa no hay cobro por el servicio.
          example: '1350.00'
        currency:
          $ref:  "#/components/schemas/Currency"
    MaximumPrice:
      type: object
      required:
        - value
        - currency
      x-regulatory-required:
        - value
        - currency
      properties:
        value:
          type: string
          pattern: '^(\d{1,9}\.\d{2}){1}$'
          minLength: 4
          maxLength: 12
          x-cds-type: AmountString
          description: |
            Valor máximo apurado para la tarifa de servicios sobre la base de clientes en el mes de referencia.

            Observación: Para efecto de comparación de tasas de los productos, las instituciones participantes, cuando no cobran tarifas, deben enviar el valor 0.00 señalando que para esa tasa no hay cobro por el servicio.
          example: '8800.00'
        currency:
          $ref:  "#/components/schemas/Currency"
    Customer:
      type: object
      description: Informaciones relevantes para el cliente.
      required:
        - rate
      x-regulatory-required:
        - rate
      properties:
        rate:
          type: string
          description: |
            Porcentaje de clientes en cada franja.
          pattern: '^\d{1}\.\d{6}$'
          example: '0.150000'
          minLength: 8
          maxLength: 8
    Currency:
      type: string
      pattern: '^(\w{3}){1}$'
      minLength: 3
      maxLength: 3
      x-cds-type: CurrencyString
      description: 'Moneda referente al valor mínimo de la Tarifa, según modelo ISO-4217.'
      example: BRL
    Links:
      type: object
      description: Referencias a otros recursos de la API solicitada
      properties:
        self:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la página actualmente solicitada
          example: 'https://api.banco.com.br/open-banking/opendata-invoicefinancings/v1/resource'
        first:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la primera página de registros
          example: 'https://api.banco.com.br/open-banking/opendata-invoicefinancings/v1/resource'
        prev:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la página anterior de registros
          example: 'https://api.banco.com.br/open-banking/opendata-invoicefinancings/v1/resource'
        next:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la próxima página de registros
          example: 'https://api.banco.com.br/open-banking/opendata-invoicefinancings/v1/resource'
        last:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la última página de registros
          example: 'https://api.banco.com.br/open-banking/opendata-invoicefinancings/v1/resource'
    Meta:
      type: object
      description: Meta informaciones referentes a la API solicitada
      properties:
        totalRecords:
          type: integer
          description: Total de registros encontrados
          example: 1
        totalPages:
          type: integer
          description: Total de páginas para los registros encontrados
          example: 1
      required:
        - totalRecords
        - totalPages
    ResponseErrorMetaSingle:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 2048
        meta:
          type: object
          description: Meta informaciones referentes a la API solicitada.
          required:
            - requestDateTime
          properties:
            requestDateTime:
              description: 'Fecha y hora de la consulta, conforme a la especificación RFC-3339, formato UTC.'
              type: string
              maxLength: 20
              format: date-time
              example: '2021-05-21T08:30:00Z'
    ResponseError:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 2048
        meta:
          type: object
          description: Meta informaciones referentes a la API solicitada.
          required:
            - requestDateTime
          properties:
            requestDateTime:
              description: Fecha y hora de la consulta, conforme a la especificación RFC-3339, formato UTC.
              type: string
              format: date-time
              minLength: 20
              maxLength: 20
              pattern: '^[2-9]\d{3}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$'
              example: '2023-10-09T14:10:00Z'
  securitySchemes:
    APIKey1:
      name: API Key
      type: apiKey
      in: query
    APIKey2:
      name: API Key
      type: apiKey
      in: query
  parameters:
    page:
      name: page
      in: query
      description: Número de la página que se está solicitando (el valor de la primera página es 1).
      schema:
        type: integer
        format: int32
        default: 1
        minimum: 1
        maximum: 2147483647
    pageSize:
      name: page-size
      in: query
      description: Cantidad total de registros por página.
      schema:
        type: integer
        format: int32
        default: 25
        minimum: 1
        maximum: 1000
  responses:
    BadRequest:
      description: La solicitud fue malformada, omitiendo atributos obligatorios, ya sea en el payload o a través de atributos en la URL.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    NotFound:
      description: El recurso solicitado no existe o no ha sido implementado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    MethodNotAllowed:
      description: El consumidor intentó acceder al recurso con un método no soportado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    TooManyRequests:
      description: La operación fue rechazada, ya que se realizaron demasiadas solicitudes dentro de un período determinado o se alcanzó el límite global de solicitudes concurrentes.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    InternalServerError:
      description: Ocurrió un error en el gateway de la API o en el microservicio.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    GatewayTimeout:
      description: GATEWAY TIMEOUT - La solicitud no fue atendida dentro del tiempo límite establecido.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    SiteIsOverloaded:
      description: El sitio está sobrecargado y la operación fue rechazada, ya que se alcanzó el límite máximo de TPS global, en este momento.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Default:
      description: '\-'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
            