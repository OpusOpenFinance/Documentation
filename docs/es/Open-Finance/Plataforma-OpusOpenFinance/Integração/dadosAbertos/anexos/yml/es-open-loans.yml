openapi: 3.0.0
info:
  title: API OpenData Préstamos del Open Finance Brasil
  description: La API descrita en este documento es referente a las API de Préstamos de la fase OpenData del Open Finance Brasil.
  version: 1.0.1
  license:
    name: Apache 2.0
    url: "https://www.apache.org/licenses/LICENSE-2.0"
tags:
  - name: Loans
    description: Operaciones para listado de préstamos
paths:
  /personal-loans:
    get:
      tags:
        - Loans
      summary: Obtiene datos sobre préstamos para persona natural
      description: Obtiene datos sobre préstamos para persona natural
      operationId: getPersonalLoans
      parameters:
        - $ref: "#/components/parameters/page"
        - $ref: "#/components/parameters/pageSize"
      responses:
        '200':
          description: Datos sobre préstamos para persona natural obtenidos con éxito.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponsePersonalLoans'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /business-loans:
    get:
      tags:
        - Loans
      summary: Obtiene datos sobre préstamos para persona jurídica
      description: Obtiene datos sobre préstamos para persona jurídica
      operationId: getBusinessLoans
      parameters:
        - $ref: "#/components/parameters/page"
        - $ref: "#/components/parameters/pageSize"
      responses:
        '200':
          description: Datos sobre préstamos para persona jurídica obtenidos con éxito.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseBusinessLoans'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
components:
  schemas:
    ResponsePersonalLoans:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          description: Conjunto de informaciones referentes al producto Préstamos.
          minItems: 1
          items:
            $ref: '#/components/schemas/ResponsePersonalLoansData'
        links:
          $ref: '#/components/schemas/Links'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponsePersonalLoansData:
      type: object
      required:
        - type
        - interestRates
        - requiredWarranties
        - termsConditions
      x-regulatory-required:
        - type
        - requiredWarranties
        - termsConditions
      properties:
        participant:
          $ref: '#/components/schemas/Participant'
        type:
          type: string
          enum:
            - EMPRESTIMO_CREDITO_PESSOAL_CONSIGNADO
            - EMPRESTIMO_CREDITO_PESSOAL_SEM_CONSIGNACAO
            - EMPRESTIMO_HOME_EQUITY
            - EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO
            - EMPRESTIMO_CHEQUE_ESPECIAL
            - EMPRESTIMO_CONTA_GARANTIDA
          description: |
            Modalidades de préstamos ofrecidos para persona Natural, conforme Circular 4015-Bacen. Según cartilla del Bacen: Préstamo es un contrato entre el cliente y una institución financiera (banco, cooperativa de crédito, caja económica) por el cual el cliente recibe una cantidad de dinero que deberá ser devuelta en plazo determinado, más los intereses acordados. Los recursos obtenidos en el préstamo no tienen destinación específica.
              * `EMPRESTIMO_CREDITO_PESSOAL_CONSIGNADO` - operaciones de crédito con retención de parte del salario o beneficio del tomador, para el pago de las cuotas del préstamo - descuento en nómina - según la legislación vigente
              * `EMPRESTIMO_CREDITO_PESSOAL_SEM_CONSIGNACAO` - operaciones de préstamos a persona natural, sin vinculación con adquisición de bien o servicio y sin retención de parte del salario o beneficio del tomador para el pago de las cuotas del préstamo
              * `EMPRESTIMO_HOME_EQUITY` - préstamos persona natural, garantizados por hipoteca o por alienación fiduciaria de bienes inmuebles residenciales, sin vinculación a adquisición de bienes
              * `EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO` - según PNMPO es el crédito concedido para financiamiento de actividades productivas, cuya metodología será establecida en reglamento, observada la preferencia de la relación directa con los emprendedores, admitido el uso de tecnologías digitales y electrónicas que puedan sustituir el contacto presencial
              * `EMPRESTIMO_CHEQUE_ESPECIAL` - operaciones de crédito vinculadas a la cuenta corriente, en las cuales determinado límite de crédito es disponible para los clientes para utilización de acuerdo a su conveniencia, sin necesidad de comunicación previa a la institución financiera
              * `EMPRESTIMO_CONTA_GARANTIDA` - operaciones de crédito rotativo, en las cuales determinado límite de crédito es disponible para utilización por el cliente, a través de la simple movilización de la cuenta corriente y/o solicitud formal a la institución financiera. Las operaciones clasificadas en esta modalidad no deben tener fecha definida para la amortización del saldo deudor, excepto la establecida para vigencia del contrato
          example: EMPRESTIMO_CREDITO_PESSOAL_CONSIGNADO
        fees:
          $ref: '#/components/schemas/LoanFees'
        interestRates:
          type: array
          items:
            $ref: '#/components/schemas/LoanInterestRate'
          minItems: 1
          maxItems: 20
          description: Lista que contiene el conjunto de informaciones necesarias para demostrar la distribución de frecuencias de las tasas de interés remuneratorias de la Modalidad de crédito
        requiredWarranties:
          type: array
          items:
            $ref: '#/components/schemas/RequiredWarranty'
          minItems: 1
          maxItems: 14
          description: Lista de las garantías exigidas
        termsConditions:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 2000
          description: Campo abierto para informar las condiciones contractuales relativas a la Modalidad de Financiamiento para persona jurídica informada. Se puede informar la URL referente a la dirección donde constan las condiciones informadas. Dirección electrónica de acceso al canal.
          example: 'https://empresaa1.com/personal_loans'
    Participant:
      type: object
      description: Conjunto de informaciones relativas al participante del Open Finance que ofrece este producto.
      required:
        - brand
        - name
        - cnpjNumber
      x-regulatory-required:
        - brand
        - name
        - cnpjNumber
        - urlComplementaryList
      properties:
        brand:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 80
          description: Nombre de la Marca.
          example: Organización A
        name:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 80
          description: 'Nombre de la Institución, perteneciente a la marca, responsable de la comercialización de los productos y servicios'
          example: Empresa de la Marca A
        cnpjNumber:
          type: string
          minLength: 14
          maxLength: 14
          pattern: '^\d{14}$'
          description: CNPJ
          example: "50685362000135"
        urlComplementaryList:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 1024
          description: URL del enlace que contendrá la lista complementaria con los nombres y CNPJs agrupados bajo el mismo cnpjNumber. Los contenidos en esta lista tienen las mismas características para productos y servicios. Dirección electrónica de acceso al canal.
          example: 'https://example.com/mobile-banking'
    ResponseBusinessLoans:
      type: object
      required:
        - data
        - links
        - meta
      properties:
        data:
          type: array
          description: Conjunto de informaciones referentes al producto Préstamos.
          minItems: 1
          items:
            $ref: '#/components/schemas/ResponseBusinessLoansData'
        links:
          $ref: '#/components/schemas/Links'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseBusinessLoansData:
      type: object
      required:
        - type
        - interestRates
        - requiredWarranties
        - termsConditions
      x-regulatory-required:
        - type
        - requiredWarranties
        - termsConditions
      properties:
        participant:
          $ref: '#/components/schemas/Participant'
        type:
          type: string
          enum:
            - EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO
            - EMPRESTIMO_CHEQUE_ESPECIAL
            - EMPRESTIMO_CONTA_GARANTIDA
            - EMPRESTIMO_CAPITAL_GIRO_PRAZO_VENCIMENTO_ATE_365_DIAS
            - EMPRESTIMO_CAPITAL_GIRO_PRAZO_VENCIMENTO_SUPERIOR_365_DIAS
            - EMPRESTIMO_CAPITAL_GIRO_ROTATIVO
          description: |
            Modalidades de préstamos ofrecidos para personas Jurídicas, conforme Circular 4015-Bacen. Según cartilla del Bacen: Préstamo es un contrato entre el cliente y una institución financiera (banco, cooperativa de crédito, caja económica) por el cual el cliente recibe una cantidad de dinero que deberá ser devuelta en plazo determinado, más los intereses acordados. Los recursos obtenidos en el préstamo no tienen destinación específica.
            * Préstamo-Microcrédito Productivo Orientado - según PNMPO es el crédito concedido para financiamiento de actividades productivas, cuya metodología será establecida en reglamento, observada la preferencia de la relación directa con los emprendedores, admitido el uso de tecnologías digitales y electrónicas que puedan sustituir el contacto presencial
            * Préstamo-Cuenta especial - operaciones de crédito vinculadas a la cuenta corriente, en las cuales determinado límite de crédito es disponible para los clientes para utilización de acuerdo a su conveniencia, sin necesidad de comunicación previa a la institución financiera
            * Préstamo-Cuenta garantizada - operaciones de crédito rotativo, en las cuales determinado límite de crédito es disponible para utilización por el cliente, a través de la simple movilización de la cuenta corriente y/o solicitud formal a la institución financiera. Las operaciones clasificadas en esta modalidad no deben tener fecha definida para la amortización del saldo deudor, excepto la establecida para vigencia del contrato
            * Préstamo-Capital de trabajo con plazo de vencimiento hasta 365 días: operaciones de crédito orientadas al financiamiento de corto plazo (igual o inferior a 365 días) de las personas jurídicas, vinculadas a las necesidades de capital de trabajo y a un contrato específico que establezca plazos, tasas y garantías
            * Préstamo-Capital de trabajo con plazo de vencimiento superior a 365 días: operaciones de crédito orientadas al financiamiento de mediano y largo plazo (superior a 365 días) de las personas jurídicas, vinculadas a las necesidades de capital de trabajo y a un contrato específico que establezca plazos, tasas y garantías
            * Préstamo-Capital de trabajo rotativo: operaciones de crédito orientadas al financiamiento de capital de trabajo, vinculadas a un contrato que establezca línea de crédito rotativo, de forma que, a medida que la empresa deudora amortice los préstamos ya tomados, el límite disponible para utilización sea restituido, y amortizaciones con fechas predeterminadas, pudiendo facultarse al deudor repactar el flujo de pagos durante la vigencia del contrato
          example: EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO
        fees:
          $ref: '#/components/schemas/LoanFees'
        interestRates:
          type: array
          items:
            $ref: '#/components/schemas/LoanInterestRate'
          minItems: 1
          maxItems: 20
          description: Lista que contiene el conjunto de informaciones necesarias para demostrar la distribución de frecuencias de las tasas de interés remuneratorias de la Modalidad de crédito
        requiredWarranties:
          type: array
          items:
            $ref: '#/components/schemas/RequiredWarranty'
          minItems: 1
          maxItems: 14
          description: Lista de las garantías exigidas
        termsConditions:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 2000
          description: Campo abierto para informar las condiciones contractuales relativas a la Modalidad de Préstamo para persona jurídica informada. Se puede informar la URL referente a la dirección donde constan las condiciones informadas. Dirección electrónica de acceso al canal.
          example: 'https://empresaa1.com/personal_loans'
    LoanFees:
      type: object
      description: Objeto que reúne informaciones de tarifas de servicios.
      properties:
        services:
          type: array
          items:
            $ref: '#/components/schemas/LoanService'
          minItems: 1
          maxItems: 20
          description: |
            Lista de las Tarifas cobradas por Servicios.

            Para mejor comprensión de la regla de envío, verificar el área del desarrollador en la página de Datos Abiertos, sección: tabla verdad con instrucciones de envío de datos por Instituciones.
    LoanService:
      type: object
      required:
        - name
        - code
        - chargingTriggerInfo
        - prices
        - minimum
        - maximum
      x-regulatory-required:
        - name
        - code
        - chargingTriggerInfo
      properties:
        name:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 250
          description: Nombres de las Tarifas cobradas por Servicios relacionados a la Modalidad informada del Préstamo para persona natural/jurídica.
          example: Tasa de Apertura
        code:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 100
          description: Sigla de identificación del servicio relacionado a la Modalidad informada de Préstamo para persona natural/jurídica.
          example: NA
        chargingTriggerInfo:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 2000
          description: Factores generadores de cobro que inciden sobre las Modalidades informadas de Préstamos para persona natural/jurídica.
          example: 3% del valor del contrato
        prices:
          type: array
          items:
            $ref: '#/components/schemas/Price'
          minItems: 4
          maxItems: 4
        minimum:
          $ref: '#/components/schemas/MinimumPrice'
        maximum:
          $ref: '#/components/schemas/MaximumPrice'
    LoanInterestRate:
      required:
        - referentialRateIndexer
        - rate
        - applications
        - minimumRate
        - maximumRate
      x-regulatory-required:
        - referentialRateIndexer
        - rate
        - minimumRate
        - maximumRate
      type: object
      properties:
        referentialRateIndexer:
          type: string
          enum:
            - SEM_INDEXADOR_TAXA
            - PRE_FIXADO
            - POS_FIXADO_TR_TBF
            - POS_FIXADO_TJLP
            - POS_FIXADO_LIBOR
            - POS_FIXADO_TLP
            - OUTRAS_TAXAS_POS_FIXADAS
            - FLUTUANTES_CDI
            - FLUTUANTES_SELIC
            - OUTRAS_TAXAS_FLUTUANTES
            - INDICES_PRECOS_IGPM
            - INDICES_PRECOS_IPCA
            - INDICES_PRECOS_IPCC
            - OUTROS_INDICES_PRECO
            - CREDITO_RURAL_TCR_PRE
            - CREDITO_RURAL_TCR_POS
            - CREDITO_RURAL_TRFC_PRE
            - CREDITO_RURAL_TRFC_POS
            - OUTROS_INDEXADORES
          description: 'Tipos de tasas referenciales o indexadores, conforme Anexo 5: Tasa referencial o Indexador (Indx), del Documento 3040'
          example: PRE_FIXADO
        rate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          description: |
            Porcentaje que representa el indexador Pos seleccionado. Ej: 100% de la TR = 1.000000 de la TR, 90% de la TR = 0.9000000.
            En casos donde no haya indexador, debe seleccionarse Sin Indexador en el campo /referentialRateIndexer y representarse la tasa de 0.000000 (cero). 
            En caso de que la tasa sea solo Fija, la tasa también deberá ser 0.000000 (cero).
            El cálculo puede realizarse con hasta 6 decimales. El llenado debe respetar las 6 decimales, incluso si vienen completadas con ceros (representación de porcentaje - Ej: 0.150000 = 15%. El valor 1.000000 representa 100%).
          example: '0.150000'
          minLength: 8
          maxLength: 8
        applications:
          type: array
          items:
            $ref: '#/components/schemas/ApplicationRate'
          minItems: 4
          maxItems: 4
          description: Lista de las franjas de cobro de la tasa efectiva aplicada por la contratación de crédito
        minimumRate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          description: 'Porcentaje mínimo cobrado (tasa efectiva) en el mes de referencia, para el Préstamo contratado. El cálculo puede realizarse con hasta 4 decimales. El llenado debe respetar las 4 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.1500. Este valor representa 15%. El valor 1 representa 100%).'
          example: '0.045600'
        maximumRate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          description: 'Porcentaje máximo cobrado (tasa efectiva) en el mes de referencia, para el Préstamo contratado. El cálculo puede realizarse con hasta 4 decimales. El llenado debe respetar las 4 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.1500. Este valor representa 15%. El valor 1 representa 100%).'
          example: '0.686500'
    ApplicationRate:
      type: object
      required:
        - interval
        - indexer
        - customers
      x-regulatory-required:
        - interval
        - indexer
        - customers
      properties:
        interval:
          $ref: '#/components/schemas/ApplicationIntervals'
        indexer:
          $ref: '#/components/schemas/Indexer'
        customers:
          $ref: '#/components/schemas/Customer'
    Indexer:
      type: object
      x-regulatory-required:
        - rate
      properties:
        rate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          minLength: 8
          maxLength: 8
          description: |
            Porcentaje que corresponde a la mediana de la tasa fija cobrada al cliente por la contratación del crédito, en el intervalo informado. 
            Ej: 0.087000 = 8.7%. En el caso de productos puramente posfijados, las franjas 1, 2, 3 y 4 deben recibir el valor 0.000000 (cero). 
            En ese caso, el customers/rate deberá representarse con 1.000000, es decir, 100%. 
            El cálculo puede realizarse con hasta 6 decimales. El llenado debe respetar las 6 decimales, incluso si vienen completadas con ceros (representación de porcentaje, p.ej: 0.150000. Este valor representa 15%. El valor 1.000000 representa 100%).
          example: '0.087000'
    PriceIntervals:
      type: string
      enum:
        - 1_FAIXA
        - 2_FAIXA
        - 3_FAIXA
        - 4_FAIXA
      description: |
        Según Normativa nº 32, BCB, de 2020: La distribución de frecuencia relativa de los valores de tarifas cobradas a los clientes, de que trata el § 2º del art. 3º de la Circular nº 4.015, de 2020, debe basarse en cuatro franjas de igual tamaño, con explicación de los valores sobre la mediana en cada una de esas franjas. Informando: 1ª franja, 2ª franja, 3ª franja y 4ª franja.
      example: 1_FAIXA
    ApplicationIntervals:
      type: string
      description: |
        Franjas para el cobro de la tasa efectiva aplicada por la contratación del crédito, en el intervalo informado: 1ª franja, 2ª franja, 3ª franja y 4ª franja. Según Normativa nº32 de 2020: 'La distribución de frecuencia relativa de los valores de tarifas y tasas de interés cobrados a los clientes, de que trata el § 2º del art. 3º de la Circular nº 4.015, de 2020, debe basarse en cuatro franjas de igual tamaño, con explicación de los valores sobre la mediana y el porcentaje de clientes en cada una de esas franjas.
      enum:
        - 1_FAIXA
        - 2_FAIXA
        - 3_FAIXA
        - 4_FAIXA
      example: 4_FAIXA
    RequiredWarranty:
      type: string
      enum:
        - CESSAO_DIREITOS_CREDITORIOS
        - CAUCAO
        - PENHOR
        - ALIENACAO_FIDUCIARIA
        - HIPOTECA
        - OPERACOES_GARANTIDAS_PELO_GOVERNO
        - OUTRAS_GARANTIAS_NAO_FIDEJUSSORIAS
        - SEGUROS_ASSEMELHADOS
        - GARANTIA_FIDEJUSSORIA
        - BENS_ARRENDADOS
        - GARANTIAS_INTERNACIONAIS
        - OPERACOES_GARANTIDAS_OUTRAS_ENTIDADES
        - ACORDOS_COMPENSACAO
        - NAO_EXIGE_GARANTIA
      description: |
        Relación de garantías exigidas, según el documento 3040 del Bacen:
        * `CESSAO_DIREITOS_CREDITORIOS`: el cedente transfiere al acreedor/cesionario la titularidad de derechos crediticios, hasta la liquidación de la deuda. El acreedor/cesionario pasa a recibirlos directamente de los deudores y acredita el producto de la operación al cedente en la operación que originó la cesión, hasta su liquidación.
        * `CAUCAO`: garantía constituida sobre créditos del garante.
        * `PENHOR`: derecho real que consiste en la entrega de un bien mueble o movilizable, susceptible de enajenación, realizada por el deudor o un tercero al acreedor, para garantizar el pago de la deuda.
        * `ALIENACAO_FIDUCIARIA`: transferencia al acreedor, o fiduciario, de la propiedad del bien.
        * `HIPOTECA`: derecho real de garantía que afecta un bien inmueble para el cumplimiento de la obligación.
        * `OPERACOES_GARANTIDAS_PELO_GOVERNO`: en instancias federal, estatal o municipal.
        * `OUTRAS_GARANTIAS_NAO_FIDEJUSSORIAS`: garantías reales no descritas como: cesión de derechos crediticios, caución, prenda, alienación fiduciaria, hipoteca u operación garantizada por el gobierno.
        * `SEGUROS_ASSEMELHADOS`: seguros (y similares) contratados para garantizar el pago de la operación en circunstancias adversas.
        * `GARANTIA_FIDEJUSSORIA`: basada en la fidelidad del garante para cumplir las obligaciones, si el deudor no lo hace.
        * `BENS_ARRENDADOS`: bien objeto del arrendamiento financiero.
        * `GARANTIAS_INTERNACIONAIS`: declarar si la garantía es mitigadora o no, observando los criterios definidos por la Circular 3.644, del 4 de marzo de 2013.
        * `OPERACOES_GARANTIDAS_OUTRAS_ENTIDADES`: declarar las garantías prestadas por las entidades descritas en el punto 3. Información de Garantías (i) del documento 3040 - Bacen.
        * `ACORDOS_COMPENSACAO`: operaciones amparadas por acuerdos para la compensación y liquidación de obligaciones en el ámbito del SFN, según la Resolución 3.263, del 24 de febrero de 2005.
        * `NAO_EXIGE_GARANTIA`
      example: CESSAO_DIREITOS_CREDITORIOS
    Price:
      type: object
      required:
        - interval
        - value
        - currency
        - customers
      x-regulatory-required:
        - interval
        - value
        - currency
        - customers
      properties:
        interval:
          $ref: '#/components/schemas/PriceIntervals'
        value:
          type: string
          pattern: '^(\d{1,9}\.\d{2}){1}$'
          minLength: 4
          maxLength: 12
          x-cds-type: AmountString
          description: |
            Valor de la mediana de cada franja relativa al servicio ofertado, informado en el período, conforme Res. nº 32 BCB, 2020. p.ej. '45.00' (representa un valor monetario. p.ej: 1547368.92. Este valor, considerando que la moneda sea BRL, significa R$ 1.547.368,92. El único separador presente debe ser el '.' (punto) para indicar el decimal. No debe haber separador de miles).
          
            Observación: Para efecto de comparación de tasas de los productos, las instituciones participantes, cuando no cobran tarifas, deben enviar el valor 0.00 señalando que para esa tasa no hay cobro por el servicio.
          example: '2000.00'
        currency:
          $ref:  '#/components/schemas/Currency'
        customers:
          $ref: '#/components/schemas/Customer'
    MinimumPrice:
      type: object
      required:
        - value
        - currency
      x-regulatory-required:
        - value
        - currency
      properties:
        value:
          type: string
          pattern: '^(\d{1,9}\.\d{2}){1}$'
          minLength: 4
          maxLength: 12
          x-cds-type: AmountString
          description: |
            Valor mínimo apurado para la tarifa de servicios sobre la base de clientes en el mes de referencia

            Observación: Para efecto de comparación de tasas de los productos, las instituciones participantes, cuando no cobran tarifas, deben enviar el valor 0.00 señalando que para esa tasa no hay cobro por el servicio.
          example: '1350.00'
        currency:
          $ref:  "#/components/schemas/Currency"
    MaximumPrice:
      type: object
      required:
        - value
        - currency
      x-regulatory-required:
        - value
        - currency
      properties:
        value:
          type: string
          pattern: '^(\d{1,9}\.\d{2}){1}$'
          minLength: 4
          maxLength: 12
          x-cds-type: AmountString
          description: |
            Valor máximo apurado para la tarifa de servicios sobre la base de clientes en el mes de referencia
          
            Observación: Para efecto de comparación de tasas de los productos, las instituciones participantes, cuando no cobran tarifas, deben enviar el valor 0.00 señalando que para esa tasa no hay cobro por el servicio.
          example: '8800.00'
        currency:
          $ref:  "#/components/schemas/Currency"
    Customer:
      type: object
      description: Informaciones relevantes para el cliente.
      required:
        - rate
      x-regulatory-required:
        - rate
      properties:
        rate:
          type: string
          description: |
            Porcentaje de clientes en cada franja.
          pattern: '^\d{1}\.\d{6}$'
          example: '0.150000'
          minLength: 8
          maxLength: 8
    Currency:
      type: string
      pattern: '^(\w{3}){1}$'
      minLength: 3
      maxLength: 3
      x-cds-type: CurrencyString
      description: 'Moneda referente al valor mínimo de la Tarifa, según modelo ISO-4217.'
      example: BRL
    Links:
      type: object
      description: Referencias a otros recursos de la API solicitada.
      properties:
        self:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la página actualmente solicitada
          example: 'https://api.banco.com.br/open-banking/opendata-loans/v1/resource'
        first:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la primera página de registros
          example: 'https://api.banco.com.br/open-banking/opendata-loans/v1/resource'
        prev:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la página anterior de registros
          example: 'https://api.banco.com.br/open-banking/opendata-loans/v1/resource'
        next:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la próxima página de registros
          example: 'https://api.banco.com.br/open-banking/opendata-loans/v1/resource'
        last:
          type: string
          format: url
          minLength: 5
          maxLength: 2000
          description: URL de la última página de registros
          example: 'https://api.banco.com.br/open-banking/opendata-loans/v1/resource'
    Meta:
      type: object
      description: Meta informaciones referentes a la API solicitada.
      properties:
        totalRecords:
          type: integer
          description: Total de registros encontrados
          example: 1
        totalPages:
          type: integer
          description: Total de páginas para los registros encontrados
          example: 1
      required:
        - totalRecords
        - totalPages
    ResponseErrorMetaSingle:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 2048
        meta:
          type: object
          description: Meta informaciones referentes a la API solicitada.
          required:
            - requestDateTime
          properties:
            requestDateTime:
              description: 'Fecha y hora de la consulta, conforme a la especificación RFC-3339, formato UTC.'
              type: string
              maxLength: 20
              format: date-time
              example: '2021-05-21T08:30:00Z'
    ResponseError:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Código de error específico del endpoint
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              title:
                description: Título legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 255
              detail:
                description: Descripción legible por humanos de este error específico
                type: string
                pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                maxLength: 2048
        meta:
          type: object
          description: Meta informaciones referentes a la API solicitada.
          required:
            - requestDateTime
          properties:
            requestDateTime:
              description: Fecha y hora de la consulta, conforme a la especificación RFC-3339, formato UTC.
              type: string
              format: date-time
              minLength: 20
              maxLength: 20
              pattern: '^[2-9]\d{3}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$'
              example: '2023-10-09T14:10:00Z'
  securitySchemes:
    APIKey1:
      name: API Key
      type: apiKey
      in: query
    APIKey2:
      name: API Key
      type: apiKey
      in: query
  parameters:
    page:
      name: page
      in: query
      description: Número de la página que se está solicitando (el valor de la primera página es 1).
      schema:
        type: integer
        format: int32
        default: 1
        minimum: 1
        maximum: 2147483647
    pageSize:
      name: page-size
      in: query
      description: Cantidad total de registros por página.
      schema:
        type: integer
        format: int32
        default: 25
        minimum: 1
        maximum: 1000
  responses:
    BadRequest:
      description: La solicitud fue malformada, omitiendo atributos obligatorios, ya sea en el payload o a través de atributos en la URL.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    NotFound:
      description: El recurso solicitado no existe o no ha sido implementado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    MethodNotAllowed:
      description: El consumidor intentó acceder al recurso con un método no soportado.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    TooManyRequests:
      description: La operación fue rechazada, ya que se realizaron demasiadas solicitudes dentro de un período determinado o se alcanzó el límite global de solicitudes concurrentes.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    InternalServerError:
      description: Ocurrió un error en el gateway de la API o en el microservicio.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    GatewayTimeout:
      description: GATEWAY TIMEOUT - La solicitud no fue atendida dentro del tiempo límite establecido.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    SiteIsOverloaded:
      description: El sitio está sobrecargado y la operación fue rechazada, ya que se alcanzó el límite máximo de TPS global, en este momento.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Default:
      description: '\-'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
            