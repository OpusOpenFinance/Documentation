openapi: 3.0.0
info:
  title: Credit Portability API - Integration Layer - OPUS Open Finance Brazil
  description: |
    The Credit Portability API allows users to transfer their credit and leasing operations between financial institutions in search of better conditions for Open Finance Brazil.
  version: 4.0.0-rc.5-base1.0.0
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0
tags:
  - name: Account data
    description: Information on bank data for contract settlement via OFB exclusive STR.
  - name: Concurrency Management
    description: 'To prevent multiple portability requests for the same contract, institutions must implement mechanisms to: reject simultaneous credit portability requests for the same contract, whether through the registrar or Open Finance Brazil (OFB), always prioritizing the oldest request.'
  - name: Credit Portability
    description: Allows users to transfer their credit and leasing operations between financial institutions in search of better conditions.
  - name: Payments
    description: Informs the Creditor Institution about the settlement made through the OFB exclusive STR.
paths:
  /create-portability:
    post:
      tags:
        - Credit Portability
      summary: Requests credit portability for a specific contract with the creditor institution
      description: Credit portability request via OFB.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestPostPortabilities'
        description: Payload for the credit portability request.
        required: true
      responses:
        '202':
          $ref: '#/components/responses/POSTResponseCreditPortability'
        default:
          $ref: '#/components/responses/ResponseDefaultError'
  /cancel-portability:
    post:
      tags:
        - Credit Portability
      summary: Informs the Creditor Institution about the cancellation of credit portability.
      description: Informs the Creditor Institution about the cancellation of credit portability.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestPatchPortabilitiesPortabilityIdCancel'
        description: Payload to inform the creditor about the settlement made by the proposer and initiate the next stage of the credit portability flow.
        required: true
      responses:
        '200':
          $ref: '#/components/responses/PatchResponseCreditPortabilityCancel'
        default:
          $ref: '#/components/responses/ResponseDefaultError'
  /portability-eligibility:
    post:
      tags:
        - Concurrency Management
      summary: Informs whether a contract belonging to a specific customer will be eligible for a credit portability request, considering the rule of only one portability request per contract.
      description: Informs whether the contract is available for credit portability request.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestGetCreditOperationsContratIdPortabilityEligibility'
        description: Payload to verify eligibility for credit portability.
        required: true
      responses:
        '200':
          $ref: '#/components/responses/OKResponsePortabilityEligibility'
        default:
          $ref: '#/components/responses/ResponseDefaultError'
  /find-portability-account-data:
    post:
      tags:
        - Account data
      summary: Obtains the necessary data to perform the operation payment via TED.
      description: Method responsible for retrieving account information for TED payment execution.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestGetAccountData'
        description: Payload to obtain bank data for contract settlement via OFB exclusive STR.
        required: true
      responses:
        '200':
          $ref: '#/components/responses/OKResponseAccountData'
        default:
          $ref: '#/components/responses/ResponseDefaultError'
  /create-portability-payment:
    post:
      tags:
        - Payments
      summary: Informs the Creditor Institution about the settlement of credit portability.
      description: Informs the Creditor Institution about the settlement of credit portability.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestPostPortabilitiesPortabilityIdPayment'
        description: Payload to inform the creditor about the settlement made by the proposer and initiate the next stage of the credit portability flow.
        required: true
      responses:
        '202':
          $ref: '#/components/responses/POSTResponseCreditPortabilityPayment'
        default:
          $ref: '#/components/responses/ResponseDefaultError'
components:
  schemas:
    BrandId:
      type: string
      description: Identifier of the brand reported by the Open Banking participant
      minLength: 1
      maxLength: 50
      example: cbanco
    RequestMeta:
      type: object
      description: Object containing data related to the context in which the request was received
      required:
        - correlationId
        - brandId
      properties:
        correlationId:
          type: string
          description: UUID identifying the correlation ID of the request made. Should be propagated to all calls made between systems and logged whenever possible to facilitate error tracing
          pattern: ^(localID:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
          example: 97623ed1-4732-4bf2-8d4b-ae7aced5443b
        brandId:
          $ref: '#/components/schemas/BrandId'
      additionalProperties: false
    PortabilityId:
      type: string
      maxLength: 36
      minLength: 36
      description: Identifier code of the portability request made.
      pattern: ^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
      example: 54d5348c-1a3f-4ff4-a8a8-d0724fb806c6
    RequestGetAccountData:
      type: object
      required:
        - requestMeta
      properties:
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        portabilityId:
          $ref: '#/components/schemas/PortabilityId'
      additionalProperties: false
    LegacyId:
      description: Array of key-value pairs with the resource identification key in the source (legacy) system, allowing composite keys
      type: array
      items:
        type: object
        required:
          - key
        properties:
          key:
            description: Name of the identifier field in the source system
            type: string
            example: internalPaymentId
          value:
            description: Value of the identifier field in the source system
            type: string
            example: '1234'
      minItems: 1
      maxItems: 10
    AuthExtraData:
      type: array
      description: Array of key-value pairs with institution data, this data will be sent to the discovery connector and can be used as filters for resource selection.
      items:
        type: object
        required:
          - key
          - value
        properties:
          key:
            type: string
            example: agency
          value:
            type: string
            example: '0011'
    ConsentOwner:
      type: array
      description: Array of key-value pairs with identification data related to the consent owner. This data will be sent to the discovery connector.
      items:
        type: object
        required:
          - key
          - value
        properties:
          key:
            type: string
            example: agency
          value:
            type: string
            example: '0011'
    CreationDateTime:
      description: Date and time when the consent was created. A string with date and time according to RFC-3339 specification, always using UTC timezone (UTC time format).
      type: string
      pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
      maxLength: 20
      example: '2021-05-21T08:30:00Z'
    TPP:
      type: object
      description: Details of the TPP that requested the consent
      additionalProperties: false
      required:
        - name
      properties:
        name:
          type: string
          description: Name of the TPP that requested the consent
          maxLength: 100
          example: GuiaBolsa
    ExternalId:
      type: string
      description: Consent identifier used outside the OOB platform
      maxLength: 100
      example: urn:oob-bank:2f710909-4ccd-4998-8679-3d8de00e5ccf
    LoggedUser:
      type: object
      description: User (natural person) who is logged into the Payment Initiator institution.
      additionalProperties: false
      required:
        - document
      properties:
        document:
          type: object
          description: Official identification document of the user.
          additionalProperties: false
          required:
            - identification
            - rel
          properties:
            identification:
              type: string
              maxLength: 11
              description: Number of the user's official identification document.
              pattern: ^\d{11}$
              example: '11111111111'
            rel:
              type: string
              maxLength: 3
              description: Type of the user's official identification document.
              pattern: ^[A-Z]{3}$
              example: CPF
    BusinessEntity:
      type: object
      description: User (legal entity) who is logged into the Payment Initiator institution. [Restriction] Mandatory completion if the user logged into the Payment Initiator institution is a CNPJ (legal entity).
      additionalProperties: false
      required:
        - document
      properties:
        document:
          type: object
          description: Official identification document of the legal entity holder.
          additionalProperties: false
          required:
            - identification
            - rel
          properties:
            identification:
              type: string
              maxLength: 14
              description: Number of the legal entity holder's official identification document.
              pattern: ^\d{14}$
              example: '11111111111111'
            rel:
              type: string
              maxLength: 4
              description: Type of the legal entity holder's official identification document.
              pattern: ^[A-Z]{4}$
              example: CNPJ
    AcceptedResources:
      description: List of resources allowed by the customer to be used in the consent. Internal use object in connectors
      type: array
      items:
        type: object
        description: Resources selected by the customer
        required:
          - type
          - resourceLegacyId
        properties:
          type:
            description: Resource type
            type: string
            enum:
              - ACCOUNT
              - CREDIT_CARD_ACCOUNT
              - LOAN
              - FINANCING
              - UNARRANGED_ACCOUNT_OVERDRAFT
              - INVOICE_FINANCING
              - PAYMENT
              - BANK_FIXED_INCOME
              - CREDIT_FIXED_INCOME
              - VARIABLE_INCOME
              - TREASURE_TITLE
              - FUND
            example: PAYMENT
          resourceLegacyId:
            description: Array of key-value pairs with the resource identification key in the source (legacy) system, allowing composite keys
            type: array
            items:
              type: object
              required:
                - key
              properties:
                key:
                  description: Name of the identifier field in the source system
                  type: string
                  example: internalAccountId
                value:
                  description: Value of the identifier field in the source system
                  type: string
                  example: '1234'
            minItems: 1
            maxItems: 10
          authorizers:
            deprecated: true
            description: List of authorizers for the resource for cases of multiple clearance. If the resource is selected, all authorizers must accept the consent that the resource is part of
            type: array
            items:
              type: object
              required:
                - cpf
                - name
              properties:
                cpf:
                  description: CPF of the authorizer
                  type: string
                  minLength: 11
                  maxLength: 11
                  pattern: ^\d{11}$
                  example: '11111111111'
                name:
                  description: Name of the authorizer
                  type: string
                  example: Marco Antonio de Brito
            minItems: 1
          hasMultipleAuthorisers:
            deprecated: true
            type: boolean
            example: 'false'
        additionalProperties: false
      maxItems: 1000
    ExpirationDateTime:
      description: Permission expiration date and time. Mandatory completion, reflects the consent validity limit date. A string with date and time according to RFC-3339 specification, always using UTC timezone (UTC time format).
      type: string
      maxLength: 20
      pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
      example: '2021-05-21T08:30:00Z'
    Permissions:
      type: array
      items:
        description: Only for data sharing consents. Specifies the types of access permissions to APIs within the scope of Open Banking Brazil - Phase 2, according to the consent blocks provided by the user and necessary for access to each API endpoint.
        type: string
        enum:
          - ACCOUNTS_READ
          - ACCOUNTS_BALANCES_READ
          - ACCOUNTS_TRANSACTIONS_READ
          - ACCOUNTS_OVERDRAFT_LIMITS_READ
          - CREDIT_CARDS_ACCOUNTS_READ
          - CREDIT_CARDS_ACCOUNTS_BILLS_READ
          - CREDIT_CARDS_ACCOUNTS_BILLS_TRANSACTIONS_READ
          - CREDIT_CARDS_ACCOUNTS_LIMITS_READ
          - CREDIT_CARDS_ACCOUNTS_TRANSACTIONS_READ
          - CUSTOMERS_PERSONAL_IDENTIFICATIONS_READ
          - CUSTOMERS_PERSONAL_ADITTIONALINFO_READ
          - CUSTOMERS_BUSINESS_IDENTIFICATIONS_READ
          - CUSTOMERS_BUSINESS_ADITTIONALINFO_READ
          - FINANCINGS_READ
          - FINANCINGS_SCHEDULED_INSTALMENTS_READ
          - FINANCINGS_PAYMENTS_READ
          - FINANCINGS_WARRANTIES_READ
          - INVOICE_FINANCINGS_READ
          - INVOICE_FINANCINGS_SCHEDULED_INSTALMENTS_READ
          - INVOICE_FINANCINGS_PAYMENTS_READ
          - INVOICE_FINANCINGS_WARRANTIES_READ
          - LOANS_READ
          - LOANS_SCHEDULED_INSTALMENTS_READ
          - LOANS_PAYMENTS_READ
          - LOANS_WARRANTIES_READ
          - UNARRANGED_ACCOUNTS_OVERDRAFT_READ
          - UNARRANGED_ACCOUNTS_OVERDRAFT_SCHEDULED_INSTALMENTS_READ
          - UNARRANGED_ACCOUNTS_OVERDRAFT_PAYMENTS_READ
          - UNARRANGED_ACCOUNTS_OVERDRAFT_WARRANTIES_READ
          - BANK_FIXED_INCOMES_READ
          - CREDIT_FIXED_INCOMES_READ
          - FUNDS_READ
          - VARIABLE_INCOMES_READ
          - TREASURE_TITLES_READ
          - EXCHANGES_READ
          - RESOURCES_READ
      minItems: 1
      maxItems: 30
      example:
        - ACCOUNTS_READ
        - ACCOUNTS_OVERDRAFT_LIMITS_READ
        - RESOURCES_READ
    ConsentDataSharing:
      description: Data sharing consent
      type: object
      required:
        - brandId
        - creationDateTime
        - tpp
        - externalId
        - loggedUser
        - permissions
      properties:
        authExtraData:
          $ref: '#/components/schemas/AuthExtraData'
        consentOwner:
          $ref: '#/components/schemas/ConsentOwner'
        brandId:
          $ref: '#/components/schemas/BrandId'
        creationDateTime:
          $ref: '#/components/schemas/CreationDateTime'
        tpp:
          $ref: '#/components/schemas/TPP'
        externalId:
          $ref: '#/components/schemas/ExternalId'
        loggedUser:
          $ref: '#/components/schemas/LoggedUser'
        businessDocumentType:
          $ref: '#/components/schemas/BusinessEntity'
        resources:
          $ref: '#/components/schemas/AcceptedResources'
        expirationDateTime:
          $ref: '#/components/schemas/ExpirationDateTime'
        permissions:
          $ref: '#/components/schemas/Permissions'
      additionalProperties: false
    page:
      type: integer
      default: 1
      minimum: 1
      format: int32
      description: Number of the page being requested (the value of the first page is 1).
    pageSize:
      type: integer
      default: 25
      minimum: 1
      format: int32
      maximum: 1000
      description: Total number of records per page.
    pagination-key:
      type: string
      maxLength: 2048
      description: Recall identifier, used to avoid counting calls to the endpoint during pagination.
      pattern: '[\w\W\s]*'
    RequestGetCreditOperationsContratIdPortabilityEligibility:
      type: object
      required:
        - requestMeta
        - contractId
        - consent
      properties:
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        contractId:
          $ref: '#/components/schemas/LegacyId'
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        page:
          $ref: '#/components/schemas/page'
        pageSize:
          $ref: '#/components/schemas/pageSize'
        pagination-key:
          $ref: '#/components/schemas/pagination-key'
      additionalProperties: false
    RequestCreditPortabilityCancelData:
      type: object
      description: Object to notify about the settlement made by the proposer to the Creditor.
      required:
        - reason
      properties:
        rejectedBy:
          type: string
          description: "Inform the user responsible for rejecting the proposal, where:\n\n\n\n`PROPONENTE ` - Indicates that the credit portability request was rejected by the proposer, either because the proposer rejected the settlement that exceeded by 15% the original contract value, among other possibilities.\n\n\n\n`USUARIO` - Indicates that the customer canceled the credit portability request.\n\n"
          enum:
            - PROPONENTE
            - USUARIO
        reason:
          type: object
          description: Reason for rejection of the portability request
          required:
            - type
          properties:
            type:
              type: string
              description: "Reason for rejection of the portability request, where:\n\n\n\n`CANCELADO_PELO_CLIENTE` - Customer gives up on the portability request\n\n\n\n`SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE` - Updated outstanding balance divergent (more than 15%) from initially informed\n\n\n\n`POLITICA_DE_CREDITO` - Proposer gives up on the offer to the customer due to internal policies\n\n\n\n`OUTROS` - Reason for rejection doesn't fit available options\n\n"
              enum:
                - CANCELADO_PELO_CLIENTE
                - SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE
                - POLITICA_DE_CREDITO
                - OUTROS
            typeAdditionalInfo:
              type: string
              maxLength: 144
              pattern: ^[^\s](?:.*[^\s])?$
              example: Additional Information
              description: "Additional information about credit portability rejection. \n\nWhen using this option, it is strongly recommended to send a ticket to the Credit Portability Working Group as a suggestion for the Open Finance structure for discussion and mapping in future versions.\n\n\n\n[RESTRICTION] Mandatory field when `type` field equals `OUTROS`.\n\n"
    RequestPatchPortabilitiesPortabilityIdCancel:
      type: object
      required:
        - requestMeta
        - consent
        - requestBody
      properties:
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        portabilityId:
          $ref: '#/components/schemas/PortabilityId'
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestBody:
          type: object
          required:
            - data
          properties:
            data:
              $ref: '#/components/schemas/RequestCreditPortabilityCancelData'
      additionalProperties: false
    IdempotencyKey:
      type: string
      description: Unique request identifier to support idempotency. Must be handled in all requests where present. A second request received with the same IdempotencyKey should not perform the changes made by the first again and should not return an error. This field is sensitive to requests processed in parallel
      maxLength: 40
      pattern: ^(?!\s)(.*)(\S)$
      example: TXpRMU9UQTROMWhZV2xSU1FUazJSMDl
    EnumReferentialRateIndexerSubType:
      type: string
      description: "\"Subtypes of referential rates or indexers, according to Annex 5: Referential Rate or Indexer (Indx), of Document 3040\"\n\n"
      enum:
        - SEM_SUB_TIPO_INDEXADOR
        - PRE_FIXADO
        - TR_TBF
        - TJLP
        - LIBOR
        - TLP
        - OUTRAS_TAXAS_POS_FIXADAS
        - CDI
        - SELIC
        - OUTRAS_TAXAS_FLUTUANTES
        - IGPM
        - IPCA
        - IPCC
        - OUTROS_INDICES_PRECO
        - TCR_PRE
        - TCR_POS
        - TRFC_PRE
        - TRFC_POS
        - OUTROS_INDEXADORES
      example: TJLP
    LoansContractInterestRate:
      type: object
      description: Object that brings the set of information needed to demonstrate the composition of remuneratory interest rates of the Credit Modality
      required:
        - taxType
        - interestRateType
        - taxPeriodicity
        - calculation
        - referentialRateIndexerType
        - preFixedRate
        - postFixedRate
      properties:
        taxType:
          type: string
          description: "\"Tax Type (see Enum)\n\n- NOMINAL (nominal rate is an interest rate where the referential unit does not coincide with the time unit of capitalization. It is always provided in annual terms, and its capitalization periods can be daily, monthly, quarterly, or semi-annual. e.g., A rate of 12% per year with monthly capitalization)\n\n- EFETIVA (Effective rate is the interest rate where the referential unit coincides with the time unit of capitalization. Since the time measurement units of the interest rate and capitalization periods are equal, simple examples are used such as 1% per month, 60% per year)\"\n\n"
          enum:
            - NOMINAL
            - EFETIVA
          example: EFETIVA
        interestRateType:
          type: string
          description: "\"Interest Type (see Enum)\n\n- SIMPLES (applied/charged always on the initial capital, which is the borrowed/invested amount. There is no interest charged on interest accumulated in previous period(s). Example: in a loan of R$1,000 with a simple interest rate of 8% p.a., with a duration of 2 years, the total interest will be R$80 in the first year and R$80 in the second year. At the end of the contract, the borrower will return the principal and simple interest of each year: R$1,000+R$80+R$80=R$1,160)\n\n- COMPOSTO (for each contract period (daily, monthly, annual, etc.), there is a \"new capital\" for charging the contracted interest rate. This \"new capital\" is the sum of the capital and interest charged in the previous period. Example: in a loan of R$1,000 with a compound interest rate of 8% p.a., with a duration of 2 years, the total interest will be R$80 in the first year. In the second year, the interest will be added to the capital (R$1,000 + R$80 = R$1,080), resulting in interest of R$86 (8% of R$1,080))\"\n\n"
          enum:
            - SIMPLES
            - COMPOSTO
          example: SIMPLES
        referentialRateIndexerSubType:
          $ref: '#/components/schemas/EnumReferentialRateIndexerSubType'
        taxPeriodicity:
          type: string
          description: "\"Tax periodicity. (See Enum)\n\na.m - per month\n\na.a. - per year\"\n\n"
          enum:
            - AM
            - AA
          example: AA
        calculation:
          type: string
          description: Calculation base
          enum:
            - 21/252
            - 30/360
            - 30/365
          example: 21/252
        referentialRateIndexerType:
          type: string
          description: "\"Types of referential rates or indexers, according to Annex 5: Referential Rate or Indexer (Indx), of Document 3040\"\n\n"
          enum:
            - SEM_TIPO_INDEXADOR
            - PRE_FIXADO
            - POS_FIXADO
            - FLUTUANTES
            - INDICES_PRECOS
            - CREDITO_RURAL
            - OUTROS_INDEXADORES
          example: PRE_FIXADO
        referentialRateIndexerAdditionalInfo:
          type: string
          description: "Free field to complement information related to the Type of referential rate or indexer.\n\n[Restriction] Mandatory to complement information related to the Type of referential rate or indexer, when the type or subtype `OUTRO` is selected.\n\n"
          maxLength: 140
          pattern: ^[^\s](?:.*[^\s])?$
          example: Additional information
        preFixedRate:
          type: string
          pattern: ^\d{1,2}\.\d{6}$
          format: double
          maxLength: 9
          minLength: 8
          example: '0.600000'
          description: "Pre-fixed rate applied to the credit modality contract. e.g., 0.014500. Filling must respect 6 decimal places, even if filled with zeros (percentage representation e.g.: 0.150000. This value represents 15%. The value 1 represents 100%). Fill the field not applicable to the contract with zeros, following the pattern (0.000000).\n\n"
        postFixedRate:
          type: string
          pattern: ^\d{1,2}\.\d{6}$
          format: double
          maxLength: 9
          minLength: 8
          description: "Post-fixed rate applied to the credit modality contract. e.g., 0.0045. Filling must respect 6 decimal places, even if filled with zeros (percentage representation e.g.: 0.1500. This value represents 15%. The value 1 represents 100%). Fill the field not applicable to the contract with zeros, following the pattern (0.000000)\n\n"
          example: '0.550000'
        additionalInfo:
          type: string
          maxLength: 1200
          pattern: ^[^\s](?:.*[^\s])?$
          example: Additional information
          description: "Text with additional information about the composition of agreed interest rates. \n\n\n\n[Restriction] If the institution has information for sharing, it must be reported.\n\n"
    RequestCreditPortabilityData:
      type: object
      description: Set of information regarding the Credit Portability Proposal from the Proposer to the Creditor
      required:
        - customerContact
        - institution
        - contractIdentification
        - proposedContract
        - creationDateTime
      properties:
        customerContact:
          type: array
          minItems: 0
          description: Customer contact data
          items:
            type: object
            required:
              - type
              - value
            properties:
              type:
                type: string
                enum:
                  - TELEFONE
                  - EMAIL
                description: Type of customer contact.
              value:
                type: string
                pattern: ^([1-9]{2}(?:[2-8]|9[0-9])[0-9]{3}[0-9]{4})|([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,})$
                example: '11999999999'
        institution:
          type: object
          description: Information about proposer and creditor participants in this credit portability request
          required:
            - creditor
            - proposing
          properties:
            creditor:
              type: object
              description: Information about the creditor institution
              required:
                - companyName
                - companyCnpj
              properties:
                companyName:
                  type: string
                  pattern: ^[^\s](?:.*[^\s])?$
                  maxLength: 80
                  example: Creditor Institution
                  description: Name of the Creditor Institution.
                companyCnpj:
                  type: string
                  pattern: ^[0-9A-Z]{12}[0-9]{2}$
                  maxLength: 14
                  example: '21128159000166'
                  description: Full CNPJ number of the institution responsible for the Registration - the CNPJ corresponds to the registration number in the Legal Entity Registry. Must contain only CNPJ numbers, without mask.
            proposing:
              type: object
              description: Information about the proposer institution
              required:
                - companyName
                - companyCnpj
              properties:
                companyName:
                  type: string
                  pattern: ^[^\s](?:.*[^\s])?$
                  maxLength: 80
                  example: Proposer Institution
                  description: Name of the Proposer Institution
                companyCnpj:
                  type: string
                  pattern: ^[0-9A-Z]{12}[0-9]{2}$
                  maxLength: 14
                  example: '21128159000166'
                  description: Full CNPJ number of the institution responsible for the Registration - the CNPJ corresponds to the registration number in the Legal Entity Registry. Must contain only CNPJ numbers, without mask.
                contact:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    properties:
                      type:
                        type: string
                        enum:
                          - EMAIL
                          - TELEFONE
                        description: Type of contact of the Proposer Institution.
                      value:
                        type: string
                        pattern: ^([1-9]{2}(?:[2-8]|9[0-9])[0-9]{3}[0-9]{4})|([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,})$
                        example: contato@instituicaoproponente.com.br
        contractIdentification:
          type: object
          required:
            - contractId
            - contractNumber
            - ipocCode
          properties:
            contractId:
              $ref: '#/components/schemas/LegacyId'
            contractNumber:
              type: string
              pattern: ^[\w\W]{1,100}$
              maxLength: 100
              minLength: 1
              example: '1324926521496'
              description: Contract number given by the contracting institution.
            ipocCode:
              type: string
              pattern: ^[\w\W]{22,67}$
              maxLength: 67
              minLength: 22
              example: '92792126019929279212650822221989319252576'
              description: "Standardized contract number - IPOC (Identificação Padronizada da Operação de Crédito). According to DOC 3040, composed of:\n\n\n\n\n\nInstitution CNPJ: 8 (eight) initial positions;\n\nOperation modality: 4 (four) positions;\n\nClient type: 1 (one) position( 1 = natural person - CPF, 2 = legal entity - CNPJ, 3 = natural person abroad, 4 = legal entity abroad, 5 = natural person without CPF, 6 = legal entity without CNPJ);\n\n\n\n- Client code: The number of positions varies according to client type:\n\nFor natural person clients with CPF (client type = 1), inform the 11 (eleven) positions of CPF;\n\nFor legal entity clients with CNPJ (client type = 2), inform the 8 (eight) initial positions of CNPJ;\n\nFor other clients (client types 3, 4, 5, and 6), inform 14 (fourteen) positions with leading zeros if the identification has smaller size;\n\n\n\n- Contract code: 1 (one) to 40 (forty) positions, without character complement.\n\n"
        proposedContract:
          type: object
          minItems: 1
          description: Proposer's Proposal for Credit Portability
          required:
            - interestRates
            - contractedFees
            - contractedFinanceCharges
            - digitalSignatureProof
            - CET
            - amortizationScheduled
            - installmentPeriodicity
            - totalNumberOfInstallments
            - installmentAmount
            - contractAmount
          properties:
            interestRates:
              type: array
              description: "Object that brings the set of information needed to demonstrate the composition of remuneratory interest rates of the Credit Modality.  \n\nIf the contract has no interest rates, an empty list should be shared. If the contract has an interest rate with value 0, an object with explicit value 0 should be shared.\n\n"
              minItems: 0
              items:
                $ref: '#/components/schemas/LoansContractInterestRate'
            contractedFees:
              type: array
              description: List that brings information about fees agreed in the contract.
              minItems: 0
              items:
                type: object
                description: Object that brings the set of information needed to demonstrate the composition of remuneratory interest rates of the Credit Modality
                required:
                  - feeName
                  - feeCode
                  - feeChargeType
                  - feeCharge
                properties:
                  feeName:
                    type: string
                    maxLength: 140
                    pattern: ^[^\s](?:.*[^\s])?$
                    description: Name of the agreed Fee
                    example: Registration renewal
                  feeCode:
                    type: string
                    maxLength: 140
                    pattern: ^[^\s](?:.*[^\s])?$
                    description: Identifying acronym of the agreed fee
                    example: CADASTRO
                  feeChargeType:
                    type: string
                    description: Type of charge for the fee agreed in the contract.
                    enum:
                      - UNICA
                      - POR_PARCELA
                    example: UNICA
                  feeCharge:
                    type: string
                    description: "\"Form of charge related to the fee agreed in the contract. (See Enum)\n\n- Minimum\n\n- Maximum\n\n- Fixed\n\n- Percentage\"\n\n"
                    enum:
                      - MINIMO
                      - MAXIMO
                      - FIXO
                      - PERCENTUAL
                    example: MINIMO
                  feeAmount:
                    type: object
                    minItems: 1
                    description: "Object to represent the monetary value of the fee agreed in the contract.\n\n\n\n[Restriction] Mandatory completion when the form of charge is different from Percentage.\n\n"
                    required:
                      - amount
                      - currency
                    properties:
                      amount:
                        type: string
                        format: double
                        maxLength: 20
                        minLength: 4
                        pattern: ^\d{1,15}\.\d{2,4}$
                        example: '1000.0400'
                        description: Monetary value of the fee agreed in the contract.
                      currency:
                        type: string
                        maxLength: 3
                        minLength: 3
                        pattern: ^(\w{3}){1}$
                        example: BRL
                        description: Currency referenced to the `amount` field, according to ISO-4217 model.
                  feeRate:
                    type: string
                    pattern: ^\d{1}\.\d{6}$
                    format: double
                    maxLength: 8
                    minLength: 8
                    description: "Percentage value of the fee agreed in the contract.\n\n\n\n[Restriction] Mandatory completion when the form of charge is Percentage.\n\n"
                    example: '0.062000'
            contractedFinanceCharges:
              type: array
              description: List that brings the charges agreed in the contract
              minItems: 0
              items:
                type: object
                description: Set of information related to the identification of the credit operation
                required:
                  - chargeType
                  - chargeRate
                properties:
                  chargeType:
                    type: string
                    description: Type of charge agreed in the contract.
                    enum:
                      - JUROS_REMUNERATORIOS_POR_ATRASO
                      - MULTA_ATRASO_PAGAMENTO
                      - JUROS_MORA_ATRASO
                      - IOF_CONTRATACAO
                      - IOF_POR_ATRASO
                      - SEM_ENCARGO
                      - OUTROS
                    example: JUROS_REMUNERATORIOS_POR_ATRASO
                  chargeAdditionalInfo:
                    type: string
                    maxLength: 140
                    description: "Field for additional information.\n\n\n\n[Restriction] Mandatory if 'OUTROS' option is selected in Type of charge agreed in the contract.\n\n"
                    pattern: ^[^\s](?:.*[^\s])?$
                    example: Additional information about charges.
                  chargeRate:
                    type: string
                    pattern: ^\d{1}\.\d{6}$
                    format: double
                    maxLength: 8
                    minLength: 8
                    description: "Represents the percentage value of the charge agreed in the contract.\n\n\n\nFilling must respect 6 decimal places, even if filled with zeros (percentage representation e.g.: 0.150000. This value represents 15%. The value 1 represents 100%).\n\n"
                    example: '0.070000'
            digitalSignatureProof:
              type: object
              required:
                - documentId
                - signatureDateTime
              properties:
                documentId:
                  type: string
                  pattern: ^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$
                  maxLength: 100
                  minLength: 1
                  example: 54d5348c-1a3f-4ff4-a8a8-d0724fb806c6
                  description: Identifier code of the Document signed at the proposer institution.
                signatureDateTime:
                  type: string
                  maxLength: 20
                  pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
                  example: '2020-07-21T08:30:00Z'
                  description: "Date and time when the contract was signed by the customer in the digital channel of the Proposer Institution\n\n"
            CET:
              type: string
              pattern: ^\d{1,6}\.\d{6}$
              maxLength: 13
              minLength: 8
              example: '0.290000'
              description: "CET – Total Effective Cost must be expressed as an annual percentage rate and incorporates all charges and expenses incident on credit operations (interest rate, but also fees, taxes, insurance, and other charged expenses). Filling must respect 6 decimal places, even if filled with zeros (percentage representation e.g.: 0.150000. This value represents 15%. The value 1 represents 100%). For the PF (natural person) audience, the field is mandatory for contracts signed from 2008, according to CMN Resolution 3.517. For the PJ (legal entity) audience, the field is mandatory for contracts signed from 2011, according to CMN Resolution 3.909. The field may be filled with 0.00 in scenarios where the institution does not have CET (Total effective cost) information only for the exceptions listed below:\n\n\n\n  - In contracts prior to 2008 (for the PF audience);\n\n\n\n  - In contracts prior to 2011 (for the PJ audience);\n\n\n\n  - Medium or large-sized PJ audience.\n\n"
            amortizationScheduled:
              type: string
              enum:
                - SAC
                - PRICE
                - SAM
                - SEM_SISTEMA_AMORTIZACAO
                - OUTROS
              example: SAC
              description: "Amortization system (See Enum):\n\n\n\n- SAC (Constant Amortization System): It is one where the amortization value remains constant until the end. The interest charged on the installment does not enter this account.\n\n\n\n- PRICE (French Amortization System): Installments are fixed from beginning to end of the contract. That is, all installments will have the same value, from the first to the last. In the first payments, most of the installment value corresponds to interest. Over time, the interest rate decreases. Since the installment value is fixed, as installments progress, the amortization value increases.\n\n\n\n- SAM (Mixed Amortization System): Each installment (payment) is the arithmetic average of the respective installments in the Price System and the Constant Amortization System (SAC).\n\n\n\n- WITHOUT AMORTIZATION SYSTEM\n\n"
            amortizationScheduledAdditionalInfo:
              type: string
              pattern: ^[^\s](?:.*[^\s])?$
              maxLength: 200
              example: Complementary information regarding amortization of type `OUTROS`
              description: "Information regarding the complement of amortization\n\n\n\n[Restriction] Mandatory field when the amortizationScheduled field equals `OUTROS`\n\n"
            installmentPeriodicity:
              type: string
              description: Information regarding the regular periodicity of installments. (See Enum) without regular periodicity, daily, weekly, biweekly, monthly, bimonthly, quarterly, semi-annual, annual.
              example: SEM_PERIODICIDADE_REGULAR
              enum:
                - SEM_PERIODICIDADE_REGULAR
                - DIARIO
                - SEMANAL
                - QUINZENAL
                - MENSAL
                - BIMESTRAL
                - TRIMESTRAL
                - SEMESTRAL
                - ANUAL
            totalNumberOfInstallments:
              type: number
              description: Total number of installments, according to the regular periodicity of installments related to the informed Credit Modality.
              maximum: 999999999
              example: 30
            installmentAmount:
              type: object
              minItems: 1
              description: Object to represent the Regular installment value of the operation after portability.
              required:
                - amount
                - currency
              properties:
                amount:
                  type: string
                  format: double
                  maxLength: 20
                  minLength: 4
                  pattern: ^\d{1,15}\.\d{2,4}$
                  example: '1000.0400'
                  description: Regular installment value of the operation after portability. Expressed in monetary value with at least 2 and at most 4 decimal places.
                currency:
                  type: string
                  maxLength: 3
                  minLength: 3
                  pattern: ^(\w{3}){1}$
                  example: BRL
                  description: Currency referenced to the `amount` field, according to ISO-4217 model.
            contractAmount:
              type: object
              minItems: 1
              description: Value of the remaining balance of the original loan contract used to compose the proposal.
              required:
                - amount
                - currency
              properties:
                amount:
                  type: string
                  format: double
                  maxLength: 20
                  minLength: 4
                  pattern: ^\d{1,15}\.\d{2,4}$
                  example: '1000.0400'
                  description: Value of the remaining balance of the original loan contract used to compose the proposal.
                currency:
                  type: string
                  maxLength: 3
                  minLength: 3
                  pattern: ^(\w{3}){1}$
                  example: BRL
                  description: Currency referenced to the `amount` field, according to ISO-4217 model.
        creationDateTime:
          type: string
          description: "Date and time when the Proposer registered this proposal (call to POST /portabilities).\n\nA string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification, always using UTC-0 timezone (UTC time format).\n\n"
          maxLength: 20
          minLength: 20
          pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
          example: '2020-07-21T08:30:00Z'
    RequestPostPortabilities:
      type: object
      required:
        - requestMeta
        - consent
        - requestBody
      properties:
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        portabilityId:
          $ref: '#/components/schemas/PortabilityId'
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        IdempotencyKey:
          $ref: '#/components/schemas/IdempotencyKey'
        requestBody:
          type: object
          required:
            - data
          properties:
            data:
              $ref: '#/components/schemas/RequestCreditPortabilityData'
      additionalProperties: false
    RequestCreditPortabilityPaymentData:
      type: object
      description: Object to notify about the settlement made by the proposer to the creditor
      required:
        - portabilityId
        - paymentDateTime
        - paymentAmount
        - transactionId
      properties:
        portabilityId:
          type: string
          pattern: ^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
          maxLength: 36
          minLength: 36
          example: 54d5348c-1a3f-4ff4-a8a8-d0724fb806c6
          description: Identifier code of the portability request made.
        paymentDateTime:
          type: string
          maxLength: 20
          pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
          example: '2020-07-21T08:30:00Z'
          description: "Date and time when the payment to the creditor institution was made by the proposer institution. \n\nA string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification, always using UTC-0 timezone (UTC time format)\n\n"
        paymentAmount:
          type: object
          minItems: 1
          description: Object to represent the amount paid for settlement of the loan contract.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              maxLength: 20
              minLength: 4
              pattern: ^\d{1,15}\.\d{2,4}$
              example: '1000.0400'
              description: Amount paid for settlement of the loan contract.
            currency:
              type: string
              maxLength: 3
              minLength: 3
              pattern: ^(\w{3}){1}$
              example: BRL
              description: Currency referenced to the `amount` field, according to ISO-4217 model.
        transactionId:
          type: string
          pattern: ^[^\s](?:.*[^\s])?$
          maxLength: 20
          minLength: 1
          example: STR20181108000000013
          description: "Identifier of the transaction used for the Proposer to settle credit portability with the Creditor.\n\n\n\nIn the context of STR0047, use the value of the return field NumCtrlSTR (Transaction Control Number of STR)\".\n\n"
    RequestPostPortabilitiesPortabilityIdPayment:
      type: object
      required:
        - requestMeta
        - consent
      properties:
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        portabilityId:
          $ref: '#/components/schemas/PortabilityId'
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestBody:
          type: object
          required:
            - data
          properties:
            data:
              $ref: '#/components/schemas/RequestCreditPortabilityPaymentData'
      additionalProperties: false
    ResponseGetAccountData:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          description: Data to perform the operation payment via TED
          required:
            - strCode
          properties:
            strCode:
              type: object
              required:
                - ispb
                - branchCode
                - hasFinancialAgent
              properties:
                ispb:
                  type: number
                  description: ISPB number of the Creditor Institution to be used in STR for credit portability payment exclusive for OFB.
                  example: 22896431
                name:
                  type: string
                  description: "Name of the account owner to be used in STR for credit portability payment exclusive for OFB.\n\n\n\n[RESTRICTION] mandatory field when `hasFinancialAgent` field equals true\n\n"
                  pattern: ^[^\s](?:.*[^\s])?$
                  maxLength: 80
                  minLength: 1
                  example: Creditor Institution
                companyCnpj:
                  type: string
                  description: "CNPJ of the account owner to be used in STR for credit portability payment exclusive for OFB.\n\n\n\n[RESTRICTION] mandatory field when `hasFinancialAgent` field equals true\n\n"
                  pattern: \d{14}$
                  maxLength: 14
                  minLength: 14
                  example: '21128159000166'
                branchCode:
                  type: number
                  description: Branch number credited to be used in STR for credit portability payment exclusive for OFB.
                  example: 1
                hasFinancialAgent:
                  type: boolean
                  description: Does the institution work with financial agent instead of reserve account?
                  example: true
                accountNumber:
                  type: number
                  description: "Bank account number of the creditor to be used in STR for credit portability payment exclusive for OFB.\n\n\n\n[RESTRICTION] mandatory field when `hasFinancialAgent` field equals true\n\n"
                  example: 12345678
    ResponseGetCreditOperationsContratIdPortabilityEligibility:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          description: Set of information of loan/financing contracts maintained by the customer at the creditor institution and for which they have provided consent
          required:
            - contractId
            - portability
          properties:
            contractId:
              description: Array of key-value pairs with the resource identification key in the source (legacy) system, allowing composite keys
              type: array
              items:
                type: object
                properties:
                  key:
                    description: Name of the identifier field in the source system
                    type: string
                  value:
                    description: Value of the identifier field in the source system
                    type: string
                required:
                  - key
              example:
                - key: pk_CampoUm
                  value: ABC
                - key: pk_CampoDois
                  value: '123'
            portability:
              type: object
              required:
                - isEligible
              properties:
                isEligible:
                  type: boolean
                  description: Indicates whether the contract characteristics are eligible for credit portability request via OFB (without considering the availability of credit portability)
                ineligible:
                  type: object
                  required:
                    - reasonType
                  description: "Object to help the Proposer Institution understand why a contract is ineligible for credit portability request\n\n\n\n[RESTRICTION] Mandatory field when the `isEligible` field equals `FALSE`\n\n"
                  properties:
                    reasonType:
                      type: string
                      example: CLIENTE_COM_ACAO_JUDICIAL
                      enum:
                        - CONTRATO_LIQUIDADO
                        - CLIENTE_COM_ACAO_JUDICIAL
                        - MODALIDADE_OPERACAO_INCOMPATIVEL
                        - OUTROS
                      description: "Information about the availability or not of a contract for credit portability\n\nInformation about the reason for ineligibility\n\n-`CONTRATO_LIQUIDADO`: Contract liquidated by the customer.\n\n-`CLIENTE_COM_ACAO_JUDICIAL`: Customer has legal action\n\n-`MODALIDADE_OPERACAO_INCOMPATIVEL`: If the contract has a modality different from those practiced in the scope of modalities available for credit portability\n\n-`OUTROS`: If there is any reason for rejection that doesn't fit the available `reasonType` options, the `reasonTypeAdditionalInfo` field must be filled with the reason for ineligibility.\n\n"
                    reasonTypeAdditionalInfo:
                      description: "Information about the availability or not of a contract for credit portability. Must be filled as a proposal for inclusion in definitions, example `MOTIVO_NAO_MAPEADO`: description to use this specific reason. When using this option, it is mandatory to send a ticket to the open finance structure for mapping in future versions.\n\n\n\n[RESTRICTION] Mandatory field when the `reasonType` field equals `OUTROS`.\n\n"
                      type: string
                status:
                  type: string
                  description: "Information about the availability or not of a contract for credit portability\n\n\n\n[RESTRICTION] Mandatory field when the `isEligible` field equals `TRUE`\n\n"
                  enum:
                    - DISPONIVEL
                    - EM_ANDAMENTO
                statusUpdateDateTime:
                  type: string
                  maxLength: 20
                  pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
                  example: '2020-07-21T08:30:00Z'
                  description: "Date and time when the contract status was updated. A string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification, always using UTC timezone (UTC time format).\n\n\n\n[RESTRICTION] Mandatory field when the `isEligible` field equals `TRUE`\n\n"
                channel:
                  type: string
                  description: "Information about the availability or not of a contract for credit portability\n\n\n\n[RESTRICTION] Mandatory field when the `status` field equals `EM_ANDAMENTO`\n\n"
                  enum:
                    - OFB
                    - REGISTRADORA
                companyName:
                  type: string
                  pattern: ^[^\s](?:.*[^\s])?$
                  maxLength: 80
                  example: Company of Organization A
                  description: "Name of the Proposer Institution responsible for the previous credit portability request to the current consultation e.g., Company A.\n\n\n\n[RESTRICTION] Mandatory field when the `status` field equals `EM_ANDAMENTO`"
                companyCnpj:
                  type: string
                  pattern: \d{14}$
                  maxLength: 14
                  minLength: 14
                  example: '21128159000166'
                  description: "Full CNPJ number of the institution\n\nThe CNPJ corresponds to the registration number in the Legal Entity Registry.\n\nMust contain only CNPJ numbers, without mask\n\n\n\n[RESTRICTION] Mandatory field when the `status` field equals `EM_ANDAMENTO`\n\n"
    ResponsePatchPortabilitiesPortabilityIdCancel:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          description: Object to notify about the settlement made by the proposer to the Creditor.
          required:
            - reason
          properties:
            rejectedBy:
              type: string
              description: "Inform the user responsible for rejecting the proposal, where:\n\n\n\n`PROPONENTE ` - Indicates that the credit portability request was rejected by the proposer, either because the proposer rejected the settlement that exceeded by 15% the original contract value, among other possibilities.\n\n\n\n`USUARIO` - Indicates that the customer canceled the credit portability request.\n\n"
              enum:
                - PROPONENTE
                - USUARIO
            reason:
              type: object
              description: Reason for rejection of the portability request
              required:
                - type
              properties:
                type:
                  type: string
                  description: "Reason for rejection of the portability request, where:\n\n\n\n`CANCELADO_PELO_CLIENTE` - Customer gives up on the portability request\n\n\n\n`SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE` - Updated outstanding balance divergent (more than 15%) from initially informed\n\n\n\n`POLITICA_DE_CREDITO` - Proposer gives up on the offer to the customer due to internal policies\n\n\n\n`OUTROS` - Reason for rejection doesn't fit available options\n\n"
                  enum:
                    - CANCELADO_PELO_CLIENTE
                    - SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE
                    - POLITICA_DE_CREDITO
                    - OUTROS
                typeAdditionalInfo:
                  type: string
                  maxLength: 144
                  pattern: ^[^\s](?:.*[^\s])?$
                  example: Additional Information
                  description: "Additional information about credit portability rejection. \n\nWhen using this option, it is strongly recommended to send a ticket to the Credit Portability Working Group as a suggestion for the Open Finance structure for discussion and mapping in future versions.\n\n\n\n[RESTRICTION] Mandatory field when `type` field equals `OUTROS`.\n\n"
    ResponsePostPortabilities:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          minItems: 0
          description: Set of information of loan/financing contracts maintained by the customer at the creditor institution and for which they have provided consent
          required:
            - portabilityId
            - originalLoanContractInfo
            - creationDateTime
          properties:
            portabilityId:
              type: string
              pattern: ^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
              maxLength: 36
              minLength: 36
              example: 54d5348c-1a3f-4ff4-a8a8-d0724fb806c6
              description: Identifier code of the portability request made.
            originalLoanContractInfo:
              type: object
              description: Information of the original loan contract
              required:
                - contractId
                - companyCnpj
                - contractOutstandingBalance
              properties:
                contractId:
                  description: Array of key-value pairs with the resource identification key in the source (legacy) system, allowing composite keys
                  type: array
                  items:
                    type: object
                    properties:
                      key:
                        description: Name of the identifier field in the source system
                        type: string
                      value:
                        description: Value of the identifier field in the source system
                        type: string
                    required:
                      - key
                  example:
                    - key: pk_CampoUm
                      value: ABC
                    - key: pk_CampoDois
                      value: '123'
                companyCnpj:
                  type: string
                  pattern: ^[0-9A-Z]{12}[0-9]{2}$
                  maxLength: 14
                  example: '21128159000166'
                  description: Complete alphanumeric representation of the CNPJ of the institution responsible for the loan contract to identify the creditor institution in cases of credit portability - the CNPJ corresponds to the registration number in the Legal Entity Registry. Must contain only the alphanumeric representation of the CNPJ, without mask.
                contractOutstandingBalance:
                  type: string
                  format: double
                  pattern: ^\d{1,15}\.\d{2,4}$
                  maxLength: 20
                  minLength: 4
                  example: '1000.0400'
                  description: "Amount needed for the customer to settle the debt, i.e., this field must be filled with the updated outstanding balance described in the DDC (Descriptive Credit Document). \n\nThe updated settlement value of the day must be adjusted for sharing by the Transmitter until 10:00 of the same day, especially for Clean Personal Credit, scope of Credit Portability, as this value is used by the Receiver in the role of Proposer for payment to the Transmitter in the role of Creditor.\n\n"
                  minimum: -1.7976931348623157e+308
                  maximum: 1.7976931348623157e+308
            status:
              type: string
              description: Information about the availability or not of a contract for credit portability
              enum:
                - RECEIVED
                - PENDING
                - ACCEPTED_SETTLEMENT_IN_PROGRESS
                - ACCEPTED_SETTLEMENT_COMPLETED
                - PORTABILITY_COMPLETED
                - REJECTED
                - CANCELLED
                - PAYMENT_ISSUE
    ResponsePostPortabilitiesPortabilityIdPayment:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          minItems: 0
          description: Object to notify about the settlement made by the proposer to the creditor
          required:
            - portabilityId
            - paymentDateTime
            - paymentAmount
            - transactionId
          properties:
            portabilityId:
              type: string
              pattern: ^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
              maxLength: 36
              minLength: 36
              example: 54d5348c-1a3f-4ff4-a8a8-d0724fb806c6
              description: Identifier code of the portability request made.
            paymentDateTime:
              type: string
              maxLength: 20
              pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
              example: '2020-07-21T08:30:00Z'
              description: "Date and time when the payment to the creditor institution was made by the proposer institution. \n\nA string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification, always using UTC-0 timezone (UTC time format)\n\n"
            paymentAmount:
              type: object
              minItems: 1
              description: Object to represent the amount paid for settlement of the loan contract.
              required:
                - amount
                - currency
              properties:
                amount:
                  type: string
                  format: double
                  maxLength: 20
                  minLength: 4
                  pattern: ^\d{1,15}\.\d{2,4}$
                  example: '1000.0400'
                  description: Amount paid for settlement of the loan contract.
                  minimum: -1.7976931348623157e+308
                  maximum: 1.7976931348623157e+308
                currency:
                  type: string
                  maxLength: 3
                  minLength: 3
                  pattern: ^(\w{3}){1}$
                  example: BRL
                  description: Currency referenced to the `amount` field, according to ISO-4217 model.
            transactionId:
              type: string
              pattern: ^[^\s](?:.*[^\s])?$
              maxLength: 20
              minLength: 1
              example: STR20181108000000013
              description: "Identifier of the transaction used for the Proposer to settle credit portability with the Creditor.\n\n\n\nIn the context of STR0047, use the value of the return field NumCtrlSTR (Transaction Control Number of STR)\".\n\n"
    ResponseError:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Specific error code of the endpoint
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Human-readable title of this specific error
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Human-readable description of this specific error
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          type: object
          description: Meta information regarding the requested API.
          required:
            - requestDateTime
          properties:
            requestDateTime:
              description: Date and time of the request, according to RFC-3339 specification, UTC format.
              type: string
              maxLength: 20
              format: date-time
              example: '2021-05-21T08:30:00Z'
  responses:
    POSTResponseCreditPortability:
      description: Portability request created successfully.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponsePostPortabilities'
    PatchResponseCreditPortabilityCancel:
      description: Cancellation communicated successfully.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponsePatchPortabilitiesPortabilityIdCancel'
    OKResponsePortabilityEligibility:
      description: Eligibility verified successfully.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseGetCreditOperationsContratIdPortabilityEligibility'
    OKResponseAccountData:
      description: Account data obtained successfully.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseGetAccountData'
    POSTResponseCreditPortabilityPayment:
      description: Payment information received successfully.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponsePostPortabilitiesPortabilityIdPayment'
    ResponseDefaultError:
      description: Unexpected error.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'