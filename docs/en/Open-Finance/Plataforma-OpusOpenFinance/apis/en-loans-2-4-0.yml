openapi: 3.0.0
info:
  title: Loans API - Integration Layer - OPUS Open Finance Brazil
  description: |
    API for loan operation information within Open Finance Brazil – Phase 2. This API returns information about 
    loan credit operations maintained by customers at transmitting institutions, 
    including data such as denomination, modality, contract number, fees, term, installments, 
    payments (at least for the last 12 months), amortizations, guarantees, charges, and remuneratory interest rates.
    It does not segregate between natural persons and legal entities.
  version: 3.0.0-base2.4.0
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
tags:
  - name: Loans
paths:
  /discovery:
    post:
      tags:
        - Loans
      summary: Retrieves a list of resources representing all loan credit operation contracts entered into by the customer.
      operationId: discoverLoans
      description: Method to retrieve the list of loan credit operation contracts maintained by the customer at the transmitting institution.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMeta'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoanDiscovery'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /contracts:
    post:
      tags:
        - Loans
      summary: Set of information for loan contracts maintained by the customer at the transmitting institution and for which consent has been provided.
      description: Method to retrieve the list of loan contracts maintained by the customer at the transmitting institution and for which consent has been provided.
      operationId: loansGetContracts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndPagination'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansContractList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /find:
    post:
      tags:
        - Loans
      summary: Retrieves loan contract data identified by contractId.
      description: Method to retrieve loan contract data identified by contractId maintained by the customer at the transmitting institution.
      operationId: loansGetContractsContractId
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndContractId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /warranties:
    post:
      tags:
        - Loans
      summary: Retrieves the list of warranties linked to the loan contract identified by contractId.
      description: |
        Method to retrieve the list of warranties linked to the loan contract identified by contractId maintained by the customer at the transmitting institution. 
        For products without warranties, HTTP Status 200 must be returned with an empty "data" object, without any internal attributes.
      operationId: loansGetContractsContractIdWarranties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndPaginationAndContractId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansWarranties'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /scheduled-instalments:
    post:
      tags:
        - Loans
      summary: Retrieves the installment schedule data for the loan contract identified by contractId.
      description: Method to retrieve the installment schedule data for the loan contract identified by contractId maintained by the customer at the transmitting institution.
      operationId: loansGetContractsContractIdScheduledInstalments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndPaginationAndContractId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansInstalments'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /payments:
    post:
      tags:
        - Loans
      summary: Retrieves payment data for the loan contract identified by contractId.
      description: Method to retrieve payment data for the loan contract identified by contractId maintained by the customer at the transmitting institution.
      operationId: loansGetContractsContractIdPayments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndPaginationAndContractId'
      responses:
        '200':
          $ref: '#/components/responses/OKResponseLoansPayments'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
components:
  schemas:
    ResponseErrorWithAbleAdditionalProperties:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Specific error code for the endpoint.
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Human-readable title for this specific error.
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Human-readable description for this specific error.
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          $ref: '#/components/schemas/Meta'
    EnumContractAmortizationScheduled:
      type: string
      description: |
        Amortization system (See Enum):
        - SAC (Constant Amortization System) - This is where the amortization value remains the same until the end. Interest charged on the installment is not included in this calculation.
        - PRICE (French Amortization System) - Installments are fixed from the beginning to the end of the contract. This means all installments will have the same value, from the first to the last. In the initial payments, most of the installment amount corresponds to interest. Over time, the interest rate decreases. As the installment value is fixed, the amortization value increases over the installments.
        - SAM (Mixed Amortization System) - Each installment (payment) is the arithmetic mean of the respective installments in the Price System and the Constant Amortization System (SAC).
        - WITHOUT AMORTIZATION SYSTEM
      enum:
        - SAC
        - PRICE
        - SAM
        - SEM_SISTEMA_AMORTIZACAO
        - OUTROS
      example: SAC
    EnumContractCalculation:
      type: string
      description: Calculation basis.
      enum:
        - 21/252
        - 30/360
        - 30/365
      example: 21/252
    EnumContractFeeCharge:
      type: string
      description: |
        "Method of charging for the fee agreed in the contract. (See Enum)
        - Minimum
        - Maximum
        - Fixed
        - Percentage"
      enum:
        - MINIMO
        - MAXIMO
        - FIXO
        - PERCENTUAL
      example: MINIMO
    EnumContractFeeChargeType:
      type: string
      description: Type of charge for the fee agreed in the contract.
      enum:
        - UNICA
        - POR_PARCELA
      example: UNICA
    EnumContractFinanceChargeType:
      type: string
      description: Type of charge agreed in the contract.
      enum:
        - JUROS_REMUNERATORIOS_POR_ATRASO
        - MULTA_ATRASO_PAGAMENTO
        - JUROS_MORA_ATRASO
        - IOF_CONTRATACAO
        - IOF_POR_ATRASO
        - SEM_ENCARGO
        - OUTROS
      example: JUROS_REMUNERATORIOS_POR_ATRASO
    EnumContractInstalmentPeriodicity:
      type: string
      description: |
        "Information regarding the regular periodicity of installments. (See Enum)
        no regular periodicity, weekly, biweekly, monthly, bimonthly, quarterly, semiannual, annual"
      enum:
        - SEM_PERIODICIDADE_REGULAR
        - SEMANAL
        - QUINZENAL
        - MENSAL
        - BIMESTRAL
        - TRIMESTRAL
        - SEMESTRAL
        - ANUAL
        - OUTROS
      example: SEMANAL
    EnumContractInterestRateType:
      type: string
      description: |
        "Interest Type (see Enum)
        - SIMPLE (applied/charged always on the initial capital, which is the borrowed/invested amount. There is no charge of interest on accumulated interest in previous period(s). Example: in a loan of R\$1,000, with a simple interest rate of 8% p.a., lasting 2 years, the total interest will be R\$80 in the first year and R\$80 in the second year. At the end of the contract, the borrower will return the principal and the simple interest for each year: R\$1,000 + R\$80 + R\$80 = R\$1,160)
        - COMPOUND (for each period of the contract (daily, monthly, annual, etc.), there is a “new capital” for charging the contracted interest rate. This “new capital” is the sum of the capital and the interest charged in the previous period. Example: in a loan of R\$1,000, with a compound interest rate of 8% p.a., lasting 2 years, the total interest will be R\$80 in the first year. In the second year, the interest will be added to the capital (R\$1,000 + R\$80 = R\$1,080), resulting in R\$86 of interest (8% of R\$1,080))"
      enum:
        - SIMPLES
        - COMPOSTO
      example: SIMPLES
    EnumContractReferentialRateIndexerSubType:
      type: string
      description: |
        "Subtypes of referential rates or indexers, as per Annex 5: Referential Rate or Indexer (Indx), of Document 3040"
      enum:
        - SEM_SUB_TIPO_INDEXADOR
        - PRE_FIXADO
        - TR_TBF
        - TJLP
        - LIBOR
        - TLP
        - OUTRAS_TAXAS_POS_FIXADAS
        - CDI
        - SELIC
        - OUTRAS_TAXAS_FLUTUANTES
        - IGPM
        - IPCA
        - IPCC
        - OUTROS_INDICES_PRECO
        - TCR_PRE
        - TCR_POS
        - TRFC_PRE
        - TRFC_POS
        - OUTROS_INDEXADORES
      example: TJLP
    EnumContractReferentialRateIndexerType:
      type: string
      description: |
        "Types of referential rates or indexers, as per Annex 5: Referential Rate or Indexer (Indx), of Document 3040"
      enum:
        - SEM_TIPO_INDEXADOR
        - PRE_FIXADO
        - POS_FIXADO
        - FLUTUANTES
        - INDICES_PRECOS
        - CREDITO_RURAL
        - OUTROS_INDEXADORES
      example: PRE_FIXADO
    EnumContractTaxPeriodicity:
      type: string
      description: |
        "Tax periodicity. (See Enum)
        a.m. - per month
        a.a. - per year"
      enum:
        - AM
        - AA
      example: AA
    EnumContractTaxType:
      type: string
      description: |
        "Tax Type (see Enum)
        - NOMINAL (nominal rate is an interest rate where the reference unit does not match the compounding time unit. It is always provided in annual terms, and its compounding periods can be daily, monthly, quarterly, or semi-annually. E.g., a rate of 12% per year with monthly compounding)
        - EFFECTIVE (This is an interest rate where the reference unit matches the compounding time unit. As the time measurement units of the interest rate and compounding periods are equal, simple examples like 1% per month, 60% per year are used)"
      enum:
        - NOMINAL
        - EFETIVA
      example: EFETIVA
    EnumContractProductSubTypeLoans:
      type: string
      description: 'Subtype of contracted Loan credit modalities, as per Circular 4.015 and DOC3040 of SCR.'
      enum:
        - HOME_EQUITY
        - CHEQUE_ESPECIAL
        - CONTA_GARANTIDA
        - CAPITAL_GIRO_TETO_ROTATIVO
        - CREDITO_PESSOAL_SEM_CONSIGNACAO
        - CREDITO_PESSOAL_COM_CONSIGNACAO
        - MICROCREDITO_PRODUTIVO_ORIENTADO
        - CAPITAL_GIRO_PRAZO_VENCIMENTO_ATE_365_DIAS
        - CAPITAL_GIRO_PRAZO_VENCIMENTO_SUPERIOR_365_DIAS
      example: CREDITO_PESSOAL_COM_CONSIGNACAO
    EnumContractProductTypeLoans:
      type: string
      description: 'Type of contracted credit modality, as per Circular 4.015 and DOC3040 of SCR).'
      enum:
        - EMPRESTIMOS
      example: EMPRESTIMOS
    EnumWarrantySubType:
      type: string
      description: |
        Denomination/Identification of the guarantee subtype that backs the contracted Credit Operation Modality (Doc 3040, Annex 12).
      enum:
        - ACOES_DEBENTURES
        - ACORDOS_COMPENSACAO_LIQUIDACAO_OBRIGACOES
        - APLICACOES_FINANCEIRAS_RENDA_FIXA
        - APLICACOES_FINANCEIRAS_RENDA_VARIAVEL
        - APOLICES_CREDITO_EXPORTACAO
        - CCR_CONVENIO_CREDITOS_RECIPROCOS
        - CHEQUES
        - CIVIL
        - DIREITOS_SOBRE_ALUGUEIS
        - DEPOSITOS_A_VISTA_A_PRAZO_POUPANCA_OURO_TITULOS_PUBLICOS_FEDERAIS_ART_36
        - DEPOSITO_TITULOS_EMITIDOS_ENTIDADES_ART_23
        - DUPLICATAS
        - EMD_ENTIDADES_MULTILATERAIS_DESENVOLVIMENTO_ART_37
        - EQUIPAMENTOS
        - ESTADUAL_OU_DISTRITAL
        - FATURA_CARTAO_CREDITO
        - FEDERAL
        - FCVS_FUNDO_COMPENSACAO_VARIACOES_SALARIAIS
        - FGI_FUNDO_GARANTIDOR_INVESTIMENTOS
        - FGPC_FUNDO_GARANTIA_PROMOCAO_COMPETIT
        - FGTS_FUNDO_GARANTIA_TEMPO_SERVICO
        - FUNDO_GARANTIDOR_AVAL
        - GARANTIA_PRESTADA_FGPC_LEI_9531_ART_37
        - GARANTIA_PRESTADA_FUNDOS_QUAISQUER_OUTROS_MECANISMOS_COBERTURA_RISCO_CREDITO_ART_37
        - GARANTIA_PRESTADA_TESOURO_NACIONAL_OU_BACEN_ART_37_BENS_DIREITOS_INTEGRANTES_PATRIMONIO_AFETACAO
        - IMOVEIS
        - IMOVEIS_RESIDENCIAIS
        - MITIGADORAS
        - MUNICIPAL
        - NAO_MITIGADORAS
        - NOTAS_PROMISSORIAS_OUTROS_DIREITOS_CREDITO
        - OUTRAS
        - OUTROS
        - OUTROS_BENS
        - OUTROS_GRAUS
        - OUTROS_IMOVEIS
        - OUTROS_SEGUROS_ASSEMELHADOS
        - PESSOA_FISICA
        - PESSOA_FISICA_EXTERIOR
        - PESSOA_JURIDICA
        - PESSOA_JURIDICA_EXTERIOR
        - PRIMEIRO_GRAU_BENS_DIREITOS_INTEGRANTES_PATRIMONIO_AFETACAO
        - PRIMEIRO_GRAU_IMOVEIS_RESIDENCIAIS
        - PRIMEIRO_GRAU_OUTROS
        - PROAGRO
        - PRODUTOS_AGROPECUARIOS_COM_WARRANT
        - PRODUTOS_AGROPECUARIOS_SEM_WARRANT
        - SBCE_SOCIEDADE_BRASILEIRA_CREDITO_EXPORTAÇÃO
        - SEGURO_RURAL
        - SEM_SUB_TIPO_GARANTIA
        - TRIBUTOS_RECEITAS_ORCAMENTARIAS
        - VEICULOS
        - VEICULOS_AUTOMOTORES
      example: NOTAS_PROMISSORIAS_OUTROS_DIREITOS_CREDITO
    EnumWarrantyType:
      type: string
      description: 'Denomination/Identification of the guarantee type that backs the contracted Credit Operation Modality (Doc 3040, Annex 12)'
      enum:
        - CESSAO_DIREITOS_CREDITORIOS
        - CAUCAO
        - PENHOR
        - ALIENACAO_FIDUCIARIA
        - HIPOTECA
        - OPERACOES_GARANTIDAS_PELO_GOVERNO
        - OUTRAS_GARANTIAS_NAO_FIDEJUSSORIAS
        - SEGUROS_ASSEMELHADOS
        - GARANTIA_FIDEJUSSORIA
        - BENS_ARRENDADOS
        - GARANTIAS_INTERNACIONAIS
        - OPERACOES_GARANTIDAS_OUTRAS_ENTIDADES
        - ACORDOS_COMPENSACAO
      example: CESSAO_DIREITOS_CREDITORIOS
    LoansBalloonPayment:
      type: object
      description: List providing the maturity dates and value of non-regular installments for the queried credit modality contract.
      required:
        - dueDate
        - amount
      properties:
        dueDate:
          type: string
          maxLength: 10
          minLength: 2
          format: date
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2021-05-21'
          description: |
            'Maturity date of the non-regular installment to be due for the queried credit modality contract, as per RFC-3339 specification. E.g., 2014-03-19'
        amount:
          $ref: '#/components/schemas/LoansBalloonPaymentAmount'
    LoansContract:
      type: object
      description: Set of information regarding the identification of the loan credit operation.
      required:
        - contractNumber
        - ipocCode
        - productName
        - productType
        - productSubType
        - contractDate
        - contractAmount
        - instalmentPeriodicity
        - CET
        - amortizationScheduled
        - interestRates
        - contractedFees
        - contractedFinanceCharges
      properties:
        contractNumber:
          type: string
          maxLength: 100
          minLength: 1
          pattern: '^[\w\W]{1,100}$'
          example: '1324926521496'
          description: Contract number provided by the contracting institution.
        ipocCode:
          type: string
          maxLength: 67
          minLength: 22
          pattern: '^[\w\W]{22,67}$'
          example: '92792126019929279212650822221989319252576'
          description: |
            Standardized contract number - IPOC (Standardized Credit Operation Identification). According to DOC 3040, composed of:
            - **Institution's CNPJ:** initial 8 (eight) positions;
            - **Operation modality:** 4 (four) positions;
            - **Client type:** 1 (one) position (1 = natural person - CPF, 2 = legal entity – CNPJ, 3 = natural person abroad, 4 = legal entity abroad, 5 = natural person without CPF and 6 = legal entity without CNPJ);
            - **Client code:** The number of positions varies according to the client type:
              1. For individual clients with CPF (client type = 1), inform the 11 (eleven) CPF positions;
              2. For legal entity clients with CNPJ (client type = 2), inform the initial 8 (eight) CNPJ positions;
              3. For other clients (client types 3, 4, 5, and 6), inform 14 (fourteen) positions, padded with leading zeros if the identification is shorter;
            - **Contract code:** 1 (one) to 40 (forty) positions, without character padding.
        productName:
          type: string
          maxLength: 140
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: Payroll-deducted Personal Loan
          description: |
            Denomination/Identification of the Credit Operation Modality name disclosed to the client.
        productType:
          $ref: '#/components/schemas/EnumContractProductTypeLoans'
        productSubType:
          $ref: '#/components/schemas/EnumContractProductSubTypeLoans'
        contractDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-01-05'
          description: Contract date of the credit operation. RFC-3339 specification.
        disbursementDates:
          type: array
          minItems: 1
          description: |
            List providing the Disbursement Dates of the contracted amount.
          items:
            type: string
            format: date
            maxLength: 10
            pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
            example: '2018-01-15'
            description: |
              Disbursement Date of the contracted amount. RFC-3339 specification.
              In case of fund release on D0 with retroactive reference on D-1, the correct accounting date would be D-1.
        settlementDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-01-15'
          description: |
            Settlement date of the operation.
        contractAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Contracted value of the operation. Expressed as a monetary value with a minimum of 2 and a maximum of 4 decimal places. In cases where this value is not explicitly present in the product contract, send as 0.00.
        currency:
          type: string
          maxLength: 3
          pattern: '^(\w{3}){1}$'
          example: BRL
          description: |
            Currency related to the guarantee value, according to ISO-4217 model. E.g., 'BRL'
            All monetary values provided are represented in Brazil's current currency.
        dueDate:
          type: string
          format: date
          maxLength: 10
          minLength: 2
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2028-01-15'
          description: |
            Final maturity date of the operation. RFC-3339 specification. Information must be sent if it exists.
        instalmentPeriodicity:
          $ref: '#/components/schemas/EnumContractInstalmentPeriodicity'
        instalmentPeriodicityAdditionalInfo:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 50
          example: Additional information about periodicity
          description: |
            Mandatory field to complement the information related to regular payment periodicity when the OTHER option is selected.
        firstInstalmentDueDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-15'
          description: |
            First installment maturity date for the principal.
            Information must be sent if it exists.
        CET:
          type: string
          pattern: '^\d{1,6}\.\d{6}$'
          format: double
          maxLength: 13
          minLength: 8
          example: '0.290000'
          description: |
            CET – Total Effective Cost must be expressed as an annual percentage rate and includes all charges and expenses incident on credit operations (interest rate, but also fees, taxes, insurance, and other charges).

            The field must be filled with 6 decimal places, even if they are zeros (percentage representation, e.g., 0.150000. This value represents 15%. The value 1 represents 100%).

            For individual customers (PF), the field is mandatory for contracts signed from 2008 onwards, as per CMN Resolution 3.517. For legal entities (PJ), the field is mandatory for contracts signed from 2011 onwards, as per CMN Resolution 3.909. The field may be filled with 0.00 in scenarios where the institution does not have the CET (Total Effective Cost) information only for the exceptions listed below: 

            - For contracts prior to 2008 (for PF customers); 
            - For contracts prior to 2011 (for PJ customers); 
            - Large or medium-sized PJ customers. 
        amortizationScheduled:
          $ref: '#/components/schemas/EnumContractAmortizationScheduled'
        amortizationScheduledAdditionalInfo:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 200
          example: Complementary information regarding 'OTHER' amortization type
          description: |
            Mandatory field to complement the amortization information when the OTHER option is selected.
        cnpjConsignee:
          type: string
          maxLength: 14
          pattern: '^\d{14}$'
          example: '60500998000135'
          description: |
            CNPJ of the consignee (CNPJ corresponds to the registration number in the Legal Entity Register). 

            Only the CNPJ numbers should be provided, without formatting. 

            [Restriction] Specific additional information for when productSubType is equal to CREDITO_PESSOAL_COM_CONSIGNACAO.
        interestRates:
          type: array
          description: |
            Object providing the set of information necessary to demonstrate the composition of remuneratory interest rates for the Credit Modality. If the contract has no interest rates, an empty list must be shared. If the contract has an interest rate with a value of 0, an object with the value 0 must be explicitly shared.
          items:
            $ref: '#/components/schemas/LoansContractInterestRate'
          minItems: 0
        contractedFees:
          type: array
          description: List providing information about fees agreed in the contract.
          items:
            $ref: '#/components/schemas/LoansContractedFee'
          minItems: 0
        contractedFinanceCharges:
          type: array
          description: List providing charges agreed in the contract.
          items:
            $ref: '#/components/schemas/LoansFinanceCharge'
          minItems: 0
    LoansContractedFee:
      type: object
      description: Object providing the set of information necessary to demonstrate the composition of remuneratory interest rates for the Credit Modality.
      required:
        - feeName
        - feeCode
        - feeChargeType
        - feeCharge
      properties:
        feeName:
          type: string
          maxLength: 140
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          description: Denomination of the agreed fee.
          example: Cadastral renewal
        feeCode:
          type: string
          maxLength: 140
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          description: Acronym identifying the agreed fee.
          example: CADASTRO
        feeChargeType:
          $ref: '#/components/schemas/EnumContractFeeChargeType'
        feeCharge:
          $ref: '#/components/schemas/EnumContractFeeCharge'
        feeAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          description: |
            Monetary value of the fee agreed in the contract. 

            [Restriction] Mandatory if the charge method is different from Percentage.
          example: '100000.0400'
        feeRate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          format: double
          maxLength: 8
          minLength: 8
          description: |
            This is the fee value as a percentage agreed in the contract.

            [Restriction] Mandatory if the charge method is Percentage.
          example: '0.062000'
    LoansContractInterestRate:
      type: object
      description: Object providing the set of information necessary to demonstrate the composition of remuneratory interest rates for the Credit Modality.
      required:
        - taxType
        - interestRateType
        - taxPeriodicity
        - calculation
        - referentialRateIndexerType
        - preFixedRate
        - postFixedRate
      properties:
        taxType:
          $ref: '#/components/schemas/EnumContractTaxType'
        interestRateType:
          $ref: '#/components/schemas/EnumContractInterestRateType'
        taxPeriodicity:
          $ref: '#/components/schemas/EnumContractTaxPeriodicity'
        calculation:
          $ref: '#/components/schemas/EnumContractCalculation'
        referentialRateIndexerType:
          $ref: '#/components/schemas/EnumContractReferentialRateIndexerType'
        referentialRateIndexerSubType:
          $ref: '#/components/schemas/EnumContractReferentialRateIndexerSubType'
        referentialRateIndexerAdditionalInfo:
          type: string
          description: |
            Free field to complement the information related to the Referential rate or indexer type.
            [Restriction] Mandatory to complement the information related to the Referential rate or indexer type, when the type or subtype OTHER is selected.
          maxLength: 140
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: Additional information
        preFixedRate:
          type: string
          pattern: '^\d{1,2}\.\d{6}$'
          format: double
          maxLength: 9
          minLength: 8
          example: '0.600000'
          description: |
            Pre-fixed rate applied under the credit modality contract. E.g., 0.014500. The field must be filled with 6 decimal places, even if they are zeros (percentage representation, e.g., 0.150000. This value represents 15%. The value 1 represents 100%). Fill non-applicable fields with zeros, following the pattern (0.000000).
        postFixedRate:
          type: string
          pattern: '^\d{1,2}\.\d{6}$'
          format: double
          maxLength: 9
          minLength: 8
          description: |
            Post-fixed rate applied under the credit modality contract. E.g., 0.0045. The field must be filled with 6 decimal places, even if they are zeros (percentage representation, e.g., 0.1500. This value represents 15%. The value 1 represents 100%). Fill non-applicable fields with zeros, following the pattern (0.000000).
          example: '0.550000'
        additionalInfo:
          type: string
          maxLength: 1200
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: Additional information
          description: |
            Text with additional information about the composition of agreed interest rates. 

            [Restriction] If the institution has the information to share, it must be provided.
    LoansChargeOverParcel:
      type: object
      required:
        - chargeType
        - chargeAmount
      properties:
        chargeType:
          $ref: '#/components/schemas/EnumContractFinanceChargeType'
        chargeAdditionalInfo:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 140
          example: Additional information
          description: |
            Free field for additional information regarding the charge.

            [Restriction] Mandatory when chargeType is 'OUTROS'.
        chargeAmount:
          type: string
          format: double
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '1000.0400'
          description: Value of the charge payment paid outside the installment. Expressed as a monetary value with a minimum of 2 and a maximum of 4 decimal places.
    LoansFinanceCharge:
      type: object
      description: Set of information regarding the identification of the credit operation.
      required:
        - chargeType
      properties:
        chargeType:
          $ref: '#/components/schemas/EnumContractFinanceChargeType'
        chargeAdditionalInfo:
          type: string
          maxLength: 140
          description: |
            Field for additional information.

            [Restriction] Mandatory if 'OUTROS' (OTHER) option is selected in Type of charge agreed in the contract.
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: Additional information about charges.
        chargeRate:
          type: string
          pattern: '^\d{1}\.\d{6}$'
          format: double
          maxLength: 8
          minLength: 8
          description: |
            Represents the charge value as a percentage agreed in the contract.

            The field must be filled with 6 decimal places, even if they are zeros (percentage representation, e.g., 0.150000. This value represents 15%. The value 1 represents 100%).
          example: '0.070000'
    LoansInstalments:
      type: object
      description: Set of information regarding the remaining term and installments of a loan credit operation.
      required:
        - dueInstalments
        - pastDueInstalments
        - typeContractRemaining
        - typeNumberOfInstalments
        - paidInstalments
      properties:
        typeNumberOfInstalments:
          type: string
          description: Total term type of the contract referring to the informed credit modality.
          enum:
            - DIA
            - SEMANA
            - MES
            - ANO
            - SEM_PRAZO_TOTAL
          example: MES
        totalNumberOfInstalments:
          type: number
          maximum: 999999999
          example: 130632
          description: |
            Total Term according to type (day, week, month, year) referring to the informed Credit Modality.

            [Restriction] Must be filled if typeNumberOfInstalments is different from SEM_PRAZO_TOTAL.
        typeContractRemaining:
          type: string
          enum:
            - DIA
            - SEMANA
            - MES
            - ANO
            - SEM_PRAZO_REMANESCENTE
          description: |
            Remaining term type of the contract referring to the informed credit modality.
        contractRemainingNumber:
          type: number
          maximum: 999999999
          example: 14600
          description: |
            Remaining Term according to type (day, week, month, year) referring to the informed Credit Modality.

            [Restriction] Must be filled if typeContractRemaining is different from SEM_PRAZO_REMANESCENTE.
        paidInstalments:
          type: number
          description: 'Number of installments paid. (For modalities without installments, the number of installments is zero)'
          maximum: 999999
          example: 73
        dueInstalments:
          type: number
          description: 'Number of installments due. (For modalities without installments, the number of installments is zero)'
          maximum: 999999
          example: 57
        pastDueInstalments:
          type: number
          description: 'Number of overdue installments. (For modalities without installments, the number of installments is zero)'
          maximum: 999999
          example: 73
        balloonPayments:
          type: array
          items:
            $ref: '#/components/schemas/LoansBalloonPayment'
          minItems: 1
          description: List providing the maturity dates and value of non-regular installments for the queried credit modality contract.
    LoansListContract:
      type: object
      description: Set of loan contract information maintained by the customer at the transmitting institution and for which consent has been provided.
      required:
        - contractId
        - brandName
        - companyCnpj
        - productType
        - productSubType
        - ipocCode
      properties:
        contractId:
          $ref: '#/components/schemas/LegacyId'
        brandName:
          type: string
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          maxLength: 80
          example: Organization A
          description: 'Brand Name reported by the participant in Open Finance. It is recommended to use, whenever possible, the same brand name assigned in the Customer Friendly Server Name (Authorization Server) field of the directory.'
        companyCnpj:
          type: string
          pattern: '\d{14}$'
          maxLength: 14
          example: '21128159000166'
          description: 'Full CNPJ number of the institution responsible for the Registration - CNPJ corresponds to the legal entity registration number. Only the CNPJ numbers should be provided, without formatting.'
        productType:
          $ref: '#/components/schemas/EnumContractProductTypeLoans'
        productSubType:
          $ref: '#/components/schemas/EnumContractProductSubTypeLoans'
        ipocCode:
          type: string
          maxLength: 67
          minLength: 22
          pattern: '^[\w\W]{22,67}$'
          example: '92792126019929279212650822221989319252576'
          description: |
            Standardized contract number - IPOC (Standardized Credit Operation Identification). According to DOC 3040, composed of:
            - **Institution's CNPJ:** initial 8 (eight) positions;
            - **Operation modality:** 4 (four) positions;
            - **Client type:** 1 (one) position (1 = natural person - CPF, 2 = legal entity – CNPJ, 3 = natural person abroad, 4 = legal entity abroad, 5 = natural person without CPF and 6 = legal entity without CNPJ);
            - **Client code:** The number of positions varies according to the client type:
              1. For individual clients with CPF (client type = 1), inform the 11 (eleven) CPF positions;
              2. For legal entity clients with CNPJ (client type = 2), inform the initial 8 (eight) CNPJ positions;
              3. For other clients (client types 3, 4, 5, and 6), inform 14 (fourteen) positions, padded with leading zeros if the identification is shorter;
            - **Contract code:** 1 (one) to 40 (forty) positions, without character padding.          
    LoansPayments:
      type: object
      description: Set of information regarding payments made for a loan credit operation.
      required:
        - contractOutstandingBalance
        - releases
      properties:
        paidInstalments:
          type: number
          maximum: 2147483647
          example: 73
          description: Total number of installments paid for the contract related to the informed Credit Modality.
        contractOutstandingBalance:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Value required for the customer to settle the debt.
        releases:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/LoansReleases'
          description: List of payments made during the period.
    LoansReleases:
      type: object
      description: List of payments made during the period.
      required:
        - paymentId
        - isOverParcelPayment
        - paidDate
        - currency
        - paidAmount
      properties:
        paymentId:
          $ref: '#/components/schemas/LegacyId'
        isOverParcelPayment:
          type: boolean
          example: true
          description: Identifies whether it is an agreed payment (false) or an isolated payment (true).
        instalmentId:
          $ref: '#/components/schemas/LegacyId'
        paidDate:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2021-05-21'
          description: 'Effective payment date for the queried credit modality contract, as per RFC-3339 specification. E.g., 2014-03-19'
        currency:
          type: string
          maxLength: 3
          pattern: '^(\w{3}){1}$'
          example: BRL
          description: |
            Currency related to the monetary value provided, according to ISO-4217 model. E.g., 'BRL'.
            All monetary values provided are represented in Brazil's current currency.
        paidAmount:
          type: string
          format: double
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '1000.0400'
          description: |
            Payment value for the queried credit modality contract.
            Expressed as a monetary value with a minimum of 2 and a maximum of 4 decimal places.
        overParcel:
          type: object
          description: |
            Object for fees and charges that were paid outside the installment.

            [Restriction] Information must be sent if it exists.
          required:
            - fees
            - charges
          properties:
            fees:
              type: array
              minItems: 0
              items:
                $ref: '#/components/schemas/LoansFeeOverParcel'
              description: 'List of fees that were paid outside the installment, only for isolated payments.'
            charges:
              type: array
              minItems: 0
              items:
                $ref: '#/components/schemas/LoansChargeOverParcel'
              description: List of charges that were paid outside the installment.
    LoansFeeOverParcel:
      type: object
      required:
        - feeName
        - feeCode
        - feeAmount
      properties:
        feeName:
          type: string
          maxLength: 140
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: Periodic asset revaluation
          description: |
            Denomination of the agreed fee.
        feeCode:
          type: string
          maxLength: 140
          pattern: '^(?!\s)[\w\W\s]*[^\s]$'
          example: aval_bem
          description: |
            Acronym identifying the agreed fee.
        feeAmount:
          type: string
          pattern: '^-?\d{1,15}\.\d{2,4}$'
          maxLength: 21
          minLength: 4
          example: '100000.0400'
          description: |
            Monetary value of the fee agreed in the contract.

            Expressed as a monetary value with a minimum of 2 and a maximum of 4 decimal places.
    LoansWarranties:
      type: object
      description: Set of information regarding the identification of the loan credit operation.
      required:
        - currency
        - warrantyAmount
        - warrantyType
        - warrantySubType
      properties:
        currency:
          type: string
          pattern: '^(\w{3}){1}$'
          maxLength: 3
          description: 'Currency related to the guarantee value, according to ISO-4217 model. E.g., ''BRL''. All monetary values provided are represented in Brazil''s current currency.'
          example: BRL
        warrantyType:
          $ref: '#/components/schemas/EnumWarrantyType'
        warrantySubType:
          $ref: '#/components/schemas/EnumWarrantySubType'
        warrantyAmount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: |
            Original value of the guarantee. Expressed as a monetary value with a minimum of 2 and a maximum of 4 decimal places.

            [Restriction] For cases where warrantyType is equal to "GARANTIA_FIDEJUSSORIA", the guarantee value corresponds to a percentage of the total guaranteed. 
            Thus, cases of fiduciary guarantee for which a monetary value cannot be determined must be filled with 0.00.
    LoansBalloonPaymentAmount:
      type: object
      required:
        - amount
        - currency
      description: Monetary value of the non-regular installment due.
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.0400'
          description: Monetary value of the non-regular installment due. Expressed as a monetary value with a minimum of 2 and a maximum of 4 decimal places.
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
          maxLength: 3
          description: 'Currency related to the monetary value, following the ISO-4217 model.'
          example: BRL
    Meta:
      type: object
      description: Meta information regarding the requested API.
      required:
        - totalRecords
        - totalPages
        - requestDateTime
      properties:
        totalRecords:
          type: integer
          format: int32
          description: Total number of records in the result.
          example: 1
        totalPages:
          type: integer
          format: int32
          description: Total number of pages in the result.
          example: 1
        requestDateTime:
          description: 'Date and time of the query, as per RFC-3339 specification, UTC format.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    ResponseLoansContractList:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          minItems: 0
          description: Set of loan contract information maintained by the customer at the transmitting institution and for which consent has been provided.
          items:
            $ref: '#/components/schemas/LoansListContract'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseLoansContract:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/LoansContract'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseLoansInstalments:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/LoansInstalments'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseLoansPayments:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/LoansPayments'
        meta:
          $ref: '#/components/schemas/Meta'
    ResponseLoansWarranties:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          minItems: 0
          description: Set of information regarding the identification of the loan credit operation.
          items:
            $ref: '#/components/schemas/LoansWarranties'
        meta:
          $ref: '#/components/schemas/Meta'
    LegacyId:
      description: |
        Array of key-value pairs with the resource identification key in the source (legacy) system, allowing for composite keys.
      type: array
      items:
        type: object
        required:
          - key
          - value
        properties:
          key:
            description: |
              Name of the identifier field in the source system.
            type: string
            example: internalResourceId
          value:
            description: |
              Value of the identifier field in the source system.
            type: string
            example: '1234'
        additionalProperties: false
      minItems: 1
      maxItems: 10
    PaginationKey:
      description: |
        Recall identifier, used to avoid counting endpoint calls during pagination.
      type: string
      maxLength: 2048
      pattern: '[\w\W\s]*'
    Page:
      description: |
        Page number being requested (the value of the first page is 1).
      type: integer
      default: 1
      minimum: 1
      maximum: 2147483647
      format: int32
    PageSize:
      description: |
        Total number of records per page.
      type: integer
      default: 25
      minimum: 1
      format: int32
      maximum: 1000
    ConsentDataSharing:
      description: |
        Data sharing consent.
      type: object
      required:
        - brandId
        - creationDateTime
        - tpp
        - externalId
        - loggedUser
        - permissions
      properties:
        authExtraData:
          type: array
          description: |
            Array of key-value pairs with additional data from the authorizer.
            This data can be used as resource filters.
          items:
            type: object
            required:
              - key
              - value
            properties:
              key:
                type: string
                example: branch
              value:
                type: string
                example: '0011'
        consentOwner:
          deprecated: true
          type: array
          description: |
            [Deprecated] Array of key-value pairs with identification data referring to the consent owner.
          items:
            type: object
            required:
              - key
              - value
            properties:
              key:
                type: string
                example: branch
              value:
                type: string
                example: '0011'
        brandId:
          type: string
          description: |
            Identifier of the brand reported by the Open Finance participant.
          example: cbanco
          minLength: 1
          maxLength: 50
        creationDateTime:
          description: |
            Date and time when the consent was created.
            A string with date and time as per RFC-3339 specification, always using UTC timezone (UTC time format).
          type: string
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$ '
          example: '2021-05-21T08:30:00Z'
          maxLength: 20
        tpp:
          type: object
          description: |
            Details of the TPP (Third Party Provider) that requested the consent.
          additionalProperties: false
          required:
            - name
          properties:
            name:
              type: string
              description: |
                Name of the TPP that requested the consent.
              example: GuiaBolsa
              maxLength: 100
        externalId:
          type: string
          description: |
            Consent identifier used outside the Opus Open Finance platform.
          example: urn:oob-bank:2f710909-4ccd-4998-8679-3d8de00e5ccf
          maxLength: 100
        loggedUser:
          type: object
          description: |
            User (natural person) logged into the Data Transmitting institution.
          additionalProperties: false
          required:
            - document
          properties:
            document:
              type: object
              description: |
                Official identification document of the user.
              additionalProperties: false
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 11
                  description: |
                    Official identification document number of the user.
                  example: '11111111111'
                  pattern: ^\d{11}$
                rel:
                  type: string
                  maxLength: 3
                  description: |
                    Type of the official identification document of the user.
                  example: CPF
                  pattern: ^[A-Z]{3}$
        businessDocumentType:
          type: object
          description: |
            User (legal entity) logged into the Data Transmitting institution.
            [Restriction] Mandatory if the user logged into the Data Transmitting institution is a CNPJ (legal entity).
          additionalProperties: false
          required:
            - document
          properties:
            document:
              type: object
              description: |
                Official identification document of the legal entity holder.
              additionalProperties: false
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 14
                  description: |
                    Official identification document number of the legal entity holder.
                  example: '11111111111111'
                  pattern: ^\d{14}$
                rel:
                  type: string
                  maxLength: 4
                  description: |
                    Type of the official identification document of the legal entity holder.
                  example: CNPJ
                  pattern: ^[A-Z]{4}$
        resources:
          description: |
            List of resources allowed by the client.
          type: array
          items:
            type: object
            description: |
              Resources selected by the client.
            required:
              - type
              - resourceLegacyId
            properties:
              type:
                description: |
                  Resource type.
                type: string
                enum:
                  - ACCOUNT
                  - CREDIT_CARD_ACCOUNT
                  - LOAN
                  - FINANCING
                  - UNARRANGED_ACCOUNT_OVERDRAFT
                  - INVOICE_FINANCING
                  - PAYMENT
                  - BANK_FIXED_INCOME
                  - CREDIT_FIXED_INCOME
                  - VARIABLE_INCOME
                  - TREASURE_TITLE
                  - FUND
                example: PAYMENT
              resourceLegacyId:
                $ref: '#/components/schemas/LegacyId'
              authorizers:
                deprecated: true
                description: |
                  [Deprecated] List of authorizers for the resource for multiple authorization cases.
                  If the resource is selected, all authorizers must accept the consent that the resource is part of.
                type: array
                items:
                  type: object
                  required:
                    - cpf
                    - name
                  properties:
                    cpf:
                      description: |
                        Authorizer's CPF.
                      type: string
                      minLength: 11
                      maxLength: 11
                      pattern: ^\d{11}$
                      example: '11111111111'
                    name:
                      description: |
                        Authorizer's name.
                      type: string
                      example: Marco Antonio de Brito
                minItems: 1
              hasMultipleAuthorisers:
                deprecated: true
                type: boolean
                example: 'false'
            additionalProperties: false
          maxItems: 1000
        expirationDateTime:
          description: |
            Permission expiration date and time.
            Mandatory field, reflects the consent's validity limit date.
            A string with date and time as per RFC-3339 specification, always using UTC timezone (UTC time format).
          type: string
          maxLength: 20
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$ '
          example: '2021-05-21T08:30:00Z'
        permissions:
          type: array
          items:
            description: |
              Only for data sharing consents.
              Specifies the types of API access permissions within the scope of Open Finance Brazil - Phase 2, according to the consent blocks provided by the user and necessary for accessing each API endpoint.
            type: string
            enum:
              - ACCOUNTS_READ
              - ACCOUNTS_BALANCES_READ
              - ACCOUNTS_TRANSACTIONS_READ
              - ACCOUNTS_OVERDRAFT_LIMITS_READ
              - CREDIT_CARDS_ACCOUNTS_READ
              - CREDIT_CARDS_ACCOUNTS_BILLS_READ
              - CREDIT_CARDS_ACCOUNTS_BILLS_TRANSACTIONS_READ
              - CREDIT_CARDS_ACCOUNTS_LIMITS_READ
              - CREDIT_CARDS_ACCOUNTS_TRANSACTIONS_READ
              - CUSTOMERS_PERSONAL_IDENTIFICATIONS_READ
              - CUSTOMERS_PERSONAL_ADITTIONALINFO_READ
              - CUSTOMERS_BUSINESS_IDENTIFICATIONS_READ
              - CUSTOMERS_BUSINESS_ADITTIONALINFO_READ
              - FINANCINGS_READ
              - FINANCINGS_SCHEDULED_INSTALMENTS_READ
              - FINANCINGS_PAYMENTS_READ
              - FINANCINGS_WARRANTIES_READ
              - INVOICE_FINANCINGS_READ
              - INVOICE_FINANCINGS_SCHEDULED_INSTALMENTS_READ
              - INVOICE_FINANCINGS_PAYMENTS_READ
              - INVOICE_FINANCINGS_WARRANTIES_READ
              - LOANS_READ
              - LOANS_SCHEDULED_INSTALMENTS_READ
              - LOANS_PAYMENTS_READ
              - LOANS_WARRANTIES_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_SCHEDULED_INSTALMENTS_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_PAYMENTS_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_WARRANTIES_READ
              - BANK_FIXED_INCOMES_READ
              - CREDIT_FIXED_INCOMES_READ
              - FUNDS_READ
              - VARIABLE_INCOMES_READ
              - TREASURE_TITLES_READ
              - EXCHANGES_READ
              - RESOURCES_READ
          minItems: 1
          maxItems: 30
          example:
            - ACCOUNTS_READ
            - ACCOUNTS_OVERDRAFT_LIMITS_READ
            - RESOURCES_READ
      additionalProperties: false
    RequestMeta:
      type: object
      description: |
        Object containing data related to the context in which the request was received.
      required:
        - correlationId
        - brandId
      properties:
        correlationId:
          type: string
          description: |
            UUID that identifies the correlation ID of the performed request.
            Must be propagated to all calls made between systems and logged whenever possible to facilitate error tracing.
          pattern: ^(localID:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
          example: localID:97623ed1-4732-4bf2-8d4b-ae7aced5443b
        brandId:
          type: string
          description: |
            Identifier of the brand reported by the Open Finance participant.
          example: cbanco
          minLength: 1
          maxLength: 50
      additionalProperties: false
    RequestWithConsentAndRequestMeta:
      type: object
      required:
        - consent
        - requestMeta
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
    RequestWithConsentAndRequestMetaAndPagination:
      type: object
      required:
        - consent
        - requestMeta
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    NonSelectableResourceDiscoveryResponse:
      title: Non-Selectable Resource Discovery Response
      type: object
      required:
        - data
      properties:
        data:
          type: object
          description: |
            Object containing the client's resource list.
          required:
            - resources
          properties:
            resources:
              description: |
                List of resources related to discovery.
              type: array
              items:
                type: object
                properties:
                  resourceLegacyId:
                    description: |
                      Array of key-value pairs with the resource identification key in the source (legacy) system, allowing for composite keys.
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          description: |
                            Name of the identifier field in the source system.
                          type: string
                        value:
                          description: |
                            Value of the identifier field in the source system.
                          type: string
                      required:
                        - key
                  validUntil:
                    description: |
                      Indicates the date until which the resource will be available.
                    type: string
                    format: date
                    example: '2025-05-21'
                  status:
                    description: |
                      Indicates the current status of the resource.
                    type: string
                    default: AVAILABLE
                    enum:
                      - AVAILABLE
                      - PENDING_AUTHORISATION
                      - UNAVAILABLE
                      - TEMPORARILY_UNAVAILABLE
                  authorizers:
                    description: |
                      List of authorizers for the resource for multiple authorization cases.
                      If the resource is selected, all authorizers must accept the consent that the resource is part of.
                    type: array
                    items:
                      type: object
                      properties:
                        cpf:
                          description: |
                            Authorisor's CPF
                          type: string
                          minLength: 11
                          maxLength: 11
                          pattern: ^\d{11}$
                        name:
                          description: |
                            Authorisor's name
                          type: string
                      required:
                        - cpf
                        - name
                    minItems: 1
                required:
                  - resourceLegacyId
                  - validUntil
    RequestWithConsentAndRequestMetaAndPaginationAndContractId:
      type: object
      required:
        - consent
        - requestMeta
        - contractId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        contractId:
          $ref: '#/components/schemas/LegacyId'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    RequestWithConsentAndRequestMetaAndContractId:
      type: object
      required:
        - consent
        - requestMeta
        - contractId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        contractId:
          $ref: '#/components/schemas/LegacyId'
  responses:
    OKResponseLoansContractList:
      description: Loan contract data successfully retrieved.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansContractList'
    OKResponseLoansContract:
      description: Loan contract data identified by contractId.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansContract'
    OKResponseLoansWarranties:
      description: List of warranties linked to the loan contract identified by contractId.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansWarranties'
    OKResponseLoansInstalments:
      description: Installment schedule data for the loan contract identified by contractId.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansInstalments'
    OKResponseLoansPayments:
      description: Payment data for the loan contract identified by contractId.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseLoansPayments'
    BadRequest:
      description: 'The request was malformed, omitting mandatory attributes, either in the payload or via URL attributes.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Forbidden:
      description: The token has an incorrect scope or a security policy was violated.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    InternalServerError:
      description: An error occurred in the API gateway or microservice.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    GatewayTimeout:
      description: GATEWAY TIMEOUT - The request was not fulfilled within the established time limit.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Locked:
      description: Locked.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    MethodNotAllowed:
      description: The consumer attempted to access the resource with an unsupported method.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    NotAcceptable:
      description: The request contained an Accept header different from the allowed media types or a character set other than UTF-8.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    NotFound:
      description: The requested resource does not exist or has not been implemented.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    TooManyRequests:
      description: 'The operation was rejected because too many requests were made within a given period or the global concurrent request limit was reached.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Unauthorized:
      description: Missing/invalid authentication header or invalid token.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    UnprocessableEntity:
      description: 'The request syntax is correct, but the instructions present could not be processed.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    SiteIsOverloaded:
      description: 'The site is overloaded and the operation was rejected, as the maximum global TPS limit has been reached at this moment.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    Default:
      description: Unexpected error.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorWithAbleAdditionalProperties'
    OKResponseLoanDiscovery:
      description: List of resources representing the customer's loan credit operation contracts successfully retrieved.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NonSelectableResourceDiscoveryResponse'
