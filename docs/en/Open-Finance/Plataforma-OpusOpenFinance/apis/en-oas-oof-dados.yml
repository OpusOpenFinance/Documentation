openapi: 3.0.3
info:
  title: Consent BackOffice Services
  version: 1.0.0
security:
  - jwt: []
tags:
  - name: General
    description: Opus open banking services
  - name: Consents
    description: Consents opus open banking services
  - name: Payments
    description: Consents opus open banking services
  - name: Enrollments
    description: Enrollments opus open banking services
  - name: Portabilities
    description: Portabilities opus open banking services
paths:
  /open-banking/oob-consents/v1/consents:
    get:
      tags:
        - General
      description: Retrieve list of consents
      parameters:
        - name: consentOwner
          in: query
          schema:
            type: string
            example: '[{"key":"cpf","value":"99999999999"},{"key":"cnpj","value":"11199999999999"}]'
        - name: cpf
          in: query
          schema:
            type: string
            example: "99999999999"
        - name: cnpj
          in: query
          schema:
            type: string
            example: "11199999999999"
        - name: createdOnBegin
          in: query
          schema:
            format: date-time
            type: string
            example: 2022-01-30T17:31:28Z
        - name: createdOnEnd
          in: query
          schema:
            format: date-time
            type: string
            example: 2022-01-30T17:31:28Z
        - name: consentTermPeriod
          description: Total consent term in months (integer). If undetermined, use -1. Cannot be used together with createdOnBegin and/or createdOnEnd filters
          in: query
          schema:
            format: integer
            type: string
            example: -1
        - name: modalityType
          description: Payment modality. Exclusive use for type = PAYMENT
          in: query
          schema:
            $ref: "#/components/schemas/ModalityPaymentEnum"
        - name: modalityTypeList
          description: List of payment consent modalities separated by commas. Cannot be used together with modalityType filter.
          in: query
          schema:
            type: string
            example: IMMEDIATE,SCHEDULED,VRP,SWEEPING,AUTOMATIC
        - name: orderType
          in: query
          schema:
            $ref: "#/components/schemas/OrderTypeEnum"
        - name: searchKey
          schema:
            type: string
          in: query
        - name: searchKeys
          schema:
            type: string
          in: query
          description: List of search keys separated by commas.
        - name: status
          in: query
          schema:
            $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
        - name: statusList
          description: List of consent statuses separated by commas. Cannot be used together with status filter.
          in: query
          schema:
            type: string
            example: AUTHORISED,AWAITING_AUTHORISATION,REJECTED,REVOKED,EXPIRED,CONSUMED,TIMEOUT_AUTHORISATION,TIMEOUT_PAYMENT,AWAITING_RISK_SIGNALS,AWAITING_ACCOUNT_HOLDER_VALIDATION,AWAITING_ENROLLMENT,PARTIALLY_ACCEPTED
        - name: type
          description: Returns only consents of the specified type
          in: query
          schema:
            $ref: "#/components/schemas/ConsentTypesEnum"
        - name: typeList
          description: List of consent types separated by commas. Cannot be used together with type filter.
          in: query
          schema:
            type: string
            example: DATA_SHARING,PAYMENT,ENROLLMENT
        - name: paymentType
          in: query
          schema:
            $ref: "#/components/schemas/PaymentTypeEnum"
        - name: orgName
          description: Search by organization name. Enter at least 3 characters.
          in: query
          schema:
            type: string
            example: opus
        - name: page
          in: query
          schema:
            format: int32
            default: 1
            type: integer
        - name: page-size
          in: query
          schema:
            format: int32
            default: 25
            type: integer
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentSummaryPaginationSchema"
  /open-banking/oob-consents/v1/consents/{consentId}:
    get:
      tags:
        - General
      description: Retrieve consent data
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentDetailSchema"
    patch:
      deprecated: true
      tags:
        - Consents
      description: Revoke consent deprecated
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestRevokeOobConsent"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentDetailSchema"
  /open-banking/oob-consents/consents/v1/consents/{consentId}/payments:
    get:
      tags:
        - Payments
      description: Retrieve payments of a consent, ordered by payment date desc
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: page
          in: query
          schema:
            format: int32
            default: 1
            type: integer
        - name: page-size
          in: query
          schema:
            format: int32
            default: 25
            type: integer
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponsePaymentsDetailSchema"
  /open-banking/oob-consents/consents/v2/active:
    get:
      tags:
        - General
      description: Get active consents for a given time frame
      parameters:
        - name: startDate
          in: query
          schema:
            format: date-time
            type: string
            example: 2022-01-30T17:31:28Z
        - name: endDate
          in: query
          schema:
            format: date-time
            type: string
            example: 2022-01-30T18:31:28Z
        - name: page
          in: query
          schema:
            format: int32
            default: 1
            type: integer
        - name: page-size
          in: query
          schema:
            format: int32
            default: 25
            type: integer
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentListSchema"
  /open-banking/oob-consents/enrollments/v1/enrollments/{enrollmentId}:
    patch:
      tags:
        - Enrollments
      description: Revoke enrollment consent
      parameters:
        - name: enrollmentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestRevokeOobEnrollmentConsent"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentDetailSchema"
  /open-banking/oob-consents/enrollments/v1/enrollments/{enrollmentId}/edit:
    patch:
      tags:
      - Consents Opus Open Banking
      description: Enrollment consent editing
      parameters:
      - name: enrollmentId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      - name: X-Brand-ID
        in: header
        required: true
        schema:
          type: string
          nullable: false
      - name: X-Correlation-ID
        in: header
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestEditOobEnrollmentConsent'
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseConsentDetailSchema'
  /open-banking/oob-consents/payments/v1/consents/{consentId}:
    patch:
      tags:
        - Payments
      description: Revoke payment consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestRevokeOobPaymentConsent"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentDetailSchema"
  /open-banking/oob-consents/consents/v1/consents/{consentId}:
    patch:
      tags:
        - Consents
      description: Revoke data sharing consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: paymentStatus
          in: header
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RevokeDataSharingConsentData"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentDetailSchema"
  /open-banking/oob-consents/v1/tpps/payment-legacy-ids:
    get:
      tags:
        - Payments
      description: Get legacy payments generated in a period
      parameters:
        - name: endDate
          in: query
          schema:
            type: string
            example: 2022-02-30
        - name: startDate
          in: query
          schema:
            type: string
            example: 2022-01-30
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseMapItpLegacyIds"
  /open-banking/oob-consents/v1/payment-status-notification:
    post:
      tags:
        - Payments
      description: Post information about payments status change
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestPaymentStatusChangeNotification"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "204":
          description: Notification received successfully
  /open-banking/oob-consents/v1/resources-notification:
    post:
      tags:
        - Consents
      description: Informs non-selectable resource changes for a CPF, CNPJ or SEARCH KEY
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestResourceUpdateNotification"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "204":
          description: Notification received successfully
  /open-banking/oob-consents/v1/payments/consents/{consentId}/authorisation:
    post:
      tags:
        - Payments
      description: Post payment authorisation
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestPaymentConsentAuthorisation"
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "204":
          description: Notification received successfully
  /open-banking/oob-consents/v1/consents/{consentId}/extends:
    get:
      tags:
        - Consents
      description: Retrieve extended consent list
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: page
          in: query
          schema:
            format: int32
            default: 1
            type: integer
        - name: page-size
          in: query
          schema:
            format: int32
            default: 25
            type: integer
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsentExtendsSchema"
  /open-banking/oob-consents/consents/v1/consents/{consentId}/search-keys:
    post:
      tags:
        - Consents
      description: Post multiple search keys to a consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
      responses:
        "204":
          description: Search key added successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    get:
      tags:
        - Consents
      description: Check the existence of multiple search keys in a consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
        - name: searchKeys
          in: query
          schema:
            type: array
            items:
              type: string
          required: true
      responses:
        "200":
          description: Search key deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        searchKey:
                          type: string
                        exists:
                          type: boolean
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    delete:
      tags:
        - Consents
      description: Delete multiple search keys in a consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
        - name: searchKeys
          in: query
          schema:
            type: array
            items:
              type: string
          required: true
      responses:
        "204":
          description: Search key deleted successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
  /open-banking/oob-consents/consents/v1/consents/{consentId}/search-key/{searchKey}:
    post:
      tags:
        - Consents
      description: Post search key to consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: searchKey
          in: path
          required: true
          schema:
            type: string
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Search key added successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    get:
      tags:
        - Consents
      description: Check the existence of a search key in a consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: searchKey
          in: path
          required: true
          schema:
            type: string
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Search key deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      searchKey:
                        type: string
                      exists:
                        type: boolean
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    delete:
      tags:
        - Consents
      description: Delete search key to consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: searchKey
          in: path
          required: true
          schema:
            type: string
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Search key deleted successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
  /open-banking/oob-consents/consents/v1/consents/{consentId}/meta-data:
    put:
      tags:
        - Consents
      description: Put meta-data information to consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MetadataData"
      responses:
        "204":
          description: Meta-data added successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    patch:
      tags:
        - Consents
      description: Patch meta-data information to consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MetadataData"
      responses:
        "204":
          description: Meta-data updated successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    delete:
      tags:
        - Consents
      description: Delete meta-data information to consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Meta-data deleted successfully
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    get:
      tags:
        - Consents
      description: Get meta-data information from consent
      parameters:
        - name: consentId
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/UUID"
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "200":
          description: Get meta-data information from consent successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MetadataData"
  /open-banking/oob-consents/automatic-payments/v1/recurring-consents/{recurringConsentId}:
    patch:
      tags:
        - Consents Opus Open Banking
      description: Revoke automatic payment consent
      parameters:
        - name: recurringConsentId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/UUID'
        - name: X-Brand-ID
          in: header
          required: true
          schema:
            type: string
            nullable: false
        - name: X-Correlation-ID
          in: header
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AutomaticPaymentConsentEdition'
      responses:
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseConsentDetailSchema'
  /open-banking/oob-consents/v1/portabilities/{portabilityId}/status:
    patch:
      tags:
        - Portabilities
      summary: Update portability status
      description: >
        Updates the status of a portability process
      parameters:
        - name: portabilityId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestPortabilityStatusUpdate'
      responses:
        '200':
          description: Portability status updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponsePortabilityStatusUpdate'
        default:
          description: Default error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /open-banking/oob-consents/v1/webhook/status/{consentId}:
    get:
      description: Get webhook sending status for consent
      tags:
      - Consents Opus Open Banking
      parameters:
      - name: consentId
        in: path
        required: true
        schema:
          type: string
      - name: X-Brand-ID
        in: header
        required: true
        schema:
          type: string
      - name: X-Correlation-ID
        in: header
        schema:
          type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseToggleWebhook'
        'default':
          description: Default error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /open-banking/oob-consents/v1/webhook/toggle/{consentId}:
    patch:
      description: Enable/Disable optional webhook sending
      tags:
      - Consents Opus Open Banking
      parameters:
      - name: consentId
        in: path
        required: true
        schema:
          type: string
      - name: X-Brand-ID
        in: header
        required: true
        schema:
          type: string
      - name: X-Correlation-ID
        in: header
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestToggleWebhook'
            x-zia-agent-param-type: dynamic
      responses:
        '204':
          description: 'No Content'
        'default':
          description: Default error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
components:
  schemas:
    AccountPaymentTypeEnum:
      enum:
        - CACC
        - SLRY
        - SVGS
        - TRAN
      type: string
    ApiError:
      type: object
      properties:
        code:
          type: string
        title:
          type: string
        detail:
          type: string
        typeError:
          type: string
    Authorization:
      deprecated: true
      type: object
      properties:
        personDocumentNumber:
          type: string
        personName:
          type: string
        isRequirer:
          type: boolean
          example: true
        status:
          $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
    ConsentAuthorizationStatusEnum:
      enum:
        - AUTHORISED
        - AWAITING_AUTHORISATION
        - REJECTED
        - REVOKED
        - EXPIRED
        - CONSUMED
        - TIMEOUT_AUTHORISATION
        - TIMEOUT_PAYMENT
        - AWAITING_RISK_SIGNALS
        - AWAITING_ACCOUNT_HOLDER_VALIDATION
        - AWAITING_ENROLLMENT
        - PARTIALLY_ACCEPTED
      type: string
    ConsentDetail:
      type: object
      properties:
        brandId:
          type: string
          example: cbanco
        externalId:
          type: string
          example: urn:oob-bank:2f710909-4ccd-4998-8679-3d8de00e5ccf
        personDocumentType:
          type: string
          example: CPF
        personDocumentNumber:
          type: string
          example: "77721813700"
        businessDocumentType:
          type: string
          example: CNPJ
        businessDocumentNumber:
          type: string
          example: "33273542000197"
        createdOn:
          format: date-time
          type: string
          example: 2022-01-30T17:31:28Z
        expiredOn:
          format: date-time
          type: string
          example: 2022-01-30T17:41:28Z
        paymentData:
          $ref: "#/components/schemas/PaymentData"
        resources:
          type: array
          items:
            $ref: "#/components/schemas/Resource"
        authorizations:
          deprecated: true
          type: array
          items:
            $ref: "#/components/schemas/Authorization"
        permissions:
          type: array
          items:
            $ref: "#/components/schemas/Permission"
        consentHistoryStatus:
          type: array
          items:
            $ref: "#/components/schemas/ConsentHistoryStatus"
        modalityPayment:
          $ref: "#/components/schemas/ModalityPaymentEnum"
        revocation:
          $ref: "#/components/schemas/ConsentRevocation"
        rejection:
          $ref: "#/components/schemas/ConsentRejection"
        status:
          allOf:
            - $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
            - example: AUTHORISED
        type:
          allOf:
            - $ref: "#/components/schemas/ConsentTypesEnum"
            - example: PAYMENT
        paymentIds:
          type: array
          items:
            $ref: "#/components/schemas/ResourcePaymentId"
        orgName:
          type: string
          example: "Guia Seguros S.A."
        additionalInformation:
          description: Additional information entered by the paying user in Automatic Payment consents
          type: string
          example: "My recurrence"
          pattern: '[\w\W\s]*'
          maxLength: 140
        tppName:
          type: string
          example: "Guia Seguros"
        enrollmentData:
          $ref: "#/components/schemas/EnrollmentData"
        linkedConsents:
          type: array
          items:
            $ref: "#/components/schemas/LinkedConsents"
    ConsentHistoryStatus:
      type: object
      properties:
        consentStatus:
          $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
        authorizationStatus:
          deprecated: true
          $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
        authorizerName:
          deprecated: true
          type: string
        operatorUsername:
          type: string
        updatedOn:
          format: date-time
          type: string
          example: 2022-01-30T17:31:28Z
    ConsentSummary:
      type: object
      properties:
        id:
          $ref: "#/components/schemas/UUID"
        type:
          $ref: "#/components/schemas/ConsentTypesEnum"
        paymentType:
          $ref: "#/components/schemas/PaymentTypeEnum"
        status:
          $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
        createdOn:
          format: date-time
          type: string
        expiresOn:
          format: date-time
          type: string
        brandId:
          type: string
          example: BANCO
        modalityPayment:
          $ref: "#/components/schemas/ModalityPaymentEnum"
        creditorName:
          type: string
          example: Marco Antonio de Brito
        amount:
          deprecated: true
          type: string
          example: "22.00"
        scheduleDate:
          type: string
          deprecated: true
          example: 2022-07-06
        orgName:
          type: string
          example: "Guia Seguros S.A."
        tppName:
          type: string
          example: "Guia Seguros"
        tppLogo:
          type: string
          example: "http://www.example.com/logo.png"
        journey:
          type: object
          properties:
            isLinked:
              type: boolean
              example: true
            linkId:
              type: string
              example: "urn:amazingbank:9e470cb4-7d3f-4c49-9e20-018e042ae455"
            status:
              $ref: "#/components/schemas/ConsentAuthorizationStatusEnum"
    ConsentExtends:
      type: object
      properties:
        expirationDateTime:
          format: date-time
          type: string
        loggedUser:
          $ref: "#/components/schemas/LoggedUser"
        requestDateTime:
          format: date-time
          type: string
    ConsentTypesEnum:
      enum:
        - DATA_SHARING
        - PAYMENT
        - ENROLLMENT
      type: string
    Creditor:
      required:
        - personType
        - cpfCnpj
        - name
      type: object
      properties:
        personType:
          allOf:
            - $ref: "#/components/schemas/PaymentPersonTypeEnum"
            - nullable: false
        cpfCnpj:
          type: string
          example: "99999999999999"
          nullable: false
        name:
          maxLength: 140
          minLength: 1
          type: string
          example: Marco Antonio de Brito
          nullable: false
    CreditorAccount:
      required:
        - ispb
        - number
        - accountType
      type: object
      properties:
        ispb:
          type: string
          example: "12345678"
          nullable: false
        issuer:
          type: string
          example: "1774"
        number:
          type: string
          example: "1234567890"
          nullable: false
        accountType:
          allOf:
            - $ref: "#/components/schemas/AccountPaymentTypeEnum"
            - nullable: false
    DebtorAccount:
      required:
        - ispb
        - issuer
        - number
        - accountType
      type: object
      properties:
        ispb:
          type: string
          example: "12345678"
          nullable: false
        issuer:
          type: string
          example: "1774"
        number:
          type: string
          example: "1234567890"
          nullable: false
        accountType:
          allOf:
            - $ref: "#/components/schemas/AccountPaymentTypeEnum"
            - nullable: false
        ibgeTownCode:
          type: string
          minLength: 7
          maxLength: 7
          pattern: '^\d{7}$'
          example: "5300108"
    Creditors:
      type: array
      minItems: 1
      items:
        type: object
        description: Object containing the receiver (creditor) data.
        required:
          - personType
          - cpfCnpj
          - name
        properties:
          personType:
            $ref: "#/components/schemas/EnumPaymentPersonType"
          cpfCnpj:
            type: string
            minLength: 11
            maxLength: 14
            pattern: '^\d{11}$|^\d{14}$'
            example: "58764789000137"
            description: |
              Identification of the person involved in the transaction.
              Fill with CPF or CNPJ, according to the value chosen in the type field.
              CPF will be used with 11 numbers and must be informed without dots or dashes.
              CNPJ will be used with 14 numbers and must be informed without dots or dashes.
          name:
            type: string
            pattern: ^([A-Za-zÀ-ÖØ-öø-ÿ,.@:&*+_<>()!?/\\$%\d' -]+)$
            maxLength: 120
            example: Marco Antonio de Brito
            description: |
              For natural person, the full name of the receiver's account holder must be provided.
              For legal entity, the corporate name or trade name of the receiver's account must be provided.
    EnumPaymentPersonType:
      type: string
      enum:
        - PESSOA_NATURAL
        - PESSOA_JURIDICA
      example: PESSOA_NATURAL
      description: |
        Holder, natural or legal person to whom the receiver (creditor) data refers.
    ErrorResponse:
      type: object
      properties:
        errors:
          type: array
          items:
            $ref: "#/components/schemas/ApiError"
        meta:
          $ref: "#/components/schemas/Meta"
    KeyValueObject:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    Links:
      type: object
      properties:
        self:
          type: string
          example: https://api.banco.com.br/open-banking/api/v1/resource
        first:
          type: string
          example: https://api.banco.com.br/open-banking/api/v1/resource
        prev:
          type: string
          example: https://api.banco.com.br/open-banking/api/v1/resource
        next:
          type: string
          example: https://api.banco.com.br/open-banking/api/v1/resource
        last:
          type: string
          example: https://api.banco.com.br/open-banking/api/v1/resource
    LocalInstrumentEnum:
      enum:
        - MANU
        - DICT
        - QRDN
        - QRES
        - INIC
      type: string
    LoggedUser:
      required:
        - document
      type: object
      properties:
        document:
          allOf:
            - $ref: "#/components/schemas/LoggedUserDocument"
            - nullable: false
    LoggedUserDocument:
      required:
        - identification
        - rel
      type: object
      properties:
        identification:
          type: string
          example: "99999999999"
          nullable: false
        rel:
          type: string
          example: CPF
          nullable: false
    Meta:
      type: object
      properties:
        totalRecords:
          format: int32
          type: integer
          example: 2
        totalPages:
          format: int32
          type: integer
          example: 1
        requestDateTime:
          format: date-time
          type: string
    ModalityPaymentEnum:
      enum:
        - IMMEDIATE
        - SCHEDULED
        - SWEEPING
      type: string
    OrderTypeEnum:
      description: Consent list sorting enum. ASC -> ascending order by creation date, DESC -> descending order by creation date, OPF -> open finance ordering (active, pending, expired and closed)
      enum:
        - ASC
        - DESC
        - OPF
      type: string
    ResponsePaymentsDetailSchema:
      type: object
      properties:
        data:
          description: Service execution response
          type: array
          items:
            allOf:
              - $ref: "#/components/schemas/ResponseRecurringPaymentsDataRead"
        links:
          allOf:
            - $ref: "#/components/schemas/Links"
            - description: Service links
        meta:
          allOf:
            - $ref: "#/components/schemas/Meta"
            - description: Meta records information
    ResponseRecurringPaymentsDataRead:
      type: object
      properties:
        legacyIds:
          type: array
          items:
            $ref: "#/components/schemas/KeyValueObject"
        paymentId:
          type: string
          minLength: 1
          maxLength: 100
          pattern: '^[a-zA-Z0-9][a-zA-Z0-9\-]{0,99}$'
          example: TXpRMU9UQTROMWhZV2xSU1FUazJSMDl
          description: |
            Unique code or identifier provided by the account holding institution to represent the payment initiation. The `recurringPaymentId` must be different from the `endToEndId`.
            This is the identifier that should be used to query the status of the initiated payment.
        consentId:
          type: string
          maxLength: 256
          pattern: '^urn:[a-zA-Z0-9][a-zA-Z0-9\-]{0,31}:[a-zA-Z0-9()+,\-.:=@;$_!*''%\/?#]+$'
          example: "urn:bancoex:C1DD33123"
          description: |
            Unique identifier of the consent created for the requested payment initiation. Must be a URN - Uniform Resource Name.
            A URN, as defined in [RFC8141](https://tools.ietf.org/html/rfc8141), is a Uniform Resource
            Identifier - URI - that is assigned under the "urn" URI scheme and a specific URN namespace, with the intention that the URN
            be a persistent, location-independent resource identifier.
            Considering the string urn:bancoex:C1DD33123 as an example for `recurringConsentId` we have:
            - the namespace (urn)
            - the identifier associated with the transmitting institution's namespace (bancoex)
            - the specific identifier within the namespace (C1DD33123).
            More detailed information about namespace construction can be found in [RFC8141](https://tools.ietf.org/html/rfc8141).

            [Restriction] This field is mandatory when the authorisationFlow field value equals FIDO_FLOW.
        endToEndId:
          $ref: "#/components/schemas/EndToEndId"
        date:
          type: string
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: "2023-10-10"
          description: Date when the payment will be made.
        creationDateTime:
          type: string
          format: date-time
          maxLength: 20
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$'
          example: "2020-07-21T08:30:00Z"
          description: |
            Date and time when the payment was created.
            A string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification,
            always using UTC timezone.
        statusUpdateDateTime:
          type: string
          format: date-time
          maxLength: 20
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$'
          example: "2020-07-21T08:30:00Z"
          description: |
            Date and time when the payment status was updated.
            A string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification,
            always using UTC timezone.
        ibgeTownCode:
          type: string
          minLength: 7
          maxLength: 7
          pattern: '^\d{7}$'
          example: "5300108"
          description: |
            The ibgeTownCode field in the Pix arrangement has the same behavior as the codMun field described in item 1.6.6 of the Pix manual.

            1. If municipality information is not sent, the receiver's PSP will assume there are no state and municipal holidays in the period in question;
        status:
          $ref: "#/components/schemas/EnumPaymentStatusType"
        localInstrument:
          allOf:
            - $ref: "#/components/schemas/LocalInstrumentEnum"
            - nullable: false
        rejectionReason:
          $ref: "#/components/schemas/RejectionReason"
        cnpjInitiator:
          type: string
          pattern: '^\d{14}$'
          maxLength: 14
          example: "50685362000135"
          description: CNPJ of the Payment Initiator duly authorized to provide the Pix Initiation Service.
        payment:
          $ref: "#/components/schemas/PaymentPix"
        remittanceInformation:
          type: string
          maxLength: 140
          pattern: '[\w\W\s]*'
          example: Payment of invoice RSTO035-002.
          description: |
            Must be filled whenever the paying user enters additional information in a payment, to be sent to the receiver.
        creditorAccount:
          $ref: "#/components/schemas/CreditorAccount"
        debtorAccount:
          $ref: "#/components/schemas/DebtorAccount"
        cancellation:
          $ref: "#/components/schemas/PixPaymentCancellation"
        authorisationFlow:
          type: string
          enum:
            - HYBRID_FLOW
            - CIBA_FLOW
            - FIDO_FLOW
          example: HYBRID_FLOW
          description: |
            Conditional field used to identify the authorization flow in which the payment was requested.

            [Restriction] If CIBA or FIDO, mandatory filling. If the field is not present in the payload, it is understood that the authorization flow used is HYBRID_FLOW.
        transactionIdentification:
          type: string
          pattern: ^[a-zA-Z0-9]{1,35}$
          maxLength: 35
          example: "E00038166201907261559y6j6"
          description: |
            This is a transaction identifier that must be retransmitted intact by the payer's PSP when generating the payment order.
            This information will allow the receiver to identify and correlate the transfer, when received, with the presentation of instructions to the payer.
            The allowed characters in the Pix context for the txid field (EMV 62-05) are: lowercase letters, 'a' to 'z'; uppercase letters, 'A' to 'Z'; decimal digits, '0' to '9'.
        document:
          type: object
          description: Identification document information.
          required:
            - identification
            - rel
          properties:
            identification:
              type: string
              pattern: ^(?:\d{11}|\d{14})$
              minLength: 11
              maxLength: 14
              example: "11111111111111"
              description: Official identification document number of the natural or legal person holder.
            rel:
              type: string
              enum:
                - CPF
                - CNPJ
              example: "CNPJ"
              description: Type of official identification document of the natural or legal person holder.
    EndToEndId:
      type: string
      minLength: 32
      maxLength: 32
      pattern: "^([E])([0-9]{8})([0-9]{4})(0[1-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])(2[0-3]|[01][0-9])([0-5][0-9])([a-zA-Z0-9]{11})$"
      example: E9040088820210128000800123873170
      description: |
        This is a unique identifier, generated at the payment initiating institution and received at the account holding institution, permeating the entire Pix payment journey.

        [Restriction] The holder must mandatorily return the field with the same value received from the initiator.
    PaymentPix:
      type: object
      description: Object containing payment information.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          minLength: 4
          maxLength: 19
          pattern: '^((\d{1,16}\.\d{2}))$'
          example: "100000.12"
          description: |
            Transaction amount with 2 decimal places.
        currency:
          type: string
          maxLength: 3
          pattern: "^([A-Z]{3})$"
          example: BRL
          description: |
            National currency code according to ISO-4217 model, i.e., 'BRL'. All monetary values ​​reported are represented in Brazil's current currency.
    EnumPaymentStatusType:
      type: string
      enum:
        - RCVD
        - CANC
        - ACCP
        - ACPD
        - RJCT
        - ACSC
        - PDNG
        - SCHD
      example: PDNG
      description: |
        Current payment status. The status evolves in the following order:
        - RCVD (Received) - Indicates that the payment request was successfully received by the holder, but there are still validations to be performed before it is submitted for settlement.
        - CANC (Cancelled) - Indicates that the pending Pix transaction was successfully cancelled by the user before it was confirmed (ACCP) or rejected (RJCT) by the holder.
        - ACCP (Accepted Customer Profile) - Indicates that all necessary checks have already been performed by the holder and that the transaction is ready to be sent for settlement (in the SPI if it's Pix to another institution or internally if it's to another account in the same institution).
        - ACPD (Accepted Clearing Processed) - Indicates that the holder has already submitted the transaction for settlement, but does not yet have confirmation whether it was settled or rejected.
        - RJCT (Rejected) - Indicates that the transaction was rejected by the holder or by the SPI.
        - ACSC (Accepted Settlement Completed Debitor Account) - Indicates that the transaction was settled by the holder or by the SPI.
        - PDNG (Pending) - Indicates that the holder has temporarily retained the Pix transaction for analysis.
        - SCHD (Scheduled) - Indicates that the Pix transaction was successfully scheduled at the holder.
        In case of failure:
        - RJCT (REJECTED) - Payment instruction rejected.
    PixPaymentCancellation:
      type: object
      description: |
        Object containing data regarding the paying user who requested the cancellation, the channel used by them, and the reason.

        [Restriction] The cancellation object will only be mandatory when the status field value is equal to CANC.
      required:
        - cancelledAt
        - cancelledBy
        - reason
        - cancelledFrom
      properties:
        reason:
          $ref: "#/components/schemas/EnumPaymentCancellationReasonType"
        cancelledFrom:
          $ref: "#/components/schemas/EnumPaymentCancellationFromType"
        cancelledAt:
          type: string
          description: "Date and time the cancellation was performed, according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification, UTC format."
          format: date-time
          maxLength: 20
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$'
          example: "2021-05-21T08:30:00Z"
        cancelledBy:
          type: object
          description: Information related to the paying user who requested the payment cancellation.
          required:
            - document
          properties:
            document:
              type: object
              description: Object that consolidates the document data of the user who requested the cancellation.
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 11
                  description: Document number of the paying user responsible for canceling the payment.
                  example: "11111111111"
                  pattern: '^\d{11}$'
                rel:
                  type: string
                  maxLength: 3
                  description: Document type of the paying user responsible for canceling the payment.
                  example: CPF
                  pattern: "^[A-Z]{3}$"
    EnumPaymentCancellationFromType:
      type: string
      enum:
        - INICIADORA
        - DETENTORA
      example: INICIADORA
      description: |
        Field used to inform the means by which the cancellation was performed.

        Possible values:

        INICIADORA - Payment canceled by the paying user through the initiator's channels

        DETENTORA - Payment canceled by the paying user through the holder's channels
    EnumPaymentCancellationReasonType:
      type: string
      enum:
        - CANCELADO_PENDENCIA
        - CANCELADO_AGENDAMENTO
        - CANCELADO_MULTIPLAS_ALCADAS
      example: CANCELADO_PENDENCIA
      description: |
        The completion of this field for return must be done by the account holder based on the payment status at the time of the cancellation request (e.g., Payment status = PDNG, field must be filled with enum CANCELADO_PENDENCIA)

        Possible values:

        CANCELADO_PENDENCIA - Payment canceled while in PDNG situation

        CANCELADO_AGENDAMENTO - Payment canceled while in SCHD situation

        CANCELADO_MULTIPLAS_ALCADAS - Payment canceled while in PATC situation
    PaymentConsent:
      required:
        - type
        - currency
        - amount
      type: object
      properties:
        type:
          allOf:
            - $ref: "#/components/schemas/PaymentTypeEnum"
            - nullable: false
        date:
          type: string
          example: 2021-12-01
        currency:
          type: string
          example: BRL
          nullable: false
        amount:
          type: string
          example: "100000.12"
          nullable: false
        ibgeTownCode:
          type: string
          example: "5300108"
        details:
          $ref: "#/components/schemas/PaymentDetails"
        creditorAccount:
          $ref: "#/components/schemas/CreditorAccount"
        schedule:
          $ref: "#/components/schemas/SchedulePayment"
    PaymentData:
      type: object
      properties:
        creditor:
          $ref: "#/components/schemas/Creditor"
        creditors:
          $ref: "#/components/schemas/Creditors"
        payment:
          $ref: "#/components/schemas/PaymentConsent"
        debtorAccount:
          $ref: "#/components/schemas/DebtorAccount"
        recurringConfiguration:
          $ref: "#/components/schemas/RecurringConfiguration"
        riskSignals:
          $ref: "#/components/schemas/RiskSignalsConsents"
    PaymentDetails:
      required:
        - localInstrument
        - creditorAccount
      type: object
      properties:
        localInstrument:
          allOf:
            - $ref: "#/components/schemas/LocalInstrumentEnum"
            - nullable: false
        qrCode:
          maxLength: 512
          type: string
          example:
            "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012\
            \  \nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062\
            \  \n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB\
            \  \nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n"
        proxy:
          maxLength: 77
          type: string
          example: "12345678901"
        creditorAccount:
          allOf:
            - $ref: "#/components/schemas/CreditorAccount"
            - nullable: false
    RiskSignalsConsents:
      type: object
      required:
        - deviceId
        - isRootedDevice
        - screenBrightness
        - elapsedTimeSinceBoot
        - osVersion
        - userTimeZoneOffset
        - language
        - screenDimensions
        - accountTenure
      description: |
        Risk signals for automatic payment initiation

        [Restriction] Must be sent when the consent is for the Pix Automatic product (the object "/data/recurringConfiguration/automatic" used in oneOf). Will only be present after the first long-term consent edition.
      properties:
        deviceId:
          type: string
          description: Unique device ID generated by the platform.
          example: 00000000-54b3-e7c7-0000-000046bffd97
        isRootedDevice:
          type: boolean
          description: Indicates whether the device currently has root permission.
          example: false
        screenBrightness:
          type: number
          format: double
          description: |
            Indicates the screen brightness level of the device.
            On Android devices, the value is an integer between 0 and 255, inclusive;
            On iOS devices, the value is a floating point number between 0.0 and 1.0.
        elapsedTimeSinceBoot:
          type: integer
          format: int64
          description: Indicates how long (in milliseconds) the device has been turned on.
        osVersion:
          type: string
          description: Operating system version.
        userTimeZoneOffset:
          type: string
          description: |
            Indicates the user's device timezone setting, in UTC offset format: ±hh[:mm]
        language:
          type: string
          description: Indicates the device language in ISO 639-1 format.
        screenDimensions:
          type: object
          description: Device screen dimensions
          required:
            - height
            - width
          properties:
            height:
              type: integer
              format: int64
              description: Screen height, in pixels.
            width:
              type: integer
              format: int64
              description: Screen width, in pixels.
        accountTenure:
          type: string
          format: date
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          description: Customer registration date at the initiator.
        geolocation:
          type: object
          description: Customer geolocation data while logged into the initiator
          properties:
            latitude:
              type: number
              format: double
              description: Latitudinal coordinate of the customer while logged into the initiator
            longitude:
              type: number
              format: double
              description: Longitudinal coordinate of the customer while logged into the initiator
            type:
              type: string
              description: |
                Type of mechanism used in generating the geolocation
              enum:
                - COARSE
                - FINE
                - INFERRED
        isCallInProgress:
          type: boolean
          description: |
            Indicates an active call at the time of enrollment.

            [Restriction] If the risk signal is available (client allowed it to be collected), it must be sent
        isDevModeEnabled:
          type: boolean
          description: Indicates whether the device is in developer mode.
        isMockGPS:
          type: boolean
          description: Indicates whether the device is using a fake GPS.
        isEmulated:
          type: boolean
          description: Indicates whether the device is emulated or real.
        isMonkeyRunner:
          type: boolean
          description: Indicates the use of MonkeyRunner.
        isCharging:
          type: boolean
          description: Indicates whether the device battery is charging.
        antennaInformation:
          type: string
          description: Indicates which antenna the device is connected to.
        isUsbConnected:
          type: boolean
          description: Indicates whether the device is connected to another device via USB.
        integrity:
          type: object
          description: |
            Informs the integrity of the device and app.
            On Android, according to Play API Integrity documentation - [Android](https://developer.android.com/google/play/integrity/overview?hl=en).
            On iOS, according to App Attest documentation [iOS](https://developer.apple.com/documentation/devicecheck/establishing_your_app_s_integrity)
          properties:
            appRecognitionVerdict:
              type: string
              description: Informs the app integrity
            deviceRecognitionVerdict:
              type: string
              description: Informs the device integrity
    RecurringConfiguration:
      type: object
      description: Field intended for configuration of different recurring payment products.
      oneOf:
        - $ref: "#/components/schemas/Automatic"
        - $ref: "#/components/schemas/Sweeping"
    Automatic:
      type: object
      required:
        - automatic
      properties:
        automatic:
          type: object
          description: Recurrence configuration definition for automatic payments
          required:
            - contractId
            - interval
            - contractDebtor
            - isRetryAccepted
            - useOverdraftLimit
            - referenceStartDate
          properties:
            contractId:
              type: string
              pattern: '^[a-zA-Z0-9]{1,35}$'
              minLength: 1
              maxLength: 35
              example: XE00038166201907261559y6j6
              description: Transaction contract identifier
            fixedAmount:
              type: string
              pattern: '^((\d{1,16}\.\d{2}))$'
              minLength: 4
              maxLength: 19
              example: '100000.12'
              description: |
                Fixed charge amount, if filled, represents a consent for payments of fixed amounts, or not subject to change during the consent term.
                
                [Restriction] Mutually exclusive with the field “/data/recurringConfiguration/automatic/maximumVariableAmount”
            maximumVariableAmount:
              type: string
              pattern: '^((\d{1,16}\.\d{2}))$'
              minLength: 4
              maxLength: 19
              example: '1000000.12'
              description: |
                Maximum amount allowed per charge, if filled, represents a consent for variable amount payments.
                
                [Restriction] Mutually exclusive with the field “/data/recurringConfiguration/automatic/fixedAmount”
            interval:
              type: string
              enum:
                - SEMANAL
                - MENSAL
                - ANUAL
                - SEMESTRAL
                - TRIMESTRAL
              example: SEMANAL
              description: |
                Defines the allowed periodicity for carrying out transactions
                - WEEKLY
                - MONTHLY
                - ANNUAL
                - SEMIANNUAL
                - QUARTERLY
            contractDebtor:
              $ref: "#/components/schemas/ContractDebtor"
            firstPayment:
              $ref: "#/components/schemas/FirstPayment"
            minimumVariableAmount:
              type: string
              pattern: ^((\d{1,16}\.\d{2}))$
              minLength: 4
              maxLength: 19
              example: '100000.12'
              description: |
                Amount defined by the receiving user.
                If the paying user assigns a maximum amount for the payments of that authorization, it cannot be less than the minimum amount (floor) defined by the receiving user.
                Cannot be filled in fixed amount authorizations.
            isRetryAccepted:
              type: boolean
              description: Indicates whether the receiving client allows payment attempts (extra day), according to the rules established in the Pix arrangement.
              example: false
            useOverdraftLimit:
              type: boolean
              default: true
              example: true
              description: Indicates whether the paying user authorized the use of pre-approved limit (overdraft) in their account for making payments, if the client has the product.
            referenceStartDate:
              type: string
              format: date
              pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
              description: |
                Represents the expected date for the first occurrence of a payment associated with the recurrence.
                A string with date and time according to [RFC-3339](https://datatracker.ietf.org/doc/html/rfc3339) specification, always using UTC timezone.
              example: '2023-05-21'
    ContractDebtor:
      type: object
      description: Information about the contract debtor client.
      required: 
        - name
        - document
      properties:
        name:
          type: string
          pattern: ^([A-Za-zÀ-ÖØ-öø-ÿ,.@:&*+_<>()!?/\\$%\d' -]+)$
          maxLength: 120
          example: Policarpo Quaresma
          description: For natural persons, the full name of the contract debtor holder must be provided.
        document:
          type: object
          required:
            - identification
            - rel
          properties:
            identification:
              type: string
              maxLength: 14
              description: Official identification document number of the contract debtor client.
              example: '11111111111111'
              pattern: '^(?:\d{11}|\d{14})$'
            rel:
              type: string
              description: Type of official identification document of the contract debtor client.
              enum:
                - CPF
                - CNPJ
    FirstPayment:
      type: object
      description: |
        Definitions for the first payment. Considered as the payment for service subscription by the paying user. For cases where the receiving account and the paying account belong to the same holder, the holder must ensure that the credit account provided belongs to the holder of the CNPJ sent in the “/data/creditors/cpfCnpj” field. The credit account informed at the time of the first payment must be the same as the one informed within this object. If not respected, the holder must reject the payment with reason DETALHE_PAGAMENTO_INVALIDO, synchronously (HTTP 422) or asynchronously (HTTP 200).
      required:
        - type
        - date
        - currency
        - amount
        - creditorAccount
      properties:
        type:
          $ref: "#/components/schemas/EnumPaymentType"
        date:
          type: string
          format: date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2021-01-01'
          description: |  
            Defines the target date for payment settlement.
            Brasília timezone must be used for creating and rationalizing data in this field.
        currency:
          type: string
          maxLength: 3
          pattern: '^([A-Z]{3})$'
          example: BRL
          description: |
            National currency code according to ISO-4217 model, i.e., 'BRL'.
            All monetary values ​​reported are represented in Brazil's current currency.
        amount:
          type: string
          minLength: 4
          maxLength: 19
          pattern: '^((\d{1,16}\.\d{2}))$'
          example: '100000.12'
          description: |
            Transaction amount with 2 decimal places.
        remittanceInformation:
          type: string
          maxLength: 140
          pattern: '[\w\W\s]*'
          example: 'Payment of invoice RSTO035-002'
          description: |
            Must be filled whenever the paying user enters additional information in a payment, to be sent to the receiver.
        creditorAccount:
          $ref: "#/components/schemas/CreditorAccountConsent"
    CreditorAccountConsent:
      type: object
      description: |
        Receives the receiving user's account data.
      required:
        - ispb
        - number
        - accountType
      properties:
        ispb:
          type: string
          minLength: 8
          maxLength: 8
          pattern: '^[0-9]{8}$'
          example: '12345678'
          description: |
            Must be filled with the ISPB (Brazilian Payment System Identifier) of the SPI participant (instant payment system) with numbers only.
        issuer:
          type: string
          minLength: 1
          maxLength: 4
          pattern: '^[0-9]{1,4}$'
          example: '1774'
          description: |
            Code of the issuing branch of the account without check digit.
            (Branch is the dependency intended for serving clients, the general public, and credit cooperative associates,
            in the exercise of the institution's activities, and cannot be mobile or temporary).
            
            [Restriction] Mandatory filling for the following account types: CACC (CHECKING_ACCOUNT) and SVGS (SAVINGS_ACCOUNT).
        number:
          type: string
          minLength: 1
          maxLength: 20
          pattern: '^[0-9]{1,20}$'
          example: '1234567890'
          description: |
            Must be filled with the paying user's transactional account number, with check digit (if it exists),
            if there is an alphanumeric value, it must be converted to 0.
        accountType:
          $ref: "#/components/schemas/EnumAccountTypeConsents"
    EnumAccountTypeConsents:
      type: string
      enum:
        - CACC
        - SVGS
        - TRAN
      example: CACC
      description: |
        Types of accounts used for payment.
        Traditional modalities provided for by Resolution 4.753, not including linked accounts,
        accounts of domiciled abroad, foreign currency accounts, and electronic currency correspondent account.
        Below is the description of each ENUM value.

        - CACC - Current Account.
        - SVGS - Savings Account.
        - TRAN - Prepaid Payment Account.
    EnumPaymentType:
      type: string
      enum:
        - PIX
      example: PIX
      description: |
        This field defines the type of payment that will be initiated after consent authorization.
    EnumRejectionReasonCodeGet:
      type: string
      enum:
        - SALDO_INSUFICIENTE
        - VALOR_ACIMA_LIMITE
        - VALOR_INVALIDO
        - NAO_INFORMADO
        - PAGAMENTO_DIVERGENTE_CONSENTIMENTO
        - PAGAMENTO_RECUSADO_DETENTORA
        - PAGAMENTO_RECUSADO_SPI
        - CONSENTIMENTO_INVALIDO
        - FALHA_INFRAESTRUTURA_SPI
        - FALHA_INFRAESTRUTURA_ICP
        - FALHA_INFRAESTRUTURA_PSP_RECEBEDOR
        - FALHA_INFRAESTRUTURA_DETENTORA
        - LIMITE_PERIODO_VALOR_EXCEDIDO
        - LIMITE_PERIODO_QUANTIDADE_EXCEDIDO
        - TITULARIDADE_INCONSISTENTE
        - LIMITE_VALOR_TOTAL_CONSENTIMENTO_EXCEDIDO
        - LIMITE_VALOR_TRANSACAO_CONSENTIMENTO_EXCEDIDO
        - CONSENTIMENTO_REVOGADO
        - LIMITE_TENTATIVAS_EXCEDIDO
        - FORA_PRAZO_PERMITIDO
        - DETALHE_TENTATIVA_INVALIDO
        - DETALHE_PAGAMENTO_INVALIDO
      example: SALDO_INSUFICIENTE
      description: |
        Payment rejection reason identifier code.
        Complementary information about the status reason.
        - INSUFFICIENT_BALANCE
        - AMOUNT_ABOVE_LIMIT
        - INVALID_AMOUNT
        - NOT_INFORMED
        - PAYMENT_DIVERGENT_FROM_CONSENT
        - PAYMENT_REFUSED_BY_HOLDER
        - PAYMENT_REFUSED_BY_SPI
        - INVALID_CONSENT
        - SPI_INFRASTRUCTURE_FAILURE
        - ICP_INFRASTRUCTURE_FAILURE
        - RECEIVER_PSP_INFRASTRUCTURE_FAILURE
        - HOLDER_INFRASTRUCTURE_FAILURE
        - PERIOD_VALUE_LIMIT_EXCEEDED
        - PERIOD_QUANTITY_LIMIT_EXCEEDED
        - INCONSISTENT_OWNERSHIP
        - TOTAL_CONSENT_VALUE_LIMIT_EXCEEDED
        - CONSENT_TRANSACTION_VALUE_LIMIT_EXCEEDED: The transaction value exceeds the per-transaction value limit
        - REVOKED_CONSENT
        - ATTEMPT_LIMIT_EXCEEDED
        - OUTSIDE_ALLOWED_DEADLINE
        - INVALID_ATTEMPT_DETAIL
        - INVALID_PAYMENT_DETAIL

        [Restriction] This reason must be sent when the `/data/status` field is equal to RJCT (REJECTED).
    Sweeping:
      type: object
      required:
        - sweeping
      properties:
        sweeping:
          type: object
          description: Recurrence configuration definition for automatic fund transfers.
          properties:
            totalAllowedAmount:
              type: string
              minLength: 4
              maxLength: 19
              pattern: '^((\d{1,16}\.\d{2}))$'
              example: "100000.12"
              description: Maximum amount to be reached by the sum of all transactions using the consent authorized by the client. If the amount is exceeded, the account holder must deny the transaction requested by the initiator.
            transactionLimit:
              type: string
              pattern: '^((\d{1,16}\.\d{2}))$'
              minLength: 4
              maxLength: 19
              example: "1000000.12"
              description: Maximum amount for each payment transaction associated with this consent. If the payment amount is greater than this limit, the account holder must reject the payment transaction.
            periodicLimits:
              $ref: "#/components/schemas/PeriodicLimits"
    PeriodicLimits:
      type: object
      description: Transaction limits per period determined by the paying user.
      properties:
        day:
          $ref: "#/components/schemas/Day"
        week:
          $ref: "#/components/schemas/Week"
        month:
          $ref: "#/components/schemas/Month"
        year:
          $ref: "#/components/schemas/Year"
    Day:
      type: object
      description: |
        Configure daily transactional limit determined by the paying user.

        [Restriction] If the object is sent, at least one of the fields (`quantityLimit` or `transactionLimit`) must be filled.
      properties:
        quantityLimit:
          type: integer
          example: 2
          description: Limit quantity of transactions allowed to occur during a day.
        transactionLimit:
          type: string
          pattern: '^((\d{1,16}\.\d{2}))$'
          minLength: 4
          maxLength: 19
          example: "100000.12"
          description: Maximum amount to be transacted daily.
    Week:
      type: object
      description: |
        Configure weekly transactional limit determined by the paying user.

        [Restriction] If the object is sent, at least one of the fields (`quantityLimit` or `transactionLimit`) must be filled.
      properties:
        quantityLimit:
          type: integer
          example: 10
          description: Limit quantity of transactions allowed to occur during a week.
        transactionLimit:
          type: string
          pattern: '^((\d{1,16}\.\d{2}))$'
          minLength: 4
          maxLength: 19
          example: "100000.12"
          description: Maximum amount to be transacted weekly.
    Month:
      type: object
      description: |
        Configure monthly transactional limit determined by the paying user.

        [Restriction] If the object is sent, at least one of the fields (`quantityLimit` or `transactionLimit`) must be filled.
      properties:
        quantityLimit:
          type: integer
          example: 30
          description: Limit quantity of transactions allowed to occur during a month.
        transactionLimit:
          type: string
          pattern: '^((\d{1,16}\.\d{2}))$'
          minLength: 4
          maxLength: 19
          example: "100000.12"
          description: Maximum amount to be transacted monthly.
    Year:
      type: object
      description: |
        Configure annual transactional limit determined by the paying user.

        [Restriction] If the object is sent, at least one of the fields (`quantityLimit` or `transactionLimit`) must be filled.
      properties:
        quantityLimit:
          type: integer
          example: 100
          description: Limit quantity of transactions allowed to occur during a year.
        transactionLimit:
          type: string
          pattern: '^((\d{1,16}\.\d{2}))$'
          minLength: 4
          maxLength: 19
          example: "100000.12"
          description: Maximum amount to be transacted over one year, starting from the date defined in the `/data/startDateTime` field.
    PaymentPersonTypeEnum:
      enum:
        - PESSOA_NATURAL
        - PESSOA_JURIDICA
      type: string
    PaymentTypeEnum:
      enum:
        - PIX
      type: string
    Permission:
      type: object
      properties:
        name:
          type: string
          example: Permission's name
        title:
          type: string
          example: Intelligible name for the permission
        description:
          type: string
          example: Description for what this permission allows
    RequestRevokeOobConsent:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/RevokeConsentData"
            - nullable: false
        applicationName:
          description: Client application name
          type: string
    RequestRevokeOobPaymentConsent:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/RevokePaymentConsentData"
            - nullable: false
        applicationName:
          description: Client application name
          type: string
    RequestRevokeOobPaymentPayment:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/RevokePaymentPaymentData"
        applicationName:
          description: Client application name
          type: string
    RequestPaymentConsentAuthorisation:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/RequestPaymentConsentAuthorisationData"
    RequestPaymentStatusChangeNotification:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/PaymentStatusChangeData"
            - description: Payment status change notification data
              nullable: false
    RequestResourceUpdateNotification:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/ResourceUpdateData"
            - description: Updated non-selectable resource data
              nullable: false
    ResourceUpdateData:
        required:
          - key
          - type
        type: object
        properties:
          key:
            type: string
            example: 11111678912329
            nullable: false
            description: Identifier of the updated resource owner. Can be a CPF, CNPJ or a SEARCH KEY
          type:
            $ref: "#/components/schemas/UnselectableResourceTypeEnum"
            description: Type of non-selectable resource that was changed
    UnselectableResourceTypeEnum:
      enum:
        - LOAN
        - FINANCING
        - UNARRANGED_ACCOUNT_OVERDRAFT
        - INVOICE_FINANCING
        - BANK_FIXED_INCOME
        - CREDIT_FIXED_INCOME
        - VARIABLE_INCOME
        - TREASURE_TITLE
        - FUND
        - EXCHANGE
      type: string
    PaymentIdLegacy:
      required:
        - key
      type: object
      description: Key/Value pair for the payment id found on the legacy system
      properties:
        key:
          type: string
          example: internalPaymentId
          nullable: false
        value:
          type: string
          example: b5abdcde-7186-453a-a676-7f3955cef167
    Resource:
      type: object
      properties:
        resourceId:
          type: string
        type:
          $ref: "#/components/schemas/ResourceTypeEnum"
        status:
          $ref: "#/components/schemas/StatusResourceEnum"
        legacyId:
          type: array
          items:
            $ref: "#/components/schemas/KeyValueObject"
    ResourcePaymentId:
      required:
        - externalId
      type: object
      properties:
        externalId:
          type: string
          nullable: false
        legacyIds:
          type: array
          items:
            $ref: "#/components/schemas/KeyValueObject"
    ResourceTypeEnum:
      enum:
        - CUSTOMER
        - CREDIT_CARD_ACCOUNT
        - ACCOUNT
        - LOAN
        - FINANCING
        - UNARRANGED_ACCOUNT_OVERDRAFT
        - INVOICE_FINANCING
        - PAYMENT
        - BANK_FIXED_INCOME
        - CREDIT_FIXED_INCOME
        - VARIABLE_INCOME
        - TREASURE_TITLE
        - FUND
        - EXCHANGE
      type: string
    ResponseConsentDetailSchema:
      type: object
      description: Service execution response
      properties:
        data:
          $ref: "#/components/schemas/ConsentDetail"
    ResponseConsentExtendsSchema:
      type: object
      properties:
        data:
          description: Service execution response
          type: array
          items:
            $ref: "#/components/schemas/ConsentExtends"
        links:
          allOf:
            - $ref: "#/components/schemas/Links"
            - description: Service links
        meta:
          allOf:
            - $ref: "#/components/schemas/Meta"
            - description: Meta records information
    ResponseConsentSummaryPaginationSchema:
      type: object
      properties:
        data:
          description: Service execution response
          type: array
          items:
            $ref: "#/components/schemas/ConsentSummary"
        links:
          allOf:
            - $ref: "#/components/schemas/Links"
            - description: Service links
        meta:
          allOf:
            - $ref: "#/components/schemas/Meta"
            - description: Meta records information
    ConsentRevocation:
      oneOf:
        - $ref: "#/components/schemas/Revocation"
        - $ref: "#/components/schemas/RevocationPaymentOob"
        - $ref: "#/components/schemas/RevocationEnrollment"
    ConsentRejection:
      oneOf:
        - $ref: "#/components/schemas/Rejection"
        - $ref: "#/components/schemas/RejectionPaymentOob"
        - $ref: "#/components/schemas/RejectionEnrollment"
    Revocation:
      description: Data Sharing consent revocation information
      required:
        - revokedBy
        - reason
      type: object
      properties:
        loggedUser:
          $ref: "#/components/schemas/LoggedUser"
        revokedBy:
          allOf:
            - $ref: "#/components/schemas/RevokedByEnum"
            - example: TPP
              nullable: false
        reason:
          allOf:
            - $ref: "#/components/schemas/RevocationReason"
            - nullable: false
    Rejection:
      description: Data Sharing consent rejection information
      required:
        - reason
        - rejectedBy
      type: object
      properties:
        loggedUser:
          $ref: "#/components/schemas/LoggedUser"
        reason:
          allOf:
            - $ref: "#/components/schemas/RejectedReason"
            - nullable: false
        rejectedBy:
          allOf:
            - $ref: "#/components/schemas/RejectedByEnum"
            - example: USER
              nullable: false
    RevocationReason:
      required:
        - code
      type: object
      properties:
        additionalInformation:
          maxLength: 140
          type: string
          example: Fraud risk identified
        code:
          allOf:
            - $ref: "#/components/schemas/RevocationReasonCodeEnum"
            - example: FRAUD
              nullable: false
    RevocationEnrollment:
      type: object
      required:
        - cancelledFrom
        - reason
      properties:
        cancelledBy:
          $ref: "#/components/schemas/LoggedUser"
        reason:
          type: object
          required:
            - code
          description: Account enrollment revocation reason.
          properties:
            code:
              $ref: "#/components/schemas/EnrollmentRevocationReasonCodeEnum"
        additionalInformation:
          type: string
          pattern: '[\w\W\s]*'
          example: Contract between initiator and holder terminated
          maxLength: 2048
        cancelledFrom:
          $ref: "#/components/schemas/EnumEnrollmentCancelledFrom"
        rejectedAt:
          $ref: "#/components/schemas/EnrollmentRejectedAt"
    RejectionEnrollment:
      type: object
      required:
        - cancelledFrom
        - reason
      properties:
        cancelledBy:
          $ref: "#/components/schemas/LoggedUser"
        reason:
          type: object
          required:
            - code
          description: Account enrollment revocation reason.
          properties:
            code:
              $ref: "#/components/schemas/EnrollmentRejectedReasonCodeEnum"
        additionalInformation:
          type: string
          pattern: '[\w\W\s]*'
          example: Contract between initiator and holder terminated
          maxLength: 2048
        cancelledFrom:
          $ref: "#/components/schemas/EnumEnrollmentCancelledFrom"
        rejectedAt:
          $ref: "#/components/schemas/EnrollmentRejectedAt"
    RejectedReason:
      required:
        - code
      type: object
      properties:
        additionalInformation:
          maxLength: 140
          type: string
          example: Fraud risk identified
        code:
          allOf:
            - $ref: "#/components/schemas/RejectedReasonCodeEnum"
            - example: CONSENT_EXPIRED
              nullable: false
    RevocationReasonCodeEnum:
      enum:
        - FRAUD
        - ACCOUNT_CLOSURE
        - OTHER
      type: string
    EnrollmentRevocationReasonCodeEnum:
      enum:
        - REVOGADO_VALIDADE_EXPIRADA
        - REVOGADO_MANUALMENTE
        - REVOGADO_FALHA_INFRAESTRUTURA
        - REVOGADO_SEGURANCA_INTERNA
        - REVOGADO_OUTRO
      type: string
    RevokePaymentConsentData:
      type: object
      properties:
        rejection:
          $ref: "#/components/schemas/RejectionPaymentOob"
        revocation:
          $ref: "#/components/schemas/RevocationPaymentOob"
    RevokePaymentPaymentData:
      type: object
      required:
        - legacyId
      properties:
        legacyId:
          type: array
          items:
            $ref: "#/components/schemas/KeyValueObject"
      allOf:
        - $ref: "#/components/schemas/RevokePaymentConsentData"
    RequestPaymentConsentAuthorisationData:
      type: object
      required:
        - authorised
      properties:
        authorised:
          type: boolean
          example: true
    RejectedReasonCodeEnum:
      enum:
        - CONSENT_EXPIRED
        - CUSTOMER_MANUALLY_REJECTED
        - CUSTOMER_MANUALLY_REVOKED
        - CONSENT_MAX_DATE_REACHED
        - CONSENT_TECHNICAL_ISSUE
        - INTERNAL_SECURITY_REASON
      type: string
    EnrollmentRejectedReasonCodeEnum:
      enum:
        - REJEITADO_TEMPO_EXPIRADO_RISK_SIGNALS,
        - REJEITADO_TEMPO_EXPIRADO_ACCOUNT_HOLDER_VALIDATION,
        - REJEITADO_TEMPO_EXPIRADO_ENROLLMENT,
        - REJEITADO_MAXIMO_CHALLENGES_ATINGIDO,
        - REJEITADO_MANUALMENTE,
        - REJEITADO_DISPOSITIVO_INCOMPATIVEL,
        - REJEITADO_FALHA_INFRAESTRUTURA,
        - REJEITADO_SEGURANCA_INTERNA,
        - REJEITADO_FALHA_HYBRID_FLOW,
        - REJEITADO_FALHA_FIDO,
        - REJEITADO_OUTRO
      type: string
    RevocationPaymentOob:
      type: object
      properties:
        revokedFrom:
          $ref: "#/components/schemas/RecurringConsentRejectedFromEnum"
        reason:
          $ref: "#/components/schemas/RecurringConsentRevocationReason"
        revokedAt:
          format: date-time
          type: string
        revokedBy:
          $ref: "#/components/schemas/RevokedByAutomaticPaymentEnum"
    RevokedByAutomaticPaymentEnum:
      enum:
        - INICIADORA
        - USUARIO
        - DETENTORA
      type: string
    RejectionPaymentOob:
      type: object
      properties:
        rejectedFrom:
          $ref: "#/components/schemas/RecurringConsentRejectedFromEnum"
        reason:
          $ref: "#/components/schemas/RejectionReason"
        rejectedAt:
          format: date-time
          type: string
        rejectedBy:
          $ref: "#/components/schemas/RejectedByAutomaticPaymentEnum"
    RejectedByAutomaticPaymentEnum:
      enum:
        - INICIADORA
        - USUARIO
        - DETENTORA
      type: string
    RecurringConsentRevocationReason:
      type: object
      properties:
        code:
          $ref: "#/components/schemas/ConsentRevocationReasonCodeEnum"
        detail:
          type: string
    RejectionReason:
      required:
        - code
        - detail
      type: object
      properties:
        code:
          allOf:
            - $ref: "#/components/schemas/ConsentRejectionReasonCodeEnum"
            - example: CONTAS_ORIGEM_DESTINO_IGUAIS
        detail:
          type: string
    EnrollmentRejectedReason:
      required:
        - code
      type: object
      properties:
        additionalInformation:
          maxLength: 140
          type: string
          example: Reason when code REJEITADO_OUTRO
        code:
          allOf:
            - $ref: "#/components/schemas/EnrollmentRejectedReasonCodeEnum"
            - example: REJEITADO_TEMPO_EXPIRADO_RISK_SIGNALS
              nullable: false
    RecurringConsentRejectedFromEnum:
      enum:
        - INICIADORA
        - DETENTORA
      type: string
    ConsentRevocationReasonCodeEnum:
      enum:
        - NAO_INFORMADO
        - REVOGADO_USUARIO
        - REVOGADO_RECEBEDOR
      type: string
    ConsentRejectionReasonCodeEnum:
      enum:
        - VALOR_INVALIDO
        - NAO_INFORMADO
        - FALHA_INFRAESTRUTURA
        - TEMPO_EXPIRADO_AUTORIZACAO
        - TEMPO_EXPIRADO_CONSUMO
        - REJEITADO_USUARIO
        - CONTAS_ORIGEM_DESTINO_IGUAIS
        - CONTA_NAO_PERMITE_PAGAMENTO
        - SALDO_INSUFICIENTE
        - VALOR_ACIMA_LIMITE
        - QRCODE_INVALIDO
        - CONTA_DIVERGENTE_DA_SOLICITADA
      type: string
    PaymentStatusEnum:
      enum:
        - RCVD
        - ACCP
        - ACPD
        - ACSC
        - PATC
        - SCHD
        - CANC
        - PDNG
        - RJCT
      type: string
    StatusUpdateDateTime:
      type: string
      format: date-time
      pattern: >-
        ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
      example: "2020-07-21T08:30:00Z"
      description: >
        Date and time of the last payment initiation update.
        A string with date and time according to
        RFC-3339 specification, always using UTC timezone.
    RevokeConsentData:
      required:
        - status
        - revocation
      type: object
      properties:
        revocation:
          allOf:
            - $ref: "#/components/schemas/Revocation"
            - nullable: false
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
            - example: REVOKED
              nullable: false
    PaymentStatusChangeData:
      required:
        - legacyId
        - paymentStatus
        - paymentStatusUpdateDateTime
      type: object
      properties:
        legacyId:
          description: Payment legacy id
          type: array
          items:
            $ref: "#/components/schemas/PaymentIdLegacy"
          nullable: false
        paymentStatus:
          allOf:
            - $ref: "#/components/schemas/PaymentStatusEnum"
            - example: CANC
            - nullable: false
        paymentStatusUpdateDateTime:
          allOf:
            - $ref: "#/components/schemas/StatusUpdateDateTime"
        rejectionReason:
          $ref: "#/components/schemas/PaymentRejection"
    MetadataData:
      required:
        - data
      type: object
      properties:
        data:
          type: string
    PaymentRejection:
      type: object
      description: "Payment rejection reason. Complementary information about the status reason. Must be sent when the /data/paymentStatus field is equal to RJCT (REJECTED)."
      properties:
        code:
          $ref: "#/components/schemas/PaymentRejectionReasonEnum"
        detail:
          example: "The selected account does not have sufficient balance to make the payment."
          type: string
    PaymentRejectionReasonEnum:
      type: string
      enum:
        - SALDO_INSUFICIENTE
        - VALOR_ACIMA_LIMITE
        - VALOR_INVALIDO
        - COBRANCA_INVALIDA
        - NAO_INFORMADO
        - PAGAMENTO_DIVERGENTE_CONSENTIMENTO
        - DETALHE_PAGAMENTO_INVALIDO
        - PAGAMENTO_RECUSADO_DETENTORA
        - PAGAMENTO_RECUSADO_SPI
        - FALHA_INFRAESTRUTURA
        - FALHA_INFRAESTRUTURA_SPI
        - FALHA_INFRAESTRUTURA_DICT
        - FALHA_INFRAESTRUTURA_ICP
        - FALHA_INFRAESTRUTURA_PSP_RECEBEDOR
        - FALHA_INFRAESTRUTURA_DETENTORA
        - CONTAS_ORIGEM_DESTINO_IGUAIS
        - FALHA_AGENDAMENTO_PAGAMENTOS
        - TITULARIDADE_INCONSISTENTE
    ResponseConsentListSchema:
      type: object
      properties:
        data:
          description: Service execution response
          type: array
          items:
            $ref: "#/components/schemas/ActiveConsent"
        links:
          allOf:
            - $ref: "#/components/schemas/Links"
            - description: Service links
        meta:
          allOf:
            - $ref: "#/components/schemas/Meta"
    ActiveConsent:
      type: object
      properties:
        externalId:
          description:
            The consentId is the consent's unique identifier and must be
            a URN - Uniform Resource Name
          type: string
          example: urn:amazingbank:899dd8b2-34d1-4c75-b8de-f0ffa51ca720
        personDocumentType:
          type: string
          example: CPF
        personDocumentNumber:
          type: string
          example: "77721813700"
        businessDocumentType:
          type: string
          example: CNPJ
        businessDocumentNumber:
          type: string
          example: "33273542000197"
        creationDateTime:
          format: date-time
          type: string
          example: 2022-01-30T17:31:28Z
        status:
          $ref: "#/components/schemas/StatusEnum"
        expirationDateTime:
          format: date-time
          type: string
    RevokeDataSharingConsentData:
      required:
        - data
      type: object
      properties:
        data:
          required:
            - rejection
          type: object
          properties:
            rejection:
              allOf:
                - $ref: "#/components/schemas/Rejection"
                - nullable: false
        applicationName:
          description: Client application name
          type: string
    RevokedByEnum:
      enum:
        - USER
        - ASPSP
        - TPP
      type: string
    RejectedByEnum:
      enum:
        - ASPSP
        - USER
        - TPP
      type: string
    SchedulePayment:
      required:
        - single
      type: object
      oneOf:
        - $ref: "#/components/schemas/ScheduleSingle"
        - $ref: "#/components/schemas/ScheduleDaily"
        - $ref: "#/components/schemas/ScheduleWeekly"
        - $ref: "#/components/schemas/ScheduleMonthly"
        - $ref: "#/components/schemas/ScheduleCustom"
    ScheduleSingle:
      type: object
      required:
        - single
      properties:
        single:
          type: object
          description: Defines the single scheduling policy.
          required:
            - date
          properties:
            date:
              type: string
              format: date
              maxLength: 10
              pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
              example: "2023-08-23"
              description: |
                Defines the target date for payment settlement.
                Brasília timezone must be used for creating and rationalizing data in this field.

                [Restriction] This field must always be at least D+1 business day, that is, the immediately subsequent date
                in relation to the consent date considering Brasília timezone and must be at most D+730 business days from
                the consent date, also considering Brasília timezone.
    ScheduleDaily:
      type: object
      required:
        - daily
      properties:
        daily:
          type: object
          required:
            - startDate
            - quantity
          properties:
            startDate:
              description: Defines the beginning of the recurrence validity.
              type: string
              format: date
              pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
              maxLength: 10
              example: "2023-08-23"
            quantity:
              description: Defines the quantity of payments that will be sent for settlement.
              type: integer
              format: int32
              minimum: 2
              maximum: 60
              example: 3
            scheduleDates:
              type: array
              items:
                type: string
                format: date
                pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
                maxLength: 10
                example: "2023-08-23"
    ScheduleWeekly:
      type: object
      required:
        - weekly
      properties:
        weekly:
          type: object
          required:
            - dayOfWeek
            - startDate
            - quantity
          properties:
            dayOfWeek:
              description: Defines the day of the week planned for settlement occurrences.
              type: string
              enum:
                - MONDAY
                - TUESDAY
                - WEDNESDAY
                - THURSDAY
                - FRIDAY
                - SATURDAY
                - SUNDAY
              example: THURSDAY
            startDate:
              description: Defines the beginning of the recurrence validity.
              type: string
              format: date
              pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
              maxLength: 10
              example: "2023-08-23"
            quantity:
              description: Defines the quantity of payments that will be sent for settlement.
              type: integer
              format: int32
              minimum: 2
              maximum: 60
              example: 10
            scheduleDates:
              type: array
              items:
                type: string
                format: date
                pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
                maxLength: 10
                example: "2023-08-23"
    ScheduleMonthly:
      type: object
      required:
        - monthly
      properties:
        monthly:
          type: object
          required:
            - dayOfMonth
            - startDate
            - quantity
          properties:
            dayOfMonth:
              description: Defines the day of the month planned for settlement occurrences.
              type: integer
              minimum: 1
              maximum: 31
              example: 10
            startDate:
              description: Defines the beginning of the recurrence validity.
              type: string
              format: date
              pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
              maxLength: 10
              example: "2023-08-23"
            quantity:
              description: Defines the quantity of payments that will be sent for settlement.
              type: integer
              format: int32
              minimum: 2
              maximum: 24
              example: 24
            scheduleDates:
              type: array
              items:
                type: string
                format: date
                pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
                maxLength: 10
                example: "2023-08-23"
    ScheduleCustom:
      type: object
      required:
        - custom
      properties:
        custom:
          type: object
          description: |
            [Restriction] The dates sent in the dates array cannot be repeated.
            If repeated dates are sent, the holder must reject the consent creation, informing the error PARAMETRO_INVALIDO.
          required:
            - dates
            - additionalInformation
          properties:
            dates:
              description: Defines the days on which settlement occurrences are planned.
              type: array
              maxItems: 60
              minItems: 2
              example: ["2023-08-23", "2023-09-26"]
              items:
                type: string
                format: date
                pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
                maxLength: 10
                example: "2023-08-23"
            additionalInformation:
              type: string
              description: |
                Free text for Initiator to fill in a comprehensible way for the approving/paying user.
                The text can be used by the holder to display the transaction summary during approval by the approving/paying user.
              pattern: '[\w\W\s]*'
              maxLength: 255
              example: Every Thursday and Sunday for 6 months
            scheduleDates:
              type: array
              items:
                type: string
                format: date
                pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
                maxLength: 10
                example: "2023-08-23"
    StatusEnum:
      enum:
        - AUTHORISED
        - AWAITING_AUTHORISATION
        - REJECTED
        - CONSUMED
        - REVOKED
      type: string
    StatusResourceEnum:
      enum:
        - AVAILABLE
        - UNAVAILABLE
        - NON_SELECTED
      type: string
    UUID:
      format: uuid
      pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
      type: string
    ResponseMapItpLegacyIds:
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/PaymentLegacyIdsByItp"
            - description: Service execution response
    PaymentLegacyIdsByItp:
      type: object
      properties:
        itpLegacyIds:
          type: array
          items:
            $ref: "#/components/schemas/ItpLegacyIds"
    ItpLegacyIds:
      type: object
      properties:
        orgName:
          type: string
        legacyIds:
          type: array
          items:
            type: string
    EnrollmentData:
      type: object
      properties:
        debtorAccount:
          $ref: "#/components/schemas/DebtorAccount"
        riskSignals:
          type: array
          items:
            $ref: "#/components/schemas/PaymentManualRiskSignal"
        enrollmentName:
          type: string
          description: Name of the device authorized by the client for JSR device enrollment.
          example: "My Cell Phone"
        dailyLimit:
          format: double
          type: number
          example: 1000.00
        transactionLimit:
          format: double
          type: number
          example: 100.00
    LinkedConsents:
      type: object
      properties:
        externalId:
          type: string
          example: urn:oob-bank:2f710909-4ccd-4998-8679-3d8de00e5ccf
        creationDateTime:
          format: date-time
          type: string
          example: 2023-08-15T10:30:00Z
        status:
          $ref: "#/components/schemas/StatusEnum"
        statusUpdateDateTime:
          format: date-time
          type: string
          example: 2023-08-15T10:30:00Z
        permissions:
          type: array
          items:
            $ref: "#/components/schemas/Permission"
        expirationDateTime:
          format: date-time
          type: string
          example: 2024-08-15T10:30:00Z
        rejection:
          $ref: "#/components/schemas/Rejection"
        journey:
          type: object
          properties:
            isLinked: 
              type: boolean
              example: true
            linkId:
              type: string
              example: urn:amazingbank:9e470cb4-7d3f-4c49-9e20-018e042ae455
    PaymentManualRiskSignal:
      type: object
      properties:
        deviceId:
          type: string
          description: Unique device identifier.
        isRootedDevice:
          type: boolean
          description: Indicates if the device is rooted.
        screenBrightness:
          type: number
          format: double
          description: Device screen brightness level.
        elapsedTimeSinceBoot:
          type: integer
          format: int64
          description: Time elapsed since the last device boot.
        osVersion:
          type: string
          description: Device operating system version.
        userTimeZoneOffset:
          type: string
          description: User's time zone offset.
        language:
          type: string
          description: Language used by the device.
        screenDimensions:
          $ref: "#/components/schemas/ScreenDimensions"
        accountTenure:
          type: string
          description: Time the account has been active.
        geolocation:
          $ref: "#/components/schemas/Geolocation"
        isCallingProgress:
          type: boolean
          description: Indicates if a call is in progress.
        isDevModeEnabled:
          type: boolean
          description: Indicates if developer mode is enabled on the device.
        isMockGPS:
          type: boolean
          description: Indicates if the device is using a simulated GPS location.
        isEmulated:
          type: boolean
          description: Indicates if the device is emulated.
        isMonkeyRunner:
          type: boolean
          description: Indicates if the device is using the MonkeyRunner tool.
        isCharging:
          type: boolean
          description: Indicates if the device is currently charging.
        antennaInformation:
          type: string
          description: Information about the device antenna.
        isUsbConnected:
          type: boolean
          description: Indicates if the device is connected to a USB port.
        integrity:
          $ref: "#/components/schemas/Integrity"
    ScreenDimensions:
      type: object
      properties:
        height:
          type: integer
          format: int64
          description: Device screen height in pixels.
        width:
          type: integer
          format: int64
          description: Device screen width in pixels.
    Geolocation:
      type: object
      properties:
        latitude:
          type: number
          format: double
          description: Latitude coordinate of the device location.
        longitude:
          type: number
          format: double
          description: Longitude coordinate of the device location.
        type:
          type: string
          description: Type of geolocation data.
    Integrity:
      type: object
      properties:
        appRecognitionVerdict:
          type: string
          description: Verdict of the application recognition process.
        deviceRecognitionVerdict:
          type: string
          description: Verdict of the device recognition process.
    RequestRevokeOobEnrollmentConsent:
      required:
        - data
      type: object
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/EnrollmentDataPatch"
            - nullable: false
        applicationName:
          description: Client application name
          type: string
    EnrollmentDataPatch:
      required:
        - cancellation
      type: object
      properties:
        cancellation:
          allOf:
            - $ref: "#/components/schemas/EnrollmentCancellationPatch"
            - nullable: false
    EnrollmentCancellationPatch:
      type: object
      properties:
        cancelledBy:
          $ref: "#/components/schemas/ConsentPatchLoggedUser"
        reason:
          $ref: "#/components/schemas/EnrollmentReason"
        additionalInformation:
          maxLength: 2048
          type: string
    ConsentPatchLoggedUser:
      required:
        - document
      type: object
      properties:
        document:
          allOf:
            - $ref: "#/components/schemas/ConsentPatchDocument"
            - nullable: false
    ConsentPatchDocument:
      required:
        - identification
        - rel
      type: object
      properties:
        identification:
          type: string
          example: "52847808507"
          nullable: false
        rel:
          type: string
          example: CPF
          nullable: false
    EnrollmentReason:
      type: object
      properties:
        rejectionReason:
          $ref: "#/components/schemas/EnrollmentRejectedReasonCodeEnum"
        revocationReason:
          $ref: "#/components/schemas/EnrollmentRevocationReasonCodeEnum"
    EnumEnrollmentCancelledFrom:
      type: string
      enum:
        - INICIADORA
        - DETENTORA
      description: |
        Field used to inform the means by which the account enrollment was canceled. Possible values:

          INICIADORA - Account enrollment through the initiator's channels.

          DETENTORA - Account enrollment through the holder's channels.
    EnrollmentRejectedAt:
      type: string
      format: date-time
      example: "2023-07-12T08:30:00Z"
      pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
      maxLength: 20
      description: Account enrollment rejection timestamp in the holder's environment.
    AutomaticPaymentConsentEdition:
      type: object
      properties:
        maximumVariableAmount:
          description: Recurrence configuration definition for automatic payments, if not sent
            will be considered as undefined (no limit).
          maxLength: 19
          minLength: 4
          nullable: true
          type: string
          example: "1000000.12"
        useOverdraftLimit:
          description: Indicates whether the consent allows the use of
            overdraft limit.
          type: boolean
          example: true
    RequestPortabilityStatusUpdate:
      type: object
      properties:
        data:
          type: object
          required:
            - status
          properties:
            status:
              $ref: "#/components/schemas/PortabilityStatus"
            statusReason:
              type: object
              required:
                - reasonType
              properties:
                reasonType:
                    description: |
                      Portability request rejection reason, where:
                      
                      `CANCELADO_PELO_CLIENTE` - Client cancels the portability request
                      
                      `SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE` - Updated outstanding balance diverges (greater than 15%) from initially informed
                      
                      `POLITICA_DE_CREDITO` - Proponent withdraws offer to client due to internal policies
                      
                      `RETENCAO_DO_CLIENTE` - Client accepted counteroffer from creditor institution (within deadline)
                      
                      `CONTRATO_JA_LIQUIDADO` - Contract settled by client.
                      
                      `DIVERGENCIA_DE_PAGAMENTO_EFETUADO` - Proponent made settlement with divergent amount

                      `DECURSO_DO_PRAZO_PARA_PAGAMENTO` - Proponent made settlement outside the deadline
                      
                      `PORTABILIDADE_CANCELADA_POR_FALTA_DE_LIQUIDACAO` - Proponent did not settle the contract
                      
                      `PORTABILIDADE_EM_ANDAMENTO` - After the portability request was effected, the creditor IF identified that the client already has another portability request in progress for the same contract.
                      
                      `CLIENTE_COM_ACAO_JUDICIAL` - Has legal action

                      `MODALIDADE_DA_OPERACAO_INCOMPATIVEL` - Modality diverges from that indicated by the proponent institution

                      `OUTROS` - Rejection reason does not fit into available options
                    type: string
                    enum:
                      - CANCELADO_PELO_CLIENTE
                      - SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE
                      - POLITICA_DE_CREDITO
                      - RETENCAO_DO_CLIENTE
                      - CONTRATO_JA_LIQUIDADO
                      - DIVERGENCIA_DE_PAGAMENTO_EFETUADO
                      - DECURSO_DO_PRAZO_PARA_PAGAMENTO
                      - PORTABILIDADE_CANCELADA_POR_FALTA_DE_LIQUIDACAO
                      - PORTABILIDADE_EM_ANDAMENTO
                      - CLIENTE_COM_ACAO_JUDICIAL
                      - MODALIDADE_DA_OPERACAO_INCOMPATIVEL
                      - OUTROS
                reasonTypeAdditionalInfo: 
                  description: |
                    Information about the availability or not of a contract for credit portability.
                    When using this option, it is strongly recommended to send a ticket as a suggestion to the Open Finance structure
                    for discussion and mapping in future versions.

                    [RESTRICTION] Mandatory field when `reasonType` field equals `OUTROS`
                digitalSignatureProof:
                    type: object
                    required:
                      - documentId
                      - signatureDateTime
                    description: |
                      Counteroffer signature proof
                      
                      [RESTRICTION] Mandatory object when `reasonType` field equals `RETENCAO_DO_CLIENTE`
                    properties:
                      documentId:
                        type: string
                        pattern: ^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
                        maxLength: 100
                        minLength: 1
                        example: "54d5348c-1a3f-4ff4-a8a8-d0724fb806c6"
                        description: "Identifier code of the Document signed at the proponent institution."
                      signatureDateTime:
                        type: string
                        maxLength: 20
                        pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
                        example: "2020-07-21T08:30:00Z"
                        description: |
                          Date and time when the contract was signed by the client in the Proponent Institution's digital channel
                paymentIssueDetail:
                    type: string
                    description: |
                      Details of the inconsistency found by the Creditor Institution in the validation stage of the credit portability request settlement. Must be clear, detailed messages, for understanding between Proponent and Creditor, especially in cases that require action by one of the parties.
                      
                      [RESTRICTION] Mandatory field when the `status` field equals `PAYMENT_ISSUE`
            rejection:
                type: object
                description: |
                  Object containing details of the credit portability request cancellation with the Creditor Institution.

                  [RESTRICTION] Mandatory field when `status` equals `REJECTED` or `CANCELLED`
                required:
                  - rejectedBy
                  - reason
                properties:
                  rejectedBy:
                    type: string
                    description: |
                      Inform user responsible for proposal rejection, where:
                      PROPONENTE - Indicates that the credit portability request was rejected by the proponent, either because the
                      proponent rejected the settlement that exceeded 15% of the original contract value, among other possibilities.
                      USUARIO - Indicates that the client canceled the credit portability request.
                      CREDORA- Indicates that the Creditor Institution canceled the contract due to client retention or other reasons
                      according to refusal reason.
                    example: PROPONENTE
                    enum:
                      - PROPONENTE
                      - USUARIO
                      - CREDORA
                  reason:
                    type: object
                    description: Credit portability request rejection reason.
                    required:
                      - type
                    properties:
                      type:
                        type: string
                        description: |
                          Credit portability request rejection reason, where:
                          CANCELADO_PELO_CLIENTE - Client cancels the portability request;   
                          SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE - Updated outstanding balance diverges (greater than 15%) from initially informed;   
                          POLITICA_DE_CREDITO - Proponent withdraws offer to client due to internal policies;   
                          RETENCAO_DO_CLIENTE - Client accepted counteroffer from creditor institution (within deadline);   
                          CONTRATO_JA_LIQUIDADO - Contract settled by client;   
                          DIVERGENCIA_DE_PAGAMENTO_EFETUADO - Proponent made settlement with divergent amount;   
                          DECURSO_DO_PRAZO_PARA_PAGAMENTO - Proponent made settlement outside the deadline;   
                          PORTABILIDADE_CANCELADA_POR_FALTA_DE_LIQUIDACAO - Proponent did not settle the Portability;   
                          PORTABILIDADE_EM_ANDAMENTO - After the portability request was effected, the creditor IF identified that the client already has another portability request in progress for the same contract;   
                          CLIENTE_COM_ACAO_JUDICIAL - Has legal action;   
                          MODALIDADE_DA_OPERACAO_INCOMPATIVEL - Modality diverges from that indicated by the proponent institution;  
                          OUTROS - Rejection reason does not fit into available options.  
                        enum:
                        - CANCELADO_PELO_CLIENTE
                        - SALDO_DEVEDOR_ATUALIZADO_SUBSTANCIALMENTE_DIVERGENTE
                        - POLITICA_DE_CREDITO
                        - RETENCAO_DO_CLIENTE
                        - CONTRATO_JA_LIQUIDADO
                        - DIVERGENCIA_DE_PAGAMENTO_EFETUADO
                        - DECURSO_DO_PRAZO_PARA_PAGAMENTO 
                        - PORTABILIDADE_CANCELADA_POR_FALTA_DE_LIQUIDACAO
                        - PORTABILIDADE_EM_ANDAMENTO
                        - CLIENTE_COM_ACAO_JUDICIAL
                        - MODALIDADE_DA_OPERACAO_INCOMPATIVEL
                        - OUTROS
                        example: CANCELADO_PELO_CLIENTE
                      typeAdditionalInfo:
                        type: string
                        description: |
                          Information about the availability or not of a contract for credit portability.
                          When using this option, it is strongly recommended to send a ticket as a suggestion to the Open Finance structure for discussion and mapping in future versions.
                          
                          [RESTRICTION] Mandatory field when type field equals OUTROS.
                        maxLength: 144
                        pattern: '^(?!\s)[\w\W\s]*[^\s]$'
                        example: Additional Information
            receipt:
                type: object
                description: |
                  Object containing the original loan contract settlement receipt after the
                  credit portability request is successfully completed with the Creditor Institution.

                  [RESTRICTION] Mandatory field when `status` equals `PORTABILITY_COMPLETED`
                required:
                  - settlementDateTime
                  - settlementAmount
                  - transactionId
                properties:
                  settlementDateTime:
                    type: string
                    description: Date and time when the creditor institution settled the loan contract.
                    maxLength: 20
                    minLength: 20
                    pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$'
                    example: '2020-07-21T08:30:00Z'
                  settlementAmount:
                    type: object
                    minItems: 1
                    description: Object to represent the amount paid for settlement of the loan contract.
                    required:
                      - amount
                      - currency
                    properties:
                      amount:
                        type: string
                        format: double
                        maxLength: 20
                        minLength: 4
                        pattern: '^\d{1,15}\.\d{2,4}$'
                        example: '1000.0400'
                        description: Amount paid for settlement of the loan contract.
                      currency:
                        type: string
                        maxLength: 3
                        minLength: 3
                        pattern: '^(\w{3}){1}$'
                        example: 'BRL'
                        description: Currency referenced to the `amount` field, according to ISO-4217 model.
                  transactionId:
                    type: string
                    description: Transaction identifier used to settle the loan contract. In the context of STR0047, use the value of the return field NumCtrlSTR (STR Control Number).
                    maxLength: 20
                    minLength: 1
                    pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{1,20}$'
                    example: 'STR20181108000000013'
    ResponsePortabilityStatusUpdate:
      type: object
      properties:
        data:
          type: object
          required:
            - status
            - portabilityId
          properties:
            portabilityId:
              type: string
              description: Portability request identifier
              format: uuid
              example: 54d5348c-1a3f-4ff4-a8a8-d0724fb806c6
            status:
              $ref: "#/components/schemas/PortabilityStatus"
    PortabilityStatus:
      type: string
      description: |
        Information about the status of a credit portability request, where:
        
        - `RECEIVED`: Initial state. Indicates that the portability request was made to the creditor institution. The request must remain in this state until the next business day (D+1) when the 3 business day period for the counteroffer stage will begin and the portability request should be moved to PENDING
        - `PENDING`: Indicates that the credit portability request is in the counteroffer phase, where the creditor institution may or may not send a counteroffer to the client through any channel (email, telephone, etc.) but acceptance should only be valid if the client approves in the creditor institution's digital channel
        - `ACCEPTED_SETTLEMENT_IN_PROCESS`: Indicates that the counteroffer was not accepted by the client and the proponent institution will have to settle the contract value on the same day the state was activated
        - `ACCEPTED_SETTLEMENT_COMPLETED`: Indicates that the proponent institution has already settled the contract and informed the creditor institution, which is validating contract data as well as amounts received for settlement (at this stage the creditor institution has 2 business days to provide confirmation and the loan contract settlement receipt)
        - `PORTABILITY_COMPLETED`: Indicates that the portability request was successfully completed
        - `REJECTED`: Indicates that the credit portability request was rejected, either because the client accepted the counteroffer, or because the proponent rejected the settlement that exceeded 15% of the original contract value, among other possibilities
        - `CANCELLED`: Indicates that the client canceled the credit portability request
        - `PAYMENT_ISSUE`: Indicates that the Creditor Institution found some inconsistency in the settlement made and that the Proponent Institution should make adjustments as suggested by the Creditor Institution to resolve the pending issue before the credit portability request is canceled
      enum:
        - RECEIVED
        - PENDING
        - ACCEPTED_SETTLEMENT_IN_PROCESS
        - ACCEPTED_SETTLEMENT_COMPLETED
        - PORTABILITY_COMPLETED
        - REJECTED
        - CANCELLED
        - PAYMENT_ISSUE
    RequestToggleWebhook:
      type: object
      properties:
        active:
          type: boolean
      required:
      - active
    ResponseToggleWebhook:
      type: object
      properties:
        active:
          type: boolean
    RequestEditOobEnrollmentConsent:
      type: object
      properties:
        expirationDateTime:
          format: date-time
          type: string
          example: 2023-05-07T11:50:02Z
        dailyLimit:
          description: Daily limit for the consent
          type: string
          example: "1000.00"
        transactionLimit:
          description: Per transaction limit for the consent
          type: string
          example: "1000.00"
  securitySchemes:
    jwt:
      type: http
      description: JWT Token
      scheme: bearer
      bearerFormat: jwt
      