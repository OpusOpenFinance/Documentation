type: object
description: Only for PIX payment consents. Object containing payment data for consent.
required:
  - type
  - currency
  - amount
  - details
properties:
  type:
    type: string
    maxLength: 3
    enum:
      - PIX
    example:
      - PIX
    description: |
      This field defines the type of payment that will be initiated after the consent authorization.
  date:
    type: string
    format: date
    maxLength: 10
    pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$
    example:
      - "2021-01-01"
    description: Payment date, according to RFC-3339 specification.
  schedule:
    type: object
    description: |
      Defines the payment schedule. Used only in the payment scheduling feature.
      Mutually exclusive with the date field. This field is mandatory for scheduling. In this case, the date field must not be informed.
    properties:
      single:
        type: object
        description: Defines the single scheduling policy.
        additionalProperties: false
        required:
          - date
        properties:
          date:
            type: string
            format: date
            maxLength: 10
            pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
            example: '2021-01-01'
            description: |
              Defines the target date for payment settlement. The Brasília time zone must be used for creating and reasoning about the data in this field.
              NOTE: This field must always be at least D+1, i.e., the immediately following date concerning the consent date, considering the Brasília time zone, and at most one calendar year from the consent date, considering the Brasília time zone.
    required:
          - single
    additionalProperties: false
  currency:
    type: string
    maxLength: 3
    pattern: ^([A-Z]{3})$
    example:
      - BRL
    description: |
      National currency code according to the ISO-4217 model, i.e., 'BRL'.
      All monetary values provided are represented in the current currency of Brazil.
  amount:
    type: string
    minLength: 4
    maxLength: 19
    pattern: ^((\d{1,16}\.\d{2}))$
    example:
      - "100000.12"
    description: |
      Transaction amount with 2 decimal places.
  ibgeTownCode:
    type: string
    minLength: 7
    maxLength: 7
    pattern: ^\d{7}$
    example:
      - "5300108"
    description: |
      Provides the city code according to IBGE (Brazilian Institute of Geography and Statistics).
      To fill this field, the Payment Initiator must follow the guidelines of the payment arrangement.
      The filling of this field in both pix/payments and /consents must be the same. If there is a discrepancy in values, the institution must return HTTP 422 with the error code PAGAMENTO_DIVERGENTE_DO_CONSENTIMENTO.
      This field refers to the CodMun field in the Pix arrangement.
  details:
    type: object
    description: |
      Object containing payment details.
    required:
      - localInstrument
      - creditorAccount
    properties:
      localInstrument:
        type: string
        maxLength: 4
        enum:
          - MANU
          - DICT
          - QRDN
          - QRES
          - INIC
        example:
          - DICT
        description: |
          Specifies the payment initiation method:
          - MANU - Manual entry of transactional account data
          - DICT - Manual entry of Pix key
          - QRDN - Dynamic QR code
          - QRES - Static QR code
          - INIC - Indicates that the recipient (creditor) contracted the Payment Initiator specifically to carry out payment initiations where the beneficiary is previously known.
      qrCode:
        type: string
        maxLength: 512
        pattern: '[\w\W\s]*'
        example:
          - |
            00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012
            BR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062
            530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB
            CD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76
        description: |
          Character sequence corresponding to the QR Code made available to the payer.
          It is the character sequence that would be read by the QR Code reader, and should allow the return of the payer's data after consultation with DICT.
          This functionality is possible for both static and dynamic QR Codes.
          In the Pix arrangement, this is the same sequence generated and/or read by the Pix Copy and Paste functionality.
          This field must be in UTF-8 format.
          [Restriction] Mandatory for payments via QR Code, observing the maximum size of 512 bytes.
      proxy:
        type: string
        maxLength: 77
        pattern: '[\w\W\s]*'
        example:
          - "12345678901"
        description: |
          Key registered in DICT belonging to the recipient. Key types can be: phone, email, cpf/cnpj, or random key.
          For cell phones, it must be informed in the E.1641 standard.
          For email, it must have the format xxxxxxxx@xxxxxxx.xxx(.xx) and a maximum of 77 characters.
          For CPF, it must be informed with 11 numbers, without dots or dashes.
          For CNPJ, it must be informed with 14 numbers, without dots or dashes.
          For random key, the UUID generated by DICT must be informed, according to the format specified in RFC41223.
          If informed, the account holder must validate the proxy in DICT when localInstrument is equal to DICT, QRDN, or QRES and validate the creditorAccount field.
          This validation is optional if localInstrument is equal to INIC.
          [Restriction]
          If localInstrument is equal to MANU, the proxy field must not be filled.
          If localInstrument is equal to INIC, DICT, QRDN, or QRES, the proxy field must always be filled with the Pix key.
      creditorAccount:
        type: object
        description: |
          Object containing the identification of the beneficiary/recipient's destination account.
        required:
          - ispb
          - number
          - accountType
        properties:
          ispb:
            type: string
            minLength: 8
            maxLength: 8
            pattern: ^[0-9]{8}$
            example:
              - "12345678"
            description: |
              Must be filled with the ISPB (Identifier of the Brazilian Payment System) of the SPI (Instant Payment System) participant, numbers only.
          issuer:
            type: string
            maxLength: 4
            pattern: ^\d{4}$
            example:
              - "1774"
            description: |
              Issuing branch code of the account without the digit.
              (Branch is the unit intended for customer service, the general public, and credit union members,
              in the exercise of the institution's activities, cannot be mobile or temporary).
              [Restriction] Mandatory for the following account types: CACC (CONTA_DEPOSITO_A_VISTA), SVGS (CONTA_POUPANCA) and SLRY (CONTA_SALARIO).
          number:
            type: string
            minLength: 3
            maxLength: 20
            pattern: ^\d{3,20}$
            example:
              - "1234567890"
            description: |
              Must be filled with the receiving user's account number, with the check digit (if it exists),
              if there is an alphanumeric value, it must be converted to 0.
          accountType:
            type: string
            maxLength: 4
            enum:
              - CACC
              - SLRY
              - SVGS
              - TRAN
            example:
              - CACC
            description: |
              Types of accounts used for payment via Pix.
              Traditional modalities provided for by Resolution 4.753, not including linked accounts,
              accounts for non-residents, foreign currency accounts, and corresponding electronic currency accounts.
              Descriptions for each ENUM value for the Pix scope.
              CACC - Current - Checking Account.
              SLRY - Salary - Salary Account.
              SVGS - Savings - Savings Account.
              TRAN - TransactingAccount - Pre-paid Payment Account.
        additionalProperties: false
    additionalProperties: false
additionalProperties: false
